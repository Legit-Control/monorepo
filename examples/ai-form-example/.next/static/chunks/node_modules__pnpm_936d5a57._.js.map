{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/commit.ts"],"sourcesContent":["import { ResourceFiber, RenderResult } from \"./types\";\n\nexport function commitRender<R, P>(\n  renderResult: RenderResult,\n  fiber: ResourceFiber<R, P>,\n): void {\n  // Process all tasks collected during render\n  renderResult.commitTasks.forEach((task) => {\n    const cellIndex = task.cellIndex;\n    const effectCell = fiber.cells[cellIndex]!;\n    if (effectCell.type !== \"effect\") {\n      throw new Error(\"Cannot find effect cell\");\n    }\n\n    // Check if deps changed\n    let shouldRunEffect = true;\n\n    if (effectCell.deps !== undefined && task.deps !== undefined) {\n      shouldRunEffect =\n        effectCell.deps.length !== task.deps.length ||\n        effectCell.deps.some((dep, j) => !Object.is(dep, task.deps![j]));\n    }\n\n    // Run cleanup if effect will re-run\n    if (shouldRunEffect) {\n      if (effectCell.mounted) {\n        if (typeof effectCell.deps !== typeof task.deps) {\n          throw new Error(\n            \"tapEffect called with and without dependencies across re-renders\",\n          );\n        }\n\n        try {\n          if (effectCell.mounted && effectCell.cleanup) {\n            effectCell.cleanup();\n          }\n        } finally {\n          effectCell.mounted = false;\n        }\n      }\n\n      try {\n        const cleanup = task.effect();\n\n        if (cleanup !== undefined && typeof cleanup !== \"function\") {\n          throw new Error(\n            \"An effect function must either return a cleanup function or nothing. \" +\n              `Received: ${typeof cleanup}`,\n          );\n        }\n\n        effectCell.mounted = true;\n        effectCell.cleanup =\n          typeof cleanup === \"function\" ? cleanup : undefined;\n        effectCell.deps = task.deps;\n      } catch (error) {\n        throw error;\n      }\n    }\n  });\n}\n\nexport function cleanupAllEffects<R, P>(executionContext: ResourceFiber<R, P>) {\n  let firstError: unknown | null = null;\n  // Run cleanups in reverse order\n  for (let i = executionContext.cells.length - 1; i >= 0; i--) {\n    const cell = executionContext.cells[i];\n    if (cell?.type === \"effect\" && cell.mounted && cell.cleanup) {\n      try {\n        cell.cleanup();\n      } catch (e) {\n        if (firstError == null) firstError = e;\n      } finally {\n        cell.mounted = false;\n      }\n    }\n  }\n  if (firstError != null) throw firstError;\n}\n"],"names":[],"mappings":";;;;;;;AAEO,SAAS,aACd,YAAA,EACA,KAAA,EACM;IAEN,aAAa,WAAA,CAAY,OAAA,CAAQ,CAAC,SAAS;QACzC,MAAM,YAAY,KAAK,SAAA;QACvB,MAAM,aAAa,MAAM,KAAA,CAAM,SAAS,CAAA;QACxC,IAAI,WAAW,IAAA,KAAS,UAAU;YAChC,MAAM,IAAI,MAAM,yBAAyB;QAC3C;QAGA,IAAI,kBAAkB;QAEtB,IAAI,WAAW,IAAA,KAAS,KAAA,KAAa,KAAK,IAAA,KAAS,KAAA,GAAW;YAC5D,kBACE,WAAW,IAAA,CAAK,MAAA,KAAW,KAAK,IAAA,CAAK,MAAA,IACrC,WAAW,IAAA,CAAK,IAAA,CAAK,CAAC,KAAK,IAAM,CAAC,OAAO,EAAA,CAAG,KAAK,KAAK,IAAA,CAAM,CAAC,CAAC,CAAC;QACnE;QAGA,IAAI,iBAAiB;YACnB,IAAI,WAAW,OAAA,EAAS;gBACtB,IAAI,OAAO,WAAW,IAAA,KAAS,OAAO,KAAK,IAAA,EAAM;oBAC/C,MAAM,IAAI,MACR;gBAEJ;gBAEA,IAAI;oBACF,IAAI,WAAW,OAAA,IAAW,WAAW,OAAA,EAAS;wBAC5C,WAAW,OAAA,CAAQ;oBACrB;gBACF,SAAE;oBACA,WAAW,OAAA,GAAU;gBACvB;YACF;YAEA,IAAI;gBACF,MAAM,UAAU,KAAK,MAAA,CAAO;gBAE5B,IAAI,YAAY,KAAA,KAAa,OAAO,YAAY,YAAY;oBAC1D,MAAM,IAAI,MACR,kFAC6B,OAAd,OAAO,OAAO;gBAEjC;gBAEA,WAAW,OAAA,GAAU;gBACrB,WAAW,OAAA,GACT,OAAO,YAAY,aAAa,UAAU,KAAA;gBAC5C,WAAW,IAAA,GAAO,KAAK,IAAA;YACzB,EAAA,OAAS,OAAO;gBACd,MAAM;YACR;QACF;IACF,CAAC;AACH;AAEO,SAAS,kBAAwB,gBAAA,EAAuC;IAC7E,IAAI,aAA6B;IAEjC,IAAA,IAAS,IAAI,iBAAiB,KAAA,CAAM,MAAA,GAAS,GAAG,KAAK,GAAG,IAAK;QAC3D,MAAM,OAAO,iBAAiB,KAAA,CAAM,CAAC,CAAA;QACrC,iDAAI,KAAM,IAAA,MAAS,YAAY,KAAK,OAAA,IAAW,KAAK,OAAA,EAAS;YAC3D,IAAI;gBACF,KAAK,OAAA,CAAQ;YACf,EAAA,OAAS,GAAG;gBACV,IAAI,cAAc,KAAM,CAAA,aAAa;YACvC,SAAE;gBACA,KAAK,OAAA,GAAU;YACjB;QACF;IACF;IACA,IAAI,cAAc,KAAM,CAAA,MAAM;AAChC","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/execution-context.ts"],"sourcesContent":["import { ResourceFiber } from \"./types\";\n\nlet currentResourceFiber: ResourceFiber<any, any> | null = null;\n\nexport function withResourceFiber<R, P>(\n  fiber: ResourceFiber<R, P>,\n  fn: () => void,\n): void {\n  fiber.currentIndex = 0;\n\n  const previousContext = currentResourceFiber;\n  currentResourceFiber = fiber;\n  try {\n    fn();\n\n    fiber.isFirstRender = false;\n\n    // ensure hook count matches\n    if (fiber.cells.length !== fiber.currentIndex) {\n      throw new Error(\n        `Rendered ${fiber.currentIndex} hooks but expected ${fiber.cells.length}. ` +\n          \"Hooks must be called in the exact same order in every render.\",\n      );\n    }\n  } finally {\n    currentResourceFiber = previousContext;\n  }\n}\nexport function getCurrentResourceFiber(): ResourceFiber<unknown, unknown> {\n  if (!currentResourceFiber) {\n    throw new Error(\"No resource fiber available\");\n  }\n  return currentResourceFiber;\n}\n"],"names":[],"mappings":";;;;;;;AAEA,IAAI,uBAAuD;AAEpD,SAAS,kBACd,KAAA,EACA,EAAA,EACM;IACN,MAAM,YAAA,GAAe;IAErB,MAAM,kBAAkB;IACxB,uBAAuB;IACvB,IAAI;QACF,GAAG;QAEH,MAAM,aAAA,GAAgB;QAGtB,IAAI,MAAM,KAAA,CAAM,MAAA,KAAW,MAAM,YAAA,EAAc;YAC7C,MAAM,IAAI,MACR,mBAAY,MAAM,YAAY,EAAA,wBAAyC,OAAlB,MAAM,KAAA,CAAM,MAAM,EAAA;QAG3E;IACF,SAAE;QACA,uBAAuB;IACzB;AACF;AACO,SAAS,0BAA2D;IACzE,IAAI,CAAC,sBAAsB;QACzB,MAAM,IAAI,MAAM,6BAA6B;IAC/C;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/ResourceFiber.ts"],"sourcesContent":["import { ResourceFn, ResourceFiber, RenderResult } from \"./types\";\nimport { commitRender, cleanupAllEffects } from \"./commit\";\nimport { withResourceFiber } from \"./execution-context\";\n\nexport function createResourceFiber<R, P>(\n  resourceFn: ResourceFn<R, P>,\n  scheduleRerender: () => void,\n): ResourceFiber<R, P> {\n  return {\n    resourceFn,\n    scheduleRerender,\n    cells: [],\n    currentIndex: 0,\n    renderContext: undefined,\n    isFirstRender: true,\n    isMounted: false,\n    isNeverMounted: true,\n  };\n}\n\nexport function unmountResource<R, P>(fiber: ResourceFiber<R, P>): void {\n  // Clean up all effects\n  fiber.isMounted = false;\n  cleanupAllEffects(fiber);\n}\n\nexport function renderResource<R, P>(\n  fiber: ResourceFiber<R, P>,\n  props: P,\n): RenderResult {\n  const result: RenderResult = {\n    commitTasks: [],\n    props,\n    state: undefined,\n  };\n\n  withResourceFiber(fiber, () => {\n    fiber.renderContext = result;\n    try {\n      result.state = fiber.resourceFn(props);\n    } finally {\n      fiber.renderContext = undefined;\n    }\n  });\n\n  return result;\n}\n\nexport function commitResource<R, P>(\n  fiber: ResourceFiber<R, P>,\n  result: RenderResult,\n): void {\n  fiber.isMounted = true;\n  fiber.isNeverMounted = false;\n\n  commitRender(result, fiber);\n}\n"],"names":[],"mappings":";;;;;;;;;;;AACA,SAAS,cAAc,yBAAyB;AAChD,SAAS,yBAAyB;;;AAE3B,SAAS,oBACd,UAAA,EACA,gBAAA,EACqB;IACrB,OAAO;QACL;QACA;QACA,OAAO,CAAC,CAAA;QACR,cAAc;QACd,eAAe,KAAA;QACf,eAAe;QACf,WAAW;QACX,gBAAgB;IAClB;AACF;AAEO,SAAS,gBAAsB,KAAA,EAAkC;IAEtE,MAAM,SAAA,GAAY;IAClB,IAAA,qRAAA,EAAkB,KAAK;AACzB;AAEO,SAAS,eACd,KAAA,EACA,KAAA,EACc;IACd,MAAM,SAAuB;QAC3B,aAAa,CAAC,CAAA;QACd;QACA,OAAO,KAAA;IACT;IAEA,IAAA,mSAAA,EAAkB,OAAO,MAAM;QAC7B,MAAM,aAAA,GAAgB;QACtB,IAAI;YACF,OAAO,KAAA,GAAQ,MAAM,UAAA,CAAW,KAAK;QACvC,SAAE;YACA,MAAM,aAAA,GAAgB,KAAA;QACxB;IACF,CAAC;IAED,OAAO;AACT;AAEO,SAAS,eACd,KAAA,EACA,MAAA,EACM;IACN,MAAM,SAAA,GAAY;IAClB,MAAM,cAAA,GAAiB;IAEvB,IAAA,gRAAA,EAAa,QAAQ,KAAK;AAC5B","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/react/use-resource.ts"],"sourcesContent":["import { useEffect, useLayoutEffect, useMemo, useState } from \"react\";\nimport { ResourceElement } from \"../core/types\";\nimport {\n  createResourceFiber,\n  unmountResource,\n  renderResource,\n  commitResource,\n} from \"../core/ResourceFiber\";\n\nconst shouldAvoidLayoutEffect =\n  (globalThis as any).__ASSISTANT_UI_DISABLE_LAYOUT_EFFECT__ === true;\n\nconst useIsomorphicLayoutEffect = shouldAvoidLayoutEffect\n  ? useEffect\n  : useLayoutEffect;\n\nexport function useResource<R, P>(element: ResourceElement<R, P>): R {\n  const [, rerender] = useState({});\n  const fiber = useMemo(\n    () => createResourceFiber(element.type, () => rerender({})),\n    [element.type, rerender],\n  );\n\n  const result = renderResource(fiber, element.props);\n  useIsomorphicLayoutEffect(() => {\n    return () => unmountResource(fiber);\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    commitResource(fiber, result);\n  });\n\n  return result.state;\n}\n"],"names":[],"mappings":";;;;;AAAA,SAAS,WAAW,iBAAiB,SAAS,gBAAgB;AAE9D;;;AAOA,IAAM,0BACH,WAAmB,sCAAA,KAA2C;AAEjE,IAAM,4BAA4B,0BAC9B,iVAAA,GACA,uVAAA;AAEG,SAAS,YAAkB,OAAA,EAAmC;IACnE,MAAM,CAAC,EAAE,QAAQ,CAAA,OAAI,gVAAA,EAAS,CAAC,CAAC;IAChC,MAAM,YAAQ,+UAAA;sCACZ,QAAM,8RAAA,EAAoB,QAAQ,IAAA;8CAAM,IAAM,SAAS,CAAC,CAAC,CAAC;;qCAC1D;QAAC,QAAQ,IAAA;QAAM,QAAQ;KAAA;IAGzB,MAAM,aAAS,yRAAA,EAAe,OAAO,QAAQ,KAAK;IAClD;iDAA0B,MAAM;YAC9B;yDAAO,QAAM,0RAAA,EAAgB,KAAK;;QACpC;gDAAG,CAAC,CAAC;IACL;iDAA0B,MAAM;YAC9B,IAAA,yRAAA,EAAe,OAAO,MAAM;QAC9B,CAAC;;IAED,OAAO,OAAO,KAAA;AAChB","debugId":null}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-state.ts"],"sourcesContent":["import { getCurrentResourceFiber } from \"../core/execution-context\";\nimport { StateUpdater, Cell, ResourceFiber } from \"../core/types\";\n\nexport const rerender = (fiber: ResourceFiber<any, any>) => {\n  if (fiber.renderContext) {\n    throw new Error(\"Resource updated during render\");\n  }\n  if (fiber.isNeverMounted) {\n    throw new Error(\"Resource updated before mount\");\n  }\n  // Only schedule rerender if currently mounted\n  if (fiber.isMounted) {\n    fiber.scheduleRerender();\n  }\n};\n\nfunction getStateCell<T>(\n  initialValue: T | (() => T),\n): Cell & { type: \"state\" } {\n  const fiber = getCurrentResourceFiber();\n  const index = fiber.currentIndex++;\n\n  // Check if we're trying to use more hooks than in previous renders\n  if (!fiber.isFirstRender && index >= fiber.cells.length) {\n    throw new Error(\n      \"Rendered more hooks than during the previous render. \" +\n        \"Hooks must be called in the exact same order in every render.\",\n    );\n  }\n\n  if (!fiber.cells[index]) {\n    // Initialize the value immediately\n    const value =\n      typeof initialValue === \"function\"\n        ? (initialValue as () => T)()\n        : initialValue;\n\n    const cell: Cell & { type: \"state\" } = {\n      type: \"state\",\n      value,\n      set: (updater: StateUpdater<T>) => {\n        const currentValue = cell.value;\n        const nextValue =\n          typeof updater === \"function\"\n            ? (updater as (prev: T) => T)(currentValue)\n            : updater;\n\n        if (!Object.is(currentValue, nextValue)) {\n          cell.value = nextValue;\n          rerender(fiber);\n        }\n      },\n    };\n\n    fiber.cells[index] = cell;\n  }\n\n  const cell = fiber.cells[index];\n  if (cell.type !== \"state\") {\n    throw new Error(\"Hook order changed between renders\");\n  }\n\n  return cell as Cell & { type: \"state\" };\n}\n\nexport function tapState<S = undefined>(): [\n  S | undefined,\n  (updater: StateUpdater<S>) => void,\n];\nexport function tapState<S>(\n  initial: S | (() => S),\n): [S, (updater: StateUpdater<S>) => void];\nexport function tapState<S>(\n  initial?: S | (() => S),\n): [S | undefined, (updater: StateUpdater<S>) => void] {\n  const cell = getStateCell(initial as S | (() => S));\n\n  return [cell.value, cell.set];\n}\n"],"names":["cell"],"mappings":";;;;;;;AAAA,SAAS,+BAA+B;;AAGjC,IAAM,WAAW,CAAC,UAAmC;IAC1D,IAAI,MAAM,aAAA,EAAe;QACvB,MAAM,IAAI,MAAM,gCAAgC;IAClD;IACA,IAAI,MAAM,cAAA,EAAgB;QACxB,MAAM,IAAI,MAAM,+BAA+B;IACjD;IAEA,IAAI,MAAM,SAAA,EAAW;QACnB,MAAM,gBAAA,CAAiB;IACzB;AACF;AAEA,SAAS,aACP,YAAA,EAC0B;IAC1B,MAAM,YAAQ,ySAAA,CAAwB;IACtC,MAAM,QAAQ,MAAM,YAAA;IAGpB,IAAI,CAAC,MAAM,aAAA,IAAiB,SAAS,MAAM,KAAA,CAAM,MAAA,EAAQ;QACvD,MAAM,IAAI,MACR;IAGJ;IAEA,IAAI,CAAC,MAAM,KAAA,CAAM,KAAK,CAAA,EAAG;QAEvB,MAAM,QACJ,OAAO,iBAAiB,aACnB,aAAyB,IAC1B;QAEN,MAAMA,QAAiC;YACrC,MAAM;YACN;YACA,KAAK,CAAC,YAA6B;gBACjC,MAAM,eAAeA,MAAK,KAAA;gBAC1B,MAAM,YACJ,OAAO,YAAY,aACd,QAA2B,YAAY,IACxC;gBAEN,IAAI,CAAC,OAAO,EAAA,CAAG,cAAc,SAAS,GAAG;oBACvCA,MAAK,KAAA,GAAQ;oBACb,SAAS,KAAK;gBAChB;YACF;QACF;QAEA,MAAM,KAAA,CAAM,KAAK,CAAA,GAAIA;IACvB;IAEA,MAAM,OAAO,MAAM,KAAA,CAAM,KAAK,CAAA;IAC9B,IAAI,KAAK,IAAA,KAAS,SAAS;QACzB,MAAM,IAAI,MAAM,oCAAoC;IACtD;IAEA,OAAO;AACT;AASO,SAAS,SACd,OAAA,EACqD;IACrD,MAAM,OAAO,aAAa,OAAwB;IAElD,OAAO;QAAC,KAAK,KAAA;QAAO,KAAK,GAAG;KAAA;AAC9B","debugId":null}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-ref.ts"],"sourcesContent":["import { tapState } from \"./tap-state\";\n\nexport interface RefObject<T> {\n  current: T;\n}\n\nexport function tapRef<T>(initialValue: T): RefObject<T>;\nexport function tapRef<T = undefined>(): RefObject<T | undefined>;\nexport function tapRef<T>(initialValue?: T): RefObject<T | undefined> {\n  const [state] = tapState(() => ({\n    current: initialValue,\n  }));\n  return state;\n}\n"],"names":[],"mappings":";;;;;AAAA,SAAS,gBAAgB;;AAQlB,SAAS,OAAU,YAAA,EAA4C;IACpE,MAAM,CAAC,KAAK,CAAA,OAAI,mRAAA,EAAS,IAAA,CAAO;YAC9B,SAAS;QACX,CAAA,CAAE;IACF,OAAO;AACT","debugId":null}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/depsShallowEqual.ts"],"sourcesContent":["export const depsShallowEqual = (\n  a: readonly unknown[],\n  b: readonly unknown[],\n) => {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) {\n    if (!Object.is(a[i], b[i])) return false;\n  }\n  return true;\n};\n"],"names":[],"mappings":";;;;;AAAO,IAAM,mBAAmB,CAC9B,GACA,MACG;IACH,IAAI,EAAE,MAAA,KAAW,EAAE,MAAA,CAAQ,CAAA,OAAO;IAClC,IAAA,IAAS,IAAI,GAAG,IAAI,EAAE,MAAA,EAAQ,IAAK;QACjC,IAAI,CAAC,OAAO,EAAA,CAAG,CAAA,CAAE,CAAC,CAAA,EAAG,CAAA,CAAE,CAAC,CAAC,EAAG,CAAA,OAAO;IACrC;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-memo.ts"],"sourcesContent":["import { tapRef } from \"./tap-ref\";\nimport { depsShallowEqual } from \"./depsShallowEqual\";\n\nexport const tapMemo = <T>(fn: () => T, deps: readonly unknown[]) => {\n  const dataRef = tapRef<{ value: T; deps: readonly unknown[] }>();\n  if (!dataRef.current) {\n    dataRef.current = { value: fn(), deps };\n  }\n\n  if (!depsShallowEqual(dataRef.current.deps, deps)) {\n    dataRef.current.value = fn();\n    dataRef.current.deps = deps;\n  }\n\n  return dataRef.current.value;\n};\n"],"names":[],"mappings":";;;;;AAAA,SAAS,cAAc;AACvB,SAAS,wBAAwB;;;AAE1B,IAAM,UAAU,CAAI,IAAa,SAA6B;IACnE,MAAM,cAAU,+QAAA,CAA+C;IAC/D,IAAI,CAAC,QAAQ,OAAA,EAAS;QACpB,QAAQ,OAAA,GAAU;YAAE,OAAO,GAAG;YAAG;QAAK;IACxC;IAEA,IAAI,KAAC,+RAAA,EAAiB,QAAQ,OAAA,CAAQ,IAAA,EAAM,IAAI,GAAG;QACjD,QAAQ,OAAA,CAAQ,KAAA,GAAQ,GAAG;QAC3B,QAAQ,OAAA,CAAQ,IAAA,GAAO;IACzB;IAEA,OAAO,QAAQ,OAAA,CAAQ,KAAA;AACzB","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/resource.ts"],"sourcesContent":["import {\n  ResourceFn,\n  ResourceElement,\n  ResourceElementConstructor,\n} from \"./types\";\n\nexport function resource<R, P = undefined>(\n  type: ResourceFn<R, P>,\n): ResourceElementConstructor<R, P> {\n  return (props?: P, options?: { key?: string | number }) => {\n    return {\n      type,\n      props,\n      ...(options?.key !== undefined && { key: options.key }),\n    } as ResourceElement<R, P>;\n  };\n}\n"],"names":[],"mappings":";;;;;AAMO,SAAS,SACd,IAAA,EACkC;IAClC,OAAO,CAAC,OAAW,YAAwC;QACzD,OAAO;YACL;YACA;YACA,sDAAI,QAAS,GAAA,MAAQ,KAAA,KAAa;gBAAE,KAAK,QAAQ,GAAA;YAAI,CAAA;QACvD;IACF;AACF","debugId":null}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-inline-resource.ts"],"sourcesContent":["import { ResourceElement } from \"../core/types\";\n\nexport function tapInlineResource<R, P>(element: ResourceElement<R, P>): R {\n  return element.type(element.props);\n}\n"],"names":[],"mappings":";;;;;AAEO,SAAS,kBAAwB,OAAA,EAAmC;IACzE,OAAO,QAAQ,IAAA,CAAK,QAAQ,KAAK;AACnC","debugId":null}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-effect.ts"],"sourcesContent":["import { getCurrentResourceFiber } from \"../core/execution-context\";\nimport { EffectCallback, Cell } from \"../core/types\";\n\nfunction getEffectCell(): number {\n  const fiber = getCurrentResourceFiber();\n  const index = fiber.currentIndex++;\n\n  // Check if we're trying to use more hooks than in previous renders\n  if (!fiber.isFirstRender && index >= fiber.cells.length) {\n    throw new Error(\n      \"Rendered more hooks than during the previous render. \" +\n        \"Hooks must be called in the exact same order in every render.\",\n    );\n  }\n\n  if (!fiber.cells[index]) {\n    // Create the effect cell\n    const cell: Cell & { type: \"effect\" } = {\n      type: \"effect\",\n      mounted: false,\n    };\n\n    fiber.cells[index] = cell;\n  }\n\n  const cell = fiber.cells[index];\n  if (cell.type !== \"effect\") {\n    throw new Error(\"Hook order changed between renders\");\n  }\n\n  return index;\n}\n\nexport function tapEffect(effect: EffectCallback): void;\nexport function tapEffect(\n  effect: EffectCallback,\n  deps: readonly unknown[],\n): void;\nexport function tapEffect(\n  effect: EffectCallback,\n  deps?: readonly unknown[],\n): void {\n  const fiber = getCurrentResourceFiber();\n\n  // Reserve a spot for the effect cell and get its index\n  const cellIndex = getEffectCell();\n\n  // Add task to render context for execution in commit phase\n  fiber.renderContext!.commitTasks.push({\n    effect,\n    deps,\n    cellIndex,\n  });\n}\n"],"names":["cell"],"mappings":";;;;;AAAA,SAAS,+BAA+B;;AAGxC,SAAS,gBAAwB;IAC/B,MAAM,YAAQ,ySAAA,CAAwB;IACtC,MAAM,QAAQ,MAAM,YAAA;IAGpB,IAAI,CAAC,MAAM,aAAA,IAAiB,SAAS,MAAM,KAAA,CAAM,MAAA,EAAQ;QACvD,MAAM,IAAI,MACR;IAGJ;IAEA,IAAI,CAAC,MAAM,KAAA,CAAM,KAAK,CAAA,EAAG;QAEvB,MAAMA,QAAkC;YACtC,MAAM;YACN,SAAS;QACX;QAEA,MAAM,KAAA,CAAM,KAAK,CAAA,GAAIA;IACvB;IAEA,MAAM,OAAO,MAAM,KAAA,CAAM,KAAK,CAAA;IAC9B,IAAI,KAAK,IAAA,KAAS,UAAU;QAC1B,MAAM,IAAI,MAAM,oCAAoC;IACtD;IAEA,OAAO;AACT;AAOO,SAAS,UACd,MAAA,EACA,IAAA,EACM;IACN,MAAM,YAAQ,ySAAA,CAAwB;IAGtC,MAAM,YAAY,cAAc;IAGhC,MAAM,aAAA,CAAe,WAAA,CAAY,IAAA,CAAK;QACpC;QACA;QACA;IACF,CAAC;AACH","debugId":null}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-resource.ts"],"sourcesContent":["import { ResourceElement } from \"../core/types\";\nimport { tapEffect } from \"./tap-effect\";\nimport {\n  createResourceFiber,\n  unmountResource,\n  renderResource,\n  commitResource,\n} from \"../core/ResourceFiber\";\nimport { tapMemo } from \"./tap-memo\";\nimport { tapState } from \"./tap-state\";\n\nexport function tapResource<R, P>(element: ResourceElement<R, P>): R;\nexport function tapResource<R, P>(\n  element: ResourceElement<R, P>,\n  deps: readonly unknown[],\n): R;\nexport function tapResource<R, P>(\n  element: ResourceElement<R, P>,\n  deps?: readonly unknown[],\n): R {\n  const [stateVersion, rerender] = tapState({});\n  const fiber = tapMemo(\n    () => createResourceFiber(element.type, () => rerender({})),\n    [element.type],\n  );\n\n  const props = deps ? tapMemo(() => element.props, deps) : element.props;\n  const result = tapMemo(\n    () => renderResource(fiber, props),\n    [fiber, props, stateVersion],\n  );\n\n  tapEffect(() => {\n    return () => unmountResource(fiber);\n  }, [fiber]);\n\n  tapEffect(() => {\n    commitResource(fiber, result);\n  }, [fiber, result]);\n\n  return result.state;\n}\n"],"names":[],"mappings":";;;;;AACA,SAAS,iBAAiB;AAC1B;AAMA,SAAS,eAAe;AACxB,SAAS,gBAAgB;;;;;AAOlB,SAAS,YACd,OAAA,EACA,IAAA,EACG;IACH,MAAM,CAAC,cAAc,QAAQ,CAAA,OAAI,mRAAA,EAAS,CAAC,CAAC;IAC5C,MAAM,YAAQ,iRAAA,EACZ,QAAM,8RAAA,EAAoB,QAAQ,IAAA,EAAM,IAAM,SAAS,CAAC,CAAC,CAAC,GAC1D;QAAC,QAAQ,IAAI;KAAA;IAGf,MAAM,QAAQ,WAAO,iRAAA,EAAQ,IAAM,QAAQ,KAAA,EAAO,IAAI,IAAI,QAAQ,KAAA;IAClE,MAAM,aAAS,iRAAA,EACb,QAAM,yRAAA,EAAe,OAAO,KAAK,GACjC;QAAC;QAAO;QAAO,YAAY;KAAA;IAG7B,IAAA,qRAAA,EAAU,MAAM;QACd,OAAO,QAAM,0RAAA,EAAgB,KAAK;IACpC,GAAG;QAAC,KAAK;KAAC;IAEV,IAAA,qRAAA,EAAU,MAAM;QACd,IAAA,yRAAA,EAAe,OAAO,MAAM;IAC9B,GAAG;QAAC;QAAO,MAAM;KAAC;IAElB,OAAO,OAAO,KAAA;AAChB","debugId":null}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/context.ts"],"sourcesContent":["const contextValue: unique symbol = Symbol(\"tap.Context\");\ntype Context<T> = {\n  [contextValue]: T;\n};\n\nexport const createContext = <T>(defaultValue: T): Context<T> => {\n  return {\n    [contextValue]: defaultValue,\n  };\n};\n\nexport const withContextProvider = <T, TResult>(\n  context: Context<T>,\n  value: T,\n  fn: () => TResult,\n) => {\n  const previousValue = context[contextValue];\n  context[contextValue] = value;\n  try {\n    return fn();\n  } finally {\n    context[contextValue] = previousValue;\n  }\n};\n\nexport const tapContext = <T>(context: Context<T>) => {\n  return context[contextValue];\n};\n"],"names":[],"mappings":";;;;;;;;;AAAA,IAAM,eAA8B,OAAO,aAAa;AAKjD,IAAM,gBAAgB,CAAI,iBAAgC;IAC/D,OAAO;QACL,CAAC,YAAY,CAAA,EAAG;IAClB;AACF;AAEO,IAAM,sBAAsB,CACjC,SACA,OACA,OACG;IACH,MAAM,gBAAgB,OAAA,CAAQ,YAAY,CAAA;IAC1C,OAAA,CAAQ,YAAY,CAAA,GAAI;IACxB,IAAI;QACF,OAAO,GAAG;IACZ,SAAE;QACA,OAAA,CAAQ,YAAY,CAAA,GAAI;IAC1B;AACF;AAEO,IAAM,aAAa,CAAI,YAAwB;IACpD,OAAO,OAAA,CAAQ,YAAY,CAAA;AAC7B","debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/scheduler.ts"],"sourcesContent":["type Task = () => void;\n\nlet queue: Task[] = [];\nlet isFlushPending = false;\n\nfunction flushQueue() {\n  isFlushPending = false;\n\n  const tasksToRun = queue;\n  queue = [];\n\n  for (const task of tasksToRun) {\n    try {\n      task();\n    } catch (error) {\n      console.error(\"Error in scheduled task:\", error);\n    }\n  }\n}\n\nfunction scheduleUpdate(task: Task) {\n  queue.push(task);\n\n  if (!isFlushPending) {\n    isFlushPending = true;\n    queueMicrotask(flushQueue);\n  }\n}\n\nexport class UpdateScheduler {\n  private _isDirty = false;\n  private _hasScheduledTask = false;\n  private _isFlushing = false;\n  private static readonly MAX_FLUSH_DEPTH = 50;\n\n  constructor(private readonly _task: Task) {}\n\n  get isDirty() {\n    return this._isDirty;\n  }\n\n  markDirty() {\n    this._isDirty = true;\n\n    if (this._hasScheduledTask || this._isFlushing) return;\n    this._hasScheduledTask = true;\n\n    scheduleUpdate(() => {\n      this._hasScheduledTask = false;\n\n      this.flushSync();\n    });\n  }\n\n  flushSync() {\n    if (this._isFlushing) return;\n\n    this._isFlushing = true;\n    let flushDepth = 0;\n\n    try {\n      while (this._isDirty) {\n        flushDepth++;\n\n        if (flushDepth > UpdateScheduler.MAX_FLUSH_DEPTH) {\n          throw new Error(\n            `Maximum update depth exceeded. This can happen when a resource ` +\n              `repeatedly calls setState inside tapEffect.`,\n          );\n        }\n\n        this._isDirty = false;\n        this._task();\n      }\n    } finally {\n      this._isFlushing = false;\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAEA,IAAI,QAAgB,CAAC,CAAA;AACrB,IAAI,iBAAiB;AAErB,SAAS,aAAa;IACpB,iBAAiB;IAEjB,MAAM,aAAa;IACnB,QAAQ,CAAC,CAAA;IAET,KAAA,MAAW,QAAQ,WAAY;QAC7B,IAAI;YACF,KAAK;QACP,EAAA,OAAS,OAAO;YACd,QAAQ,KAAA,CAAM,4BAA4B,KAAK;QACjD;IACF;AACF;AAEA,SAAS,eAAe,IAAA,EAAY;IAClC,MAAM,IAAA,CAAK,IAAI;IAEf,IAAI,CAAC,gBAAgB;QACnB,iBAAiB;QACjB,eAAe,UAAU;IAC3B;AACF;AAEO,IAAM,uCAAN,MAAM,iBAAgB;IAQ3B,IAAI,UAAU;QACZ,OAAO,IAAA,CAAK,QAAA;IACd;IAEA,YAAY;QACV,IAAA,CAAK,QAAA,GAAW;QAEhB,IAAI,IAAA,CAAK,iBAAA,IAAqB,IAAA,CAAK,WAAA,CAAa,CAAA;QAChD,IAAA,CAAK,iBAAA,GAAoB;QAEzB,eAAe,MAAM;YACnB,IAAA,CAAK,iBAAA,GAAoB;YAEzB,IAAA,CAAK,SAAA,CAAU;QACjB,CAAC;IACH;IAEA,YAAY;QACV,IAAI,IAAA,CAAK,WAAA,CAAa,CAAA;QAEtB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAI,aAAa;QAEjB,IAAI;YACF,MAAO,IAAA,CAAK,QAAA,CAAU;gBACpB;gBAEA,IAAI,aAAa,iBAAgB,eAAA,EAAiB;oBAChD,MAAM,IAAI,MACR;gBAGJ;gBAEA,IAAA,CAAK,QAAA,GAAW;gBAChB,IAAA,CAAK,KAAA,CAAM;YACb;QACF,SAAE;YACA,IAAA,CAAK,WAAA,GAAc;QACrB;IACF;IA1CA,YAA6B,KAAA,CAAa;qPALlC,YAAW;qPACX,qBAAoB;qPACpB,eAAc;QAGO,IAAA,CAAA,KAAA,GAAA;IAAc;AA2C7C,GA7CE,0PAAwB,mBAAkB","debugId":null}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/core/ResourceHandle.ts"],"sourcesContent":["import { ResourceElement, Unsubscribe } from \"./types\";\nimport {\n  createResourceFiber,\n  unmountResource,\n  renderResource,\n  commitResource,\n} from \"./ResourceFiber\";\nimport { UpdateScheduler } from \"./scheduler\";\nimport { tapRef } from \"../hooks/tap-ref\";\nimport { tapState } from \"../hooks/tap-state\";\nimport { tapMemo } from \"../hooks/tap-memo\";\nimport { tapInlineResource } from \"../hooks/tap-inline-resource\";\nimport { tapEffect } from \"../hooks/tap-effect\";\n\nexport interface ResourceHandle<R, P> {\n  getState(): R;\n  subscribe(callback: () => void): Unsubscribe;\n  updateInput(props: P): void;\n  flushSync(): void;\n  dispose(): void;\n}\n\nconst HandleWrapperResource = <R, P>({\n  element,\n  onUpdateInput,\n  onFlushSync,\n  onDispose,\n}: {\n  element: ResourceElement<R, P>;\n  onUpdateInput: () => void;\n  onFlushSync: () => void;\n  onDispose: () => void;\n}): ResourceHandle<R, P> => {\n  const [props, setProps] = tapState(element.props);\n  const value = tapInlineResource({ type: element.type, props });\n  const subscribers = tapRef(new Set<() => void>()).current;\n  const valueRef = tapRef(value);\n\n  tapEffect(() => {\n    if (value !== valueRef.current) {\n      valueRef.current = value;\n      subscribers.forEach((callback) => callback());\n    }\n  });\n\n  const handle = tapMemo(\n    () => ({\n      getState: () => valueRef.current,\n      subscribe: (callback: () => void) => {\n        subscribers.add(callback);\n        return () => subscribers.delete(callback);\n      },\n      updateInput: (props: P) => {\n        onUpdateInput();\n        setProps(() => props);\n      },\n      flushSync: onFlushSync,\n      dispose: onDispose,\n    }),\n    [],\n  );\n\n  return handle;\n};\n\nexport const createResource = <R, P>(\n  element: ResourceElement<R, P>,\n  delayMount = false,\n): ResourceHandle<R, P> => {\n  let isMounted = !delayMount;\n  const props = {\n    element,\n    onUpdateInput: () => {\n      if (isMounted) return;\n      isMounted = true;\n      commitResource(fiber, lastRender);\n    },\n    onFlushSync: () => {\n      scheduler.flushSync();\n    },\n    onDispose: () => unmountResource(fiber),\n  };\n\n  const scheduler = new UpdateScheduler(() => {\n    lastRender = renderResource(fiber, props);\n    if (isMounted) commitResource(fiber, lastRender);\n  });\n\n  const fiber = createResourceFiber(HandleWrapperResource<R, P>, () =>\n    scheduler.markDirty(),\n  );\n\n  let lastRender = renderResource(fiber, props);\n  if (isMounted) commitResource(fiber, lastRender);\n  return lastRender.state;\n};\n"],"names":["props"],"mappings":";;;;;AACA;AAMA,SAAS,uBAAuB;AAChC,SAAS,cAAc;AACvB,SAAS,gBAAgB;AACzB,SAAS,eAAe;AACxB,SAAS,yBAAyB;AAClC,SAAS,iBAAiB;;;;;;;;AAU1B,IAAM,wBAAwB;QAAO,EACnC,OAAA,EACA,aAAA,EACA,WAAA,EACA,SAAA,EACF,KAK4B;IAC1B,MAAM,CAAC,OAAO,QAAQ,CAAA,OAAI,mRAAA,EAAS,QAAQ,KAAK;IAChD,MAAM,YAAQ,ySAAA,EAAkB;QAAE,MAAM,QAAQ,IAAA;QAAM;IAAM,CAAC;IAC7D,MAAM,kBAAc,+QAAA,EAAO,aAAA,GAAA,IAAI,IAAgB,CAAC,EAAE,OAAA;IAClD,MAAM,eAAW,+QAAA,EAAO,KAAK;IAE7B,IAAA,qRAAA,EAAU,MAAM;QACd,IAAI,UAAU,SAAS,OAAA,EAAS;YAC9B,SAAS,OAAA,GAAU;YACnB,YAAY,OAAA,CAAQ,CAAC,WAAa,SAAS,CAAC;QAC9C;IACF,CAAC;IAED,MAAM,aAAS,iRAAA,EACb,IAAA,CAAO;YACL,UAAU,IAAM,SAAS,OAAA;YACzB,WAAW,CAAC,aAAyB;gBACnC,YAAY,GAAA,CAAI,QAAQ;gBACxB,OAAO,IAAM,YAAY,MAAA,CAAO,QAAQ;YAC1C;YACA,aAAa,CAACA,WAAa;gBACzB,cAAc;gBACd,SAAS,IAAMA,MAAK;YACtB;YACA,WAAW;YACX,SAAS;QACX,CAAA,GACA,CAAC,CAAA;IAGH,OAAO;AACT;AAEO,IAAM,iBAAiB,SAC5B;QACA,8EAAa,UACY;IACzB,IAAI,YAAY,CAAC;IACjB,MAAM,QAAQ;QACZ;QACA,eAAe,MAAM;YACnB,IAAI,UAAW,CAAA;YACf,YAAY;YACZ,IAAA,yRAAA,EAAe,OAAO,UAAU;QAClC;QACA,aAAa,MAAM;YACjB,UAAU,SAAA,CAAU;QACtB;QACA,WAAW,QAAM,0RAAA,EAAgB,KAAK;IACxC;IAEA,MAAM,YAAY,IAAI,sRAAA,CAAgB,MAAM;QAC1C,iBAAa,yRAAA,EAAe,OAAO,KAAK;QACxC,IAAI,UAAW,CAAA,IAAA,yRAAA,EAAe,OAAO,UAAU;IACjD,CAAC;IAED,MAAM,YAAQ,8RAAA,EAAoB,uBAA6B,IAC7D,UAAU,SAAA,CAAU;IAGtB,IAAI,iBAAa,yRAAA,EAAe,OAAO,KAAK;IAC5C,IAAI,UAAW,CAAA,IAAA,yRAAA,EAAe,OAAO,UAAU;IAC/C,OAAO,WAAW,KAAA;AACpB","debugId":null}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Btap%400.1.5_react%4019.2.0/node_modules/%40assistant-ui/tap/src/hooks/tap-resources.ts"],"sourcesContent":["import { ResourceElement, ResourceFiber } from \"../core/types\";\nimport { tapEffect } from \"./tap-effect\";\nimport { tapMemo } from \"./tap-memo\";\nimport { tapState } from \"./tap-state\";\nimport {\n  createResourceFiber,\n  unmountResource,\n  renderResource,\n  commitResource,\n} from \"../core/ResourceFiber\";\n\nexport function tapResources<\n  T extends ReadonlyArray<ResourceElement<any, any>>,\n>(\n  elements: T,\n): { [K in keyof T]: T[K] extends ResourceElement<infer R, any> ? R : never } {\n  // Validate keys\n  const seenKeys = new Set<string | number>();\n  elements.forEach((element, index) => {\n    if (element.key === undefined) {\n      throw new Error(\n        `tapResources: All resource elements must have a key. Element at index ${index} is missing a key.`,\n      );\n    }\n    if (seenKeys.has(element.key)) {\n      throw new Error(\n        `tapResources: Duplicate key \"${element.key}\" found. All keys must be unique.`,\n      );\n    }\n    seenKeys.add(element.key);\n  });\n\n  const [stateVersion, rerender] = tapState({});\n\n  // Create a map of current elements by key for efficient lookup\n  const elementsByKey = tapMemo(\n    () => new Map(elements.map((element) => [element.key!, element])),\n    [elements],\n  );\n\n  // Track fibers persistently across renders\n  const [fibers] = tapState(\n    () => new Map<string | number, ResourceFiber<any, any>>(),\n  );\n\n  // Process each element\n  const results = tapMemo(() => {\n    const resultMap = new Map<string | number, any>();\n    const currentKeys = new Set<string | number>();\n\n    // Create/update fibers and render\n    elementsByKey.forEach((element, key) => {\n      currentKeys.add(key);\n\n      let fiber = fibers.get(key);\n\n      // Create new fiber if needed or type changed\n      if (!fiber || fiber.resourceFn !== element.type) {\n        if (fiber) unmountResource(fiber);\n        fiber = createResourceFiber(element.type, () => rerender({}));\n        fibers.set(key, fiber);\n      }\n\n      // Render with current props\n      const result = renderResource(fiber, element.props);\n      resultMap.set(key, result);\n    });\n\n    // Clean up removed fibers\n    fibers.forEach((fiber, key) => {\n      if (!currentKeys.has(key)) {\n        unmountResource(fiber);\n        fibers.delete(key);\n      }\n    });\n\n    return resultMap;\n  }, [elementsByKey, stateVersion]);\n\n  // Commit all renders\n  tapEffect(() => {\n    results.forEach((result, key) => {\n      const fiber = fibers.get(key);\n      if (fiber) {\n        commitResource(fiber, result);\n      }\n    });\n  }, [results, fibers]);\n\n  // Cleanup on unmount\n  tapEffect(() => {\n    return () => {\n      fibers.forEach((fiber) => {\n        unmountResource(fiber);\n      });\n      fibers.clear();\n    };\n  }, [fibers]);\n\n  // Return results in the same order as input elements\n  return tapMemo(\n    () => elements.map((element) => results.get(element.key!)?.state),\n    [elements, results],\n  ) as any;\n}\n"],"names":[],"mappings":";;;;;AACA,SAAS,iBAAiB;AAC1B,SAAS,eAAe;AACxB,SAAS,gBAAgB;AACzB;;;;;AAOO,SAAS,aAGd,QAAA,EAC4E;IAE5E,MAAM,WAAW,aAAA,GAAA,IAAI,IAAqB;IAC1C,SAAS,OAAA,CAAQ,CAAC,SAAS,UAAU;QACnC,IAAI,QAAQ,GAAA,KAAQ,KAAA,GAAW;YAC7B,MAAM,IAAI,MACR,yEAA8E,OAAL,KAAK,EAAA;QAElF;QACA,IAAI,SAAS,GAAA,CAAI,QAAQ,GAAG,GAAG;YAC7B,MAAM,IAAI,MACR,gCAA2C,OAAX,QAAQ,GAAG,EAAA;QAE/C;QACA,SAAS,GAAA,CAAI,QAAQ,GAAG;IAC1B,CAAC;IAED,MAAM,CAAC,cAAc,QAAQ,CAAA,OAAI,mRAAA,EAAS,CAAC,CAAC;IAG5C,MAAM,oBAAgB,iRAAA,EACpB,IAAM,IAAI,IAAI,SAAS,GAAA,CAAI,CAAC,UAAY;gBAAC,QAAQ,GAAA;gBAAM,OAAO;aAAC,CAAC,GAChE;QAAC,QAAQ;KAAA;IAIX,MAAM,CAAC,MAAM,CAAA,OAAI,mRAAA,EACf,IAAM,aAAA,GAAA,IAAI,IAA8C;IAI1D,MAAM,cAAU,iRAAA,EAAQ,MAAM;QAC5B,MAAM,YAAY,aAAA,GAAA,IAAI,IAA0B;QAChD,MAAM,cAAc,aAAA,GAAA,IAAI,IAAqB;QAG7C,cAAc,OAAA,CAAQ,CAAC,SAAS,QAAQ;YACtC,YAAY,GAAA,CAAI,GAAG;YAEnB,IAAI,QAAQ,OAAO,GAAA,CAAI,GAAG;YAG1B,IAAI,CAAC,SAAS,MAAM,UAAA,KAAe,QAAQ,IAAA,EAAM;gBAC/C,IAAI,MAAO,CAAA,IAAA,0RAAA,EAAgB,KAAK;gBAChC,YAAQ,8RAAA,EAAoB,QAAQ,IAAA,EAAM,IAAM,SAAS,CAAC,CAAC,CAAC;gBAC5D,OAAO,GAAA,CAAI,KAAK,KAAK;YACvB;YAGA,MAAM,aAAS,yRAAA,EAAe,OAAO,QAAQ,KAAK;YAClD,UAAU,GAAA,CAAI,KAAK,MAAM;QAC3B,CAAC;QAGD,OAAO,OAAA,CAAQ,CAAC,OAAO,QAAQ;YAC7B,IAAI,CAAC,YAAY,GAAA,CAAI,GAAG,GAAG;gBACzB,IAAA,0RAAA,EAAgB,KAAK;gBACrB,OAAO,MAAA,CAAO,GAAG;YACnB;QACF,CAAC;QAED,OAAO;IACT,GAAG;QAAC;QAAe,YAAY;KAAC;IAGhC,IAAA,qRAAA,EAAU,MAAM;QACd,QAAQ,OAAA,CAAQ,CAAC,QAAQ,QAAQ;YAC/B,MAAM,QAAQ,OAAO,GAAA,CAAI,GAAG;YAC5B,IAAI,OAAO;gBACT,IAAA,yRAAA,EAAe,OAAO,MAAM;YAC9B;QACF,CAAC;IACH,GAAG;QAAC;QAAS,MAAM;KAAC;IAGpB,IAAA,qRAAA,EAAU,MAAM;QACd,OAAO,MAAM;YACX,OAAO,OAAA,CAAQ,CAAC,UAAU;gBACxB,IAAA,0RAAA,EAAgB,KAAK;YACvB,CAAC;YACD,OAAO,KAAA,CAAM;QACf;IACF,GAAG;QAAC,MAAM;KAAC;IAGX,WAAO,iRAAA,EACL,IAAM,SAAS,GAAA,CAAI,CAAC;;2CAAoB,GAAA,CAAI,QAAQ,GAAI,kDAAxB,aAA2B,KAAK;YAChE;QAAC;QAAU,OAAO;KAAA;AAEtB","debugId":null}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/zustand%405.0.8_%40types%2Breact%4019.2.2_react%4019.2.0_use-sync-external-store%401.6.0_react%4019.2.0_/node_modules/zustand/esm/vanilla.mjs"],"sourcesContent":["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n"],"names":[],"mappings":";;;;AAAA,MAAM,kBAAkB,CAAC;IACvB,IAAI;IACJ,MAAM,YAAY,aAAa,GAAG,IAAI;IACtC,MAAM,WAAW,CAAC,SAAS;QACzB,MAAM,YAAY,OAAO,YAAY,aAAa,QAAQ,SAAS;QACnE,IAAI,CAAC,OAAO,EAAE,CAAC,WAAW,QAAQ;YAChC,MAAM,gBAAgB;YACtB,QAAQ,CAAC,WAAW,OAAO,UAAU,OAAO,cAAc,YAAY,cAAc,IAAI,IAAI,YAAY,OAAO,MAAM,CAAC,CAAC,GAAG,OAAO;YACjI,UAAU,OAAO,CAAC,CAAC,WAAa,SAAS,OAAO;QAClD;IACF;IACA,MAAM,WAAW,IAAM;IACvB,MAAM,kBAAkB,IAAM;IAC9B,MAAM,YAAY,CAAC;QACjB,UAAU,GAAG,CAAC;QACd,OAAO,IAAM,UAAU,MAAM,CAAC;IAChC;IACA,MAAM,MAAM;QAAE;QAAU;QAAU;QAAiB;IAAU;IAC7D,MAAM,eAAe,QAAQ,YAAY,UAAU,UAAU;IAC7D,OAAO;AACT;AACA,MAAM,cAAe,CAAC,cAAgB,cAAc,gBAAgB,eAAe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/zustand%405.0.8_%40types%2Breact%4019.2.2_react%4019.2.0_use-sync-external-store%401.6.0_react%4019.2.0_/node_modules/zustand/esm/react.mjs"],"sourcesContent":["import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,WAAW,CAAC,MAAQ;AAC1B,SAAS,SAAS,GAAG;QAAE,WAAA,iEAAW;IAChC,MAAM,QAAQ,+UAAK,CAAC,oBAAoB,CACtC,IAAI,SAAS,EACb,+UAAK,CAAC,WAAW;gDAAC,IAAM,SAAS,IAAI,QAAQ;+CAAK;QAAC;QAAK;KAAS,GACjE,+UAAK,CAAC,WAAW;gDAAC,IAAM,SAAS,IAAI,eAAe;+CAAK;QAAC;QAAK;KAAS;IAE1E,+UAAK,CAAC,aAAa,CAAC;IACpB,OAAO;AACT;AACA,MAAM,aAAa,CAAC;IAClB,MAAM,MAAM,IAAA,gVAAW,EAAC;IACxB,MAAM,gBAAgB,CAAC,WAAa,SAAS,KAAK;IAClD,OAAO,MAAM,CAAC,eAAe;IAC7B,OAAO;AACT;AACA,MAAM,SAAU,CAAC,cAAgB,cAAc,WAAW,eAAe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 803, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_define_property.js"],"sourcesContent":["function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,iBAAiB,GAAG,EAAE,GAAG,EAAE,KAAK;IACrC,IAAI,OAAO,KAAK;QACZ,OAAO,cAAc,CAAC,KAAK,KAAK;YAAE,OAAO;YAAO,YAAY;YAAM,cAAc;YAAM,UAAU;QAAK;IACzG,OAAO,GAAG,CAAC,IAAI,GAAG;IAElB,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_class_apply_descriptor_get.js"],"sourcesContent":["function _class_apply_descriptor_get(receiver, descriptor) {\n    if (descriptor.get) return descriptor.get.call(receiver);\n\n    return descriptor.value;\n}\nexport { _class_apply_descriptor_get as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,4BAA4B,QAAQ,EAAE,UAAU;IACrD,IAAI,WAAW,GAAG,EAAE,OAAO,WAAW,GAAG,CAAC,IAAI,CAAC;IAE/C,OAAO,WAAW,KAAK;AAC3B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_class_extract_field_descriptor.js"],"sourcesContent":["function _class_extract_field_descriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n\n    return privateMap.get(receiver);\n}\nexport { _class_extract_field_descriptor as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,gCAAgC,QAAQ,EAAE,UAAU,EAAE,MAAM;IACjE,IAAI,CAAC,WAAW,GAAG,CAAC,WAAW,MAAM,IAAI,UAAU,kBAAkB,SAAS;IAE9E,OAAO,WAAW,GAAG,CAAC;AAC1B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_class_private_field_get.js"],"sourcesContent":["import { _ as _class_apply_descriptor_get } from \"./_class_apply_descriptor_get.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_get(receiver, privateMap) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"get\");\n    return _class_apply_descriptor_get(receiver, descriptor);\n}\nexport { _class_private_field_get as _ };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,SAAS,yBAAyB,QAAQ,EAAE,UAAU;IAClD,IAAI,aAAa,IAAA,gPAA+B,EAAC,UAAU,YAAY;IACvE,OAAO,IAAA,4OAA2B,EAAC,UAAU;AACjD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 866, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_check_private_redeclaration.js"],"sourcesContent":["function _check_private_redeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nexport { _check_private_redeclaration as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,6BAA6B,GAAG,EAAE,iBAAiB;IACxD,IAAI,kBAAkB,GAAG,CAAC,MAAM;QAC5B,MAAM,IAAI,UAAU;IACxB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 880, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_class_private_field_init.js"],"sourcesContent":["import { _ as _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nfunction _class_private_field_init(obj, privateMap, value) {\n    _check_private_redeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nexport { _class_private_field_init as _ };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS,0BAA0B,GAAG,EAAE,UAAU,EAAE,KAAK;IACrD,IAAA,6OAA4B,EAAC,KAAK;IAClC,WAAW,GAAG,CAAC,KAAK;AACxB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 895, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_class_apply_descriptor_set.js"],"sourcesContent":["function _class_apply_descriptor_set(receiver, descriptor, value) {\n    if (descriptor.set) descriptor.set.call(receiver, value);\n    else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nexport { _class_apply_descriptor_set as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,4BAA4B,QAAQ,EAAE,UAAU,EAAE,KAAK;IAC5D,IAAI,WAAW,GAAG,EAAE,WAAW,GAAG,CAAC,IAAI,CAAC,UAAU;SAC7C;QACD,IAAI,CAAC,WAAW,QAAQ,EAAE;YACtB,8DAA8D;YAC9D,2DAA2D;YAC3D,gBAAgB;YAChB,MAAM,IAAI,UAAU;QACxB;QACA,WAAW,KAAK,GAAG;IACvB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/esm/_class_private_field_set.js"],"sourcesContent":["import { _ as _class_apply_descriptor_set } from \"./_class_apply_descriptor_set.js\";\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nfunction _class_private_field_set(receiver, privateMap, value) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"set\");\n    _class_apply_descriptor_set(receiver, descriptor, value);\n    return value;\n}\nexport { _class_private_field_set as _ };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,SAAS,yBAAyB,QAAQ,EAAE,UAAU,EAAE,KAAK;IACzD,IAAI,aAAa,IAAA,gPAA+B,EAAC,UAAU,YAAY;IACvE,IAAA,4OAA2B,EAAC,UAAU,YAAY;IAClD,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/ai-sdk-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/api-call-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/empty-response-body-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/get-error-message.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/invalid-argument-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/invalid-prompt-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/invalid-response-data-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/json-parse-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/load-api-key-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/load-setting-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/no-content-generated-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/no-such-model-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/too-many-embedding-values-for-call-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/type-validation-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/errors/unsupported-functionality-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider%402.0.0/node_modules/%40ai-sdk/provider/src/json-value/is-json.ts"],"sourcesContent":["/**\n * Symbol used for identifying AI SDK Error instances.\n * Enables checking if an error is an instance of AISDKError across package versions.\n */\nconst marker = 'vercel.ai.error';\nconst symbol = Symbol.for(marker);\n\n/**\n * Custom error class for AI SDK related errors.\n * @extends Error\n */\nexport class AISDKError extends Error {\n  private readonly [symbol] = true; // used in isInstance\n\n  /**\n   * The underlying cause of the error, if any.\n   */\n  readonly cause?: unknown;\n\n  /**\n   * Creates an AI SDK Error.\n   *\n   * @param {Object} params - The parameters for creating the error.\n   * @param {string} params.name - The name of the error.\n   * @param {string} params.message - The error message.\n   * @param {unknown} [params.cause] - The underlying cause of the error.\n   */\n  constructor({\n    name,\n    message,\n    cause,\n  }: {\n    name: string;\n    message: string;\n    cause?: unknown;\n  }) {\n    super(message);\n\n    this.name = name;\n    this.cause = cause;\n  }\n\n  /**\n   * Checks if the given error is an AI SDK Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.\n   */\n  static isInstance(error: unknown): error is AISDKError {\n    return AISDKError.hasMarker(error, marker);\n  }\n\n  protected static hasMarker(error: unknown, marker: string): boolean {\n    const markerSymbol = Symbol.for(marker);\n    return (\n      error != null &&\n      typeof error === 'object' &&\n      markerSymbol in error &&\n      typeof error[markerSymbol] === 'boolean' &&\n      error[markerSymbol] === true\n    );\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_APICallError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class APICallError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly url: string;\n  readonly requestBodyValues: unknown;\n  readonly statusCode?: number;\n\n  readonly responseHeaders?: Record<string, string>;\n  readonly responseBody?: string;\n\n  readonly isRetryable: boolean;\n  readonly data?: unknown;\n\n  constructor({\n    message,\n    url,\n    requestBodyValues,\n    statusCode,\n    responseHeaders,\n    responseBody,\n    cause,\n    isRetryable = statusCode != null &&\n      (statusCode === 408 || // request timeout\n        statusCode === 409 || // conflict\n        statusCode === 429 || // too many requests\n        statusCode >= 500), // server error\n    data,\n  }: {\n    message: string;\n    url: string;\n    requestBodyValues: unknown;\n    statusCode?: number;\n    responseHeaders?: Record<string, string>;\n    responseBody?: string;\n    cause?: unknown;\n    isRetryable?: boolean;\n    data?: unknown;\n  }) {\n    super({ name, message, cause });\n\n    this.url = url;\n    this.requestBodyValues = requestBodyValues;\n    this.statusCode = statusCode;\n    this.responseHeaders = responseHeaders;\n    this.responseBody = responseBody;\n    this.isRetryable = isRetryable;\n    this.data = data;\n  }\n\n  static isInstance(error: unknown): error is APICallError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_EmptyResponseBodyError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class EmptyResponseBodyError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  constructor({ message = 'Empty response body' }: { message?: string } = {}) {\n    super({ name, message });\n  }\n\n  static isInstance(error: unknown): error is EmptyResponseBodyError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","export function getErrorMessage(error: unknown | undefined) {\n  if (error == null) {\n    return 'unknown error';\n  }\n\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  if (error instanceof Error) {\n    return error.message;\n  }\n\n  return JSON.stringify(error);\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_InvalidArgumentError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * A function argument is invalid.\n */\nexport class InvalidArgumentError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly argument: string;\n\n  constructor({\n    message,\n    cause,\n    argument,\n  }: {\n    argument: string;\n    message: string;\n    cause?: unknown;\n  }) {\n    super({ name, message, cause });\n\n    this.argument = argument;\n  }\n\n  static isInstance(error: unknown): error is InvalidArgumentError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_InvalidPromptError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * A prompt is invalid. This error should be thrown by providers when they cannot\n * process a prompt.\n */\nexport class InvalidPromptError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly prompt: unknown;\n\n  constructor({\n    prompt,\n    message,\n    cause,\n  }: {\n    prompt: unknown;\n    message: string;\n    cause?: unknown;\n  }) {\n    super({ name, message: `Invalid prompt: ${message}`, cause });\n\n    this.prompt = prompt;\n  }\n\n  static isInstance(error: unknown): error is InvalidPromptError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_InvalidResponseDataError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * Server returned a response with invalid data content.\n * This should be thrown by providers when they cannot parse the response from the API.\n */\nexport class InvalidResponseDataError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly data: unknown;\n\n  constructor({\n    data,\n    message = `Invalid response data: ${JSON.stringify(data)}.`,\n  }: {\n    data: unknown;\n    message?: string;\n  }) {\n    super({ name, message });\n\n    this.data = data;\n  }\n\n  static isInstance(error: unknown): error is InvalidResponseDataError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\nimport { getErrorMessage } from './get-error-message';\n\nconst name = 'AI_JSONParseError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n// TODO v5: rename to ParseError\nexport class JSONParseError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly text: string;\n\n  constructor({ text, cause }: { text: string; cause: unknown }) {\n    super({\n      name,\n      message:\n        `JSON parsing failed: ` +\n        `Text: ${text}.\\n` +\n        `Error message: ${getErrorMessage(cause)}`,\n      cause,\n    });\n\n    this.text = text;\n  }\n\n  static isInstance(error: unknown): error is JSONParseError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_LoadAPIKeyError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class LoadAPIKeyError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  constructor({ message }: { message: string }) {\n    super({ name, message });\n  }\n\n  static isInstance(error: unknown): error is LoadAPIKeyError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_LoadSettingError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class LoadSettingError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  constructor({ message }: { message: string }) {\n    super({ name, message });\n  }\n\n  static isInstance(error: unknown): error is LoadSettingError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_NoContentGeneratedError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\nThrown when the AI provider fails to generate any content.\n */\nexport class NoContentGeneratedError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  constructor({\n    message = 'No content generated.',\n  }: { message?: string } = {}) {\n    super({ name, message });\n  }\n\n  static isInstance(error: unknown): error is NoContentGeneratedError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_NoSuchModelError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class NoSuchModelError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly modelId: string;\n  readonly modelType:\n    | 'languageModel'\n    | 'textEmbeddingModel'\n    | 'imageModel'\n    | 'transcriptionModel'\n    | 'speechModel';\n\n  constructor({\n    errorName = name,\n    modelId,\n    modelType,\n    message = `No such ${modelType}: ${modelId}`,\n  }: {\n    errorName?: string;\n    modelId: string;\n    modelType:\n      | 'languageModel'\n      | 'textEmbeddingModel'\n      | 'imageModel'\n      | 'transcriptionModel'\n      | 'speechModel';\n    message?: string;\n  }) {\n    super({ name: errorName, message });\n\n    this.modelId = modelId;\n    this.modelType = modelType;\n  }\n\n  static isInstance(error: unknown): error is NoSuchModelError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_TooManyEmbeddingValuesForCallError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class TooManyEmbeddingValuesForCallError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly provider: string;\n  readonly modelId: string;\n  readonly maxEmbeddingsPerCall: number;\n  readonly values: Array<unknown>;\n\n  constructor(options: {\n    provider: string;\n    modelId: string;\n    maxEmbeddingsPerCall: number;\n    values: Array<unknown>;\n  }) {\n    super({\n      name,\n      message:\n        `Too many values for a single embedding call. ` +\n        `The ${options.provider} model \"${options.modelId}\" can only embed up to ` +\n        `${options.maxEmbeddingsPerCall} values per call, but ${options.values.length} values were provided.`,\n    });\n\n    this.provider = options.provider;\n    this.modelId = options.modelId;\n    this.maxEmbeddingsPerCall = options.maxEmbeddingsPerCall;\n    this.values = options.values;\n  }\n\n  static isInstance(\n    error: unknown,\n  ): error is TooManyEmbeddingValuesForCallError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\nimport { getErrorMessage } from './get-error-message';\n\nconst name = 'AI_TypeValidationError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class TypeValidationError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly value: unknown;\n\n  constructor({ value, cause }: { value: unknown; cause: unknown }) {\n    super({\n      name,\n      message:\n        `Type validation failed: ` +\n        `Value: ${JSON.stringify(value)}.\\n` +\n        `Error message: ${getErrorMessage(cause)}`,\n      cause,\n    });\n\n    this.value = value;\n  }\n\n  static isInstance(error: unknown): error is TypeValidationError {\n    return AISDKError.hasMarker(error, marker);\n  }\n\n  /**\n   * Wraps an error into a TypeValidationError.\n   * If the cause is already a TypeValidationError with the same value, it returns the cause.\n   * Otherwise, it creates a new TypeValidationError.\n   *\n   * @param {Object} params - The parameters for wrapping the error.\n   * @param {unknown} params.value - The value that failed validation.\n   * @param {unknown} params.cause - The original error or cause of the validation failure.\n   * @returns {TypeValidationError} A TypeValidationError instance.\n   */\n  static wrap({\n    value,\n    cause,\n  }: {\n    value: unknown;\n    cause: unknown;\n  }): TypeValidationError {\n    return TypeValidationError.isInstance(cause) && cause.value === value\n      ? cause\n      : new TypeValidationError({ value, cause });\n  }\n}\n","import { AISDKError } from './ai-sdk-error';\n\nconst name = 'AI_UnsupportedFunctionalityError';\nconst marker = `vercel.ai.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport class UnsupportedFunctionalityError extends AISDKError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly functionality: string;\n\n  constructor({\n    functionality,\n    message = `'${functionality}' functionality not supported.`,\n  }: {\n    functionality: string;\n    message?: string;\n  }) {\n    super({ name, message });\n    this.functionality = functionality;\n  }\n\n  static isInstance(error: unknown): error is UnsupportedFunctionalityError {\n    return AISDKError.hasMarker(error, marker);\n  }\n}\n","import { JSONArray, JSONObject, JSONValue } from './json-value';\n\nexport function isJSONValue(value: unknown): value is JSONValue {\n  if (\n    value === null ||\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    typeof value === 'boolean'\n  ) {\n    return true;\n  }\n\n  if (Array.isArray(value)) {\n    return value.every(isJSONValue);\n  }\n\n  if (typeof value === 'object') {\n    return Object.entries(value).every(\n      ([key, val]) => typeof key === 'string' && isJSONValue(val),\n    );\n  }\n\n  return false;\n}\n\nexport function isJSONArray(value: unknown): value is JSONArray {\n  return Array.isArray(value) && value.every(isJSONValue);\n}\n\nexport function isJSONObject(value: unknown): value is JSONObject {\n  return (\n    value != null &&\n    typeof value === 'object' &&\n    Object.entries(value).every(\n      ([key, val]) => typeof key === 'string' && isJSONValue(val),\n    )\n  );\n}\n"],"names":["name","marker","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a","name","marker","symbol","_a"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1331, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/index.js","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/eventsource-parser%403.0.6/node_modules/eventsource-parser/src/errors.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/eventsource-parser%403.0.6/node_modules/eventsource-parser/src/parse.ts"],"sourcesContent":["/**\n * The type of error that occurred.\n * @public\n */\nexport type ErrorType = 'invalid-retry' | 'unknown-field'\n\n/**\n * Error thrown when encountering an issue during parsing.\n *\n * @public\n */\nexport class ParseError extends Error {\n  /**\n   * The type of error that occurred.\n   */\n  type: ErrorType\n\n  /**\n   * In the case of an unknown field encountered in the stream, this will be the field name.\n   */\n  field?: string | undefined\n\n  /**\n   * In the case of an unknown field encountered in the stream, this will be the value of the field.\n   */\n  value?: string | undefined\n\n  /**\n   * The line that caused the error, if available.\n   */\n  line?: string | undefined\n\n  constructor(\n    message: string,\n    options: {type: ErrorType; field?: string; value?: string; line?: string},\n  ) {\n    super(message)\n    this.name = 'ParseError'\n    this.type = options.type\n    this.field = options.field\n    this.value = options.value\n    this.line = options.line\n  }\n}\n","/**\n * EventSource/Server-Sent Events parser\n * @see https://html.spec.whatwg.org/multipage/server-sent-events.html\n */\nimport {ParseError} from './errors.ts'\nimport type {EventSourceParser, ParserCallbacks} from './types.ts'\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction noop(_arg: unknown) {\n  // intentional noop\n}\n\n/**\n * Creates a new EventSource parser.\n *\n * @param callbacks - Callbacks to invoke on different parsing events:\n *   - `onEvent` when a new event is parsed\n *   - `onError` when an error occurs\n *   - `onRetry` when a new reconnection interval has been sent from the server\n *   - `onComment` when a comment is encountered in the stream\n *\n * @returns A new EventSource parser, with `parse` and `reset` methods.\n * @public\n */\nexport function createParser(callbacks: ParserCallbacks): EventSourceParser {\n  if (typeof callbacks === 'function') {\n    throw new TypeError(\n      '`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?',\n    )\n  }\n\n  const {onEvent = noop, onError = noop, onRetry = noop, onComment} = callbacks\n\n  let incompleteLine = ''\n\n  let isFirstChunk = true\n  let id: string | undefined\n  let data = ''\n  let eventType = ''\n\n  function feed(newChunk: string) {\n    // Strip any UTF8 byte order mark (BOM) at the start of the stream\n    const chunk = isFirstChunk ? newChunk.replace(/^\\xEF\\xBB\\xBF/, '') : newChunk\n\n    // If there was a previous incomplete line, append it to the new chunk,\n    // so we may process it together as a new (hopefully complete) chunk.\n    const [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`)\n\n    for (const line of complete) {\n      parseLine(line)\n    }\n\n    incompleteLine = incomplete\n    isFirstChunk = false\n  }\n\n  function parseLine(line: string) {\n    // If the line is empty (a blank line), dispatch the event\n    if (line === '') {\n      dispatchEvent()\n      return\n    }\n\n    // If the line starts with a U+003A COLON character (:), ignore the line.\n    if (line.startsWith(':')) {\n      if (onComment) {\n        onComment(line.slice(line.startsWith(': ') ? 2 : 1))\n      }\n      return\n    }\n\n    // If the line contains a U+003A COLON character (:)\n    const fieldSeparatorIndex = line.indexOf(':')\n    if (fieldSeparatorIndex !== -1) {\n      // Collect the characters on the line before the first U+003A COLON character (:),\n      // and let `field` be that string.\n      const field = line.slice(0, fieldSeparatorIndex)\n\n      // Collect the characters on the line after the first U+003A COLON character (:),\n      // and let `value` be that string. If value starts with a U+0020 SPACE character,\n      // remove it from value.\n      const offset = line[fieldSeparatorIndex + 1] === ' ' ? 2 : 1\n      const value = line.slice(fieldSeparatorIndex + offset)\n\n      processField(field, value, line)\n      return\n    }\n\n    // Otherwise, the string is not empty but does not contain a U+003A COLON character (:)\n    // Process the field using the whole line as the field name, and an empty string as the field value.\n    //  This is according to spec. That means that a line that has the value `data` will result in\n    // a newline being added to the current `data` buffer, for instance.\n    processField(line, '', line)\n  }\n\n  function processField(field: string, value: string, line: string) {\n    // Field names must be compared literally, with no case folding performed.\n    switch (field) {\n      case 'event':\n        // Set the `event type` buffer to field value\n        eventType = value\n        break\n      case 'data':\n        // Append the field value to the `data` buffer, then append a single U+000A LINE FEED(LF)\n        // character to the `data` buffer.\n        data = `${data}${value}\\n`\n        break\n      case 'id':\n        // If the field value does not contain U+0000 NULL, then set the `ID` buffer to\n        // the field value. Otherwise, ignore the field.\n        id = value.includes('\\0') ? undefined : value\n        break\n      case 'retry':\n        // If the field value consists of only ASCII digits, then interpret the field value as an\n        // integer in base ten, and set the event stream's reconnection time to that integer.\n        // Otherwise, ignore the field.\n        if (/^\\d+$/.test(value)) {\n          onRetry(parseInt(value, 10))\n        } else {\n          onError(\n            new ParseError(`Invalid \\`retry\\` value: \"${value}\"`, {\n              type: 'invalid-retry',\n              value,\n              line,\n            }),\n          )\n        }\n        break\n      default:\n        // Otherwise, the field is ignored.\n        onError(\n          new ParseError(\n            `Unknown field \"${field.length > 20 ? `${field.slice(0, 20)}` : field}\"`,\n            {type: 'unknown-field', field, value, line},\n          ),\n        )\n        break\n    }\n  }\n\n  function dispatchEvent() {\n    const shouldDispatch = data.length > 0\n    if (shouldDispatch) {\n      onEvent({\n        id,\n        event: eventType || undefined,\n        // If the data buffer's last character is a U+000A LINE FEED (LF) character,\n        // then remove the last character from the data buffer.\n        data: data.endsWith('\\n') ? data.slice(0, -1) : data,\n      })\n    }\n\n    // Reset for the next event\n    id = undefined\n    data = ''\n    eventType = ''\n  }\n\n  function reset(options: {consume?: boolean} = {}) {\n    if (incompleteLine && options.consume) {\n      parseLine(incompleteLine)\n    }\n\n    isFirstChunk = true\n    id = undefined\n    data = ''\n    eventType = ''\n    incompleteLine = ''\n  }\n\n  return {feed, reset}\n}\n\n/**\n * For the given `chunk`, split it into lines according to spec, and return any remaining incomplete line.\n *\n * @param chunk - The chunk to split into lines\n * @returns A tuple containing an array of complete lines, and any remaining incomplete line\n * @internal\n */\nfunction splitLines(chunk: string): [complete: Array<string>, incomplete: string] {\n  /**\n   * According to the spec, a line is terminated by either:\n   * - U+000D CARRIAGE RETURN U+000A LINE FEED (CRLF) character pair\n   * - a single U+000A LINE FEED(LF) character not preceded by a U+000D CARRIAGE RETURN(CR) character\n   * - a single U+000D CARRIAGE RETURN(CR) character not followed by a U+000A LINE FEED(LF) character\n   */\n  const lines: Array<string> = []\n  let incompleteLine = ''\n  let searchIndex = 0\n\n  while (searchIndex < chunk.length) {\n    // Find next line terminator\n    const crIndex = chunk.indexOf('\\r', searchIndex)\n    const lfIndex = chunk.indexOf('\\n', searchIndex)\n\n    // Determine line end\n    let lineEnd = -1\n    if (crIndex !== -1 && lfIndex !== -1) {\n      // CRLF case\n      lineEnd = Math.min(crIndex, lfIndex)\n    } else if (crIndex !== -1) {\n      // CR at the end of a chunk might be part of a CRLF sequence that spans chunks,\n      // so we shouldn't treat it as a line terminator (yet)\n      if (crIndex === chunk.length - 1) {\n        lineEnd = -1\n      } else {\n        lineEnd = crIndex\n      }\n    } else if (lfIndex !== -1) {\n      lineEnd = lfIndex\n    }\n\n    // Extract line if terminator found\n    if (lineEnd === -1) {\n      // No terminator found, rest is incomplete\n      incompleteLine = chunk.slice(searchIndex)\n      break\n    } else {\n      const line = chunk.slice(searchIndex, lineEnd)\n      lines.push(line)\n\n      // Move past line terminator\n      searchIndex = lineEnd + 1\n      if (chunk[searchIndex - 1] === '\\r' && chunk[searchIndex] === '\\n') {\n        searchIndex++\n      }\n    }\n  }\n\n  return [lines, incompleteLine]\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1440, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/stream.js","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/eventsource-parser%403.0.6/node_modules/eventsource-parser/src/stream.ts"],"sourcesContent":["import {createParser} from './parse.ts'\nimport type {EventSourceMessage, EventSourceParser} from './types.ts'\n\n/**\n * Options for the EventSourceParserStream.\n *\n * @public\n */\nexport interface StreamOptions {\n  /**\n   * Behavior when a parsing error occurs.\n   *\n   * - A custom function can be provided to handle the error.\n   * - `'terminate'` will error the stream and stop parsing.\n   * - Any other value will ignore the error and continue parsing.\n   *\n   * @defaultValue `undefined`\n   */\n  onError?: ('terminate' | ((error: Error) => void)) | undefined\n\n  /**\n   * Callback for when a reconnection interval is sent from the server.\n   *\n   * @param retry - The number of milliseconds to wait before reconnecting.\n   */\n  onRetry?: ((retry: number) => void) | undefined\n\n  /**\n   * Callback for when a comment is encountered in the stream.\n   *\n   * @param comment - The comment encountered in the stream.\n   */\n  onComment?: ((comment: string) => void) | undefined\n}\n\n/**\n * A TransformStream that ingests a stream of strings and produces a stream of `EventSourceMessage`.\n *\n * @example Basic usage\n * ```\n * const eventStream =\n *   response.body\n *     .pipeThrough(new TextDecoderStream())\n *     .pipeThrough(new EventSourceParserStream())\n * ```\n *\n * @example Terminate stream on parsing errors\n * ```\n * const eventStream =\n *  response.body\n *   .pipeThrough(new TextDecoderStream())\n *   .pipeThrough(new EventSourceParserStream({terminateOnError: true}))\n * ```\n *\n * @public\n */\nexport class EventSourceParserStream extends TransformStream<string, EventSourceMessage> {\n  constructor({onError, onRetry, onComment}: StreamOptions = {}) {\n    let parser!: EventSourceParser\n\n    super({\n      start(controller) {\n        parser = createParser({\n          onEvent: (event) => {\n            controller.enqueue(event)\n          },\n          onError(error) {\n            if (onError === 'terminate') {\n              controller.error(error)\n            } else if (typeof onError === 'function') {\n              onError(error)\n            }\n\n            // Ignore by default\n          },\n          onRetry,\n          onComment,\n        })\n      },\n      transform(chunk) {\n        parser.feed(chunk)\n      },\n    })\n  }\n}\n\nexport {type ErrorType, ParseError} from './errors.ts'\nexport type {EventSourceMessage} from './types.ts'\n"],"names":[],"mappings":";;;;;;;AAwDO,MAAM,gCAAgC,gBAA4C;IACvF,YAAY,EAAC,OAAA,EAAS,OAAA,EAAS,SAAA,CAAA,CAAA,GAA4B,CAAA,CAAA,CAAI;QAC7D,IAAI;QAEJ,KAAA,CAAM;YACJ,OAAM,UAAA,EAAY;gBAChB,aAAS,2OAAA,EAAa;oBACpB,SAAS,CAAC,UAAU;wBAClB,WAAW,OAAA,CAAQ,KAAK;oBAC1B;oBACA,SAAQ,KAAA,EAAO;wBACT,YAAY,cACd,WAAW,KAAA,CAAM,KAAK,IACb,OAAO,WAAY,cAC5B,QAAQ,KAAK;oBAIjB;oBACA;oBACA;gBAAA,CACD;YACH;YACA,WAAU,KAAA,EAAO;gBACf,OAAO,IAAA,CAAK,KAAK;YACnB;QAAA,CACD;IACH;AACF","debugId":null}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/combine-headers.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/convert-async-iterator-to-readable-stream.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/delay.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/extract-response-headers.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/generate-id.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/get-error-message.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/get-from-api.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/handle-fetch-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/is-abort-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/get-runtime-environment-user-agent.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/normalize-headers.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/with-user-agent-suffix.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/version.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/inject-json-instruction.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/is-url-supported.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/load-api-key.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/load-optional-setting.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/load-setting.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/media-type-to-extension.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/parse-json.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/secure-json-parse.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/validate-types.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/validator.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/parse-json-event-stream.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/parse-provider-options.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/post-to-api.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/types/tool.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/provider-defined-tool-factory.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/remove-undefined-entries.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/resolve.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/response-handler.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-schema.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/get-relative-path.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/options.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/select-parser.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/any.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/array.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/bigint.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/boolean.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/branded.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/catch.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/date.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/default.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/effects.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/enum.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/intersection.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/literal.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/record.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/string.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/map.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/native-enum.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/never.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/null.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/union.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/nullable.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/number.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/object.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/optional.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/pipeline.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/promise.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/set.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/tuple.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/undefined.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/unknown.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parsers/readonly.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/parse-def.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/refs.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/zod-to-json-schema.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/zod-to-json-schema/index.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/schema.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/uint8-utils.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/without-trailing-slash.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/is-async-iterable.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/types/execute-tool.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bprovider-utils%403.0.16_zod%404.1.12/node_modules/%40ai-sdk/provider-utils/src/index.ts"],"sourcesContent":["export function combineHeaders(\n  ...headers: Array<Record<string, string | undefined> | undefined>\n): Record<string, string | undefined> {\n  return headers.reduce(\n    (combinedHeaders, currentHeaders) => ({\n      ...combinedHeaders,\n      ...(currentHeaders ?? {}),\n    }),\n    {},\n  ) as Record<string, string | undefined>;\n}\n","/**\n * Converts an AsyncIterator to a ReadableStream.\n *\n * @template T - The type of elements produced by the AsyncIterator.\n * @param { <T>} iterator - The AsyncIterator to convert.\n * @returns {ReadableStream<T>} - A ReadableStream that provides the same data as the AsyncIterator.\n */\nexport function convertAsyncIteratorToReadableStream<T>(\n  iterator: AsyncIterator<T>,\n): ReadableStream<T> {\n  let cancelled = false;\n\n  return new ReadableStream<T>({\n    /**\n     * Called when the consumer wants to pull more data from the stream.\n     *\n     * @param {ReadableStreamDefaultController<T>} controller - The controller to enqueue data into the stream.\n     * @returns {Promise<void>}\n     */\n    async pull(controller) {\n      if (cancelled) return;\n      try {\n        const { value, done } = await iterator.next();\n        if (done) {\n          controller.close();\n        } else {\n          controller.enqueue(value);\n        }\n      } catch (error) {\n        controller.error(error);\n      }\n    },\n    /**\n     * Called when the consumer cancels the stream.\n     */\n    async cancel(reason?: unknown) {\n      cancelled = true;\n      if (iterator.return) {\n        try {\n          await iterator.return(reason);\n        } catch {\n          // intentionally ignore errors during cancellation\n        }\n      }\n    },\n  });\n}\n","/**\n * Creates a Promise that resolves after a specified delay\n * @param delayInMs - The delay duration in milliseconds. If null or undefined, resolves immediately.\n * @param signal - Optional AbortSignal to cancel the delay\n * @returns A Promise that resolves after the specified delay\n * @throws {DOMException} When the signal is aborted\n */\nexport async function delay(\n  delayInMs?: number | null,\n  options?: {\n    abortSignal?: AbortSignal;\n  },\n): Promise<void> {\n  if (delayInMs == null) {\n    return Promise.resolve();\n  }\n\n  const signal = options?.abortSignal;\n\n  return new Promise<void>((resolve, reject) => {\n    if (signal?.aborted) {\n      reject(createAbortError());\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      cleanup();\n      resolve();\n    }, delayInMs);\n\n    const cleanup = () => {\n      clearTimeout(timeoutId);\n      signal?.removeEventListener('abort', onAbort);\n    };\n\n    const onAbort = () => {\n      cleanup();\n      reject(createAbortError());\n    };\n\n    signal?.addEventListener('abort', onAbort);\n  });\n}\n\nfunction createAbortError(): DOMException {\n  return new DOMException('Delay was aborted', 'AbortError');\n}\n","/**\nExtracts the headers from a response object and returns them as a key-value object.\n\n@param response - The response object to extract headers from.\n@returns The headers as a key-value object.\n*/\nexport function extractResponseHeaders(response: Response) {\n  return Object.fromEntries<string>([...response.headers]);\n}\n","import { InvalidArgumentError } from '@ai-sdk/provider';\n\n/**\nCreates an ID generator.\nThe total length of the ID is the sum of the prefix, separator, and random part length.\nNot cryptographically secure.\n\n@param alphabet - The alphabet to use for the ID. Default: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.\n@param prefix - The prefix of the ID to generate. Optional.\n@param separator - The separator between the prefix and the random part of the ID. Default: '-'.\n@param size - The size of the random part of the ID to generate. Default: 16.\n */\nexport const createIdGenerator = ({\n  prefix,\n  size = 16,\n  alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n  separator = '-',\n}: {\n  prefix?: string;\n  separator?: string;\n  size?: number;\n  alphabet?: string;\n} = {}): IdGenerator => {\n  const generator = () => {\n    const alphabetLength = alphabet.length;\n    const chars = new Array(size);\n    for (let i = 0; i < size; i++) {\n      chars[i] = alphabet[(Math.random() * alphabetLength) | 0];\n    }\n    return chars.join('');\n  };\n\n  if (prefix == null) {\n    return generator;\n  }\n\n  // check that the prefix is not part of the alphabet (otherwise prefix checking can fail randomly)\n  if (alphabet.includes(separator)) {\n    throw new InvalidArgumentError({\n      argument: 'separator',\n      message: `The separator \"${separator}\" must not be part of the alphabet \"${alphabet}\".`,\n    });\n  }\n\n  return () => `${prefix}${separator}${generator()}`;\n};\n\n/**\nA function that generates an ID.\n */\nexport type IdGenerator = () => string;\n\n/**\nGenerates a 16-character random string to use for IDs.\nNot cryptographically secure.\n */\nexport const generateId = createIdGenerator();\n","export function getErrorMessage(error: unknown | undefined) {\n  if (error == null) {\n    return 'unknown error';\n  }\n\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  if (error instanceof Error) {\n    return error.message;\n  }\n\n  return JSON.stringify(error);\n}\n","import { APICallError } from '@ai-sdk/provider';\nimport { extractResponseHeaders } from './extract-response-headers';\nimport { FetchFunction } from './fetch-function';\nimport { handleFetchError } from './handle-fetch-error';\nimport { isAbortError } from './is-abort-error';\nimport { ResponseHandler } from './response-handler';\nimport { getRuntimeEnvironmentUserAgent } from './get-runtime-environment-user-agent';\nimport { withUserAgentSuffix } from './with-user-agent-suffix';\nimport { VERSION } from './version';\n\n// use function to allow for mocking in tests:\nconst getOriginalFetch = () => globalThis.fetch;\n\nexport const getFromApi = async <T>({\n  url,\n  headers = {},\n  successfulResponseHandler,\n  failedResponseHandler,\n  abortSignal,\n  fetch = getOriginalFetch(),\n}: {\n  url: string;\n  headers?: Record<string, string | undefined>;\n  failedResponseHandler: ResponseHandler<Error>;\n  successfulResponseHandler: ResponseHandler<T>;\n  abortSignal?: AbortSignal;\n  fetch?: FetchFunction;\n}) => {\n  try {\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: withUserAgentSuffix(\n        headers,\n        `ai-sdk/provider-utils/${VERSION}`,\n        getRuntimeEnvironmentUserAgent(),\n      ),\n      signal: abortSignal,\n    });\n\n    const responseHeaders = extractResponseHeaders(response);\n\n    if (!response.ok) {\n      let errorInformation: {\n        value: Error;\n        responseHeaders?: Record<string, string> | undefined;\n      };\n\n      try {\n        errorInformation = await failedResponseHandler({\n          response,\n          url,\n          requestBodyValues: {},\n        });\n      } catch (error) {\n        if (isAbortError(error) || APICallError.isInstance(error)) {\n          throw error;\n        }\n\n        throw new APICallError({\n          message: 'Failed to process error response',\n          cause: error,\n          statusCode: response.status,\n          url,\n          responseHeaders,\n          requestBodyValues: {},\n        });\n      }\n\n      throw errorInformation.value;\n    }\n\n    try {\n      return await successfulResponseHandler({\n        response,\n        url,\n        requestBodyValues: {},\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        if (isAbortError(error) || APICallError.isInstance(error)) {\n          throw error;\n        }\n      }\n\n      throw new APICallError({\n        message: 'Failed to process successful response',\n        cause: error,\n        statusCode: response.status,\n        url,\n        responseHeaders,\n        requestBodyValues: {},\n      });\n    }\n  } catch (error) {\n    throw handleFetchError({ error, url, requestBodyValues: {} });\n  }\n};\n","import { APICallError } from '@ai-sdk/provider';\nimport { isAbortError } from './is-abort-error';\n\nconst FETCH_FAILED_ERROR_MESSAGES = ['fetch failed', 'failed to fetch'];\n\nexport function handleFetchError({\n  error,\n  url,\n  requestBodyValues,\n}: {\n  error: unknown;\n  url: string;\n  requestBodyValues: unknown;\n}) {\n  if (isAbortError(error)) {\n    return error;\n  }\n\n  // unwrap original error when fetch failed (for easier debugging):\n  if (\n    error instanceof TypeError &&\n    FETCH_FAILED_ERROR_MESSAGES.includes(error.message.toLowerCase())\n  ) {\n    const cause = (error as any).cause;\n\n    if (cause != null) {\n      // Failed to connect to server:\n      return new APICallError({\n        message: `Cannot connect to API: ${cause.message}`,\n        cause,\n        url,\n        requestBodyValues,\n        isRetryable: true, // retry when network error\n      });\n    }\n  }\n\n  return error;\n}\n","export function isAbortError(error: unknown): error is Error {\n  return (\n    (error instanceof Error || error instanceof DOMException) &&\n    (error.name === 'AbortError' ||\n      error.name === 'ResponseAborted' || // Next.js\n      error.name === 'TimeoutError')\n  );\n}\n","export function getRuntimeEnvironmentUserAgent(\n  globalThisAny: any = globalThis as any,\n): string {\n  // Browsers\n  if (globalThisAny.window) {\n    return `runtime/browser`;\n  }\n\n  // Cloudflare Workers / Deno / Bun / Node.js >= 21.1\n  if (globalThisAny.navigator?.userAgent) {\n    return `runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`;\n  }\n\n  // Nodes.js < 21.1\n  if (globalThisAny.process?.versions?.node) {\n    return `runtime/node.js/${globalThisAny.process.version.substring(0)}`;\n  }\n\n  if (globalThisAny.EdgeRuntime) {\n    return `runtime/vercel-edge`;\n  }\n\n  return 'runtime/unknown';\n}\n","/**\n * Normalizes different header inputs into a plain record with lower-case keys.\n * Entries with `undefined` or `null` values are removed.\n *\n * @param headers - Input headers (`Headers`, tuples array, plain record) to normalize.\n * @returns A record containing the normalized header entries.\n */\nexport function normalizeHeaders(\n  headers:\n    | HeadersInit\n    | Record<string, string | undefined>\n    | Array<[string, string | undefined]>\n    | undefined,\n): Record<string, string> {\n  if (headers == null) {\n    return {};\n  }\n\n  const normalized: Record<string, string> = {};\n\n  if (headers instanceof Headers) {\n    headers.forEach((value, key) => {\n      normalized[key.toLowerCase()] = value;\n    });\n  } else {\n    if (!Array.isArray(headers)) {\n      headers = Object.entries(headers);\n    }\n\n    for (const [key, value] of headers) {\n      if (value != null) {\n        normalized[key.toLowerCase()] = value;\n      }\n    }\n  }\n\n  return normalized;\n}\n","import { normalizeHeaders } from './normalize-headers';\n\n/**\n * Appends suffix parts to the `user-agent` header.\n * If a `user-agent` header already exists, the suffix parts are appended to it.\n * If no `user-agent` header exists, a new one is created with the suffix parts.\n * Automatically removes undefined entries from the headers.\n *\n * @param headers - The original headers.\n * @param userAgentSuffixParts - The parts to append to the `user-agent` header.\n * @returns The new headers with the `user-agent` header set or updated.\n */\nexport function withUserAgentSuffix(\n  headers: HeadersInit | Record<string, string | undefined> | undefined,\n  ...userAgentSuffixParts: string[]\n): Record<string, string> {\n  const normalizedHeaders = new Headers(normalizeHeaders(headers));\n\n  const currentUserAgentHeader = normalizedHeaders.get('user-agent') || '';\n\n  normalizedHeaders.set(\n    'user-agent',\n    [currentUserAgentHeader, ...userAgentSuffixParts].filter(Boolean).join(' '),\n  );\n\n  return Object.fromEntries(normalizedHeaders.entries());\n}\n","// Version string of this package injected at build time.\ndeclare const __PACKAGE_VERSION__: string | undefined;\nexport const VERSION: string =\n  typeof __PACKAGE_VERSION__ !== 'undefined'\n    ? __PACKAGE_VERSION__\n    : '0.0.0-test';\n","import {\n  JSONSchema7,\n  LanguageModelV2Message,\n  LanguageModelV2Prompt,\n} from '@ai-sdk/provider';\n\nconst DEFAULT_SCHEMA_PREFIX = 'JSON schema:';\nconst DEFAULT_SCHEMA_SUFFIX =\n  'You MUST answer with a JSON object that matches the JSON schema above.';\nconst DEFAULT_GENERIC_SUFFIX = 'You MUST answer with JSON.';\n\nexport function injectJsonInstruction({\n  prompt,\n  schema,\n  schemaPrefix = schema != null ? DEFAULT_SCHEMA_PREFIX : undefined,\n  schemaSuffix = schema != null\n    ? DEFAULT_SCHEMA_SUFFIX\n    : DEFAULT_GENERIC_SUFFIX,\n}: {\n  prompt?: string;\n  schema?: JSONSchema7;\n  schemaPrefix?: string;\n  schemaSuffix?: string;\n}): string {\n  return [\n    prompt != null && prompt.length > 0 ? prompt : undefined,\n    prompt != null && prompt.length > 0 ? '' : undefined, // add a newline if prompt is not null\n    schemaPrefix,\n    schema != null ? JSON.stringify(schema) : undefined,\n    schemaSuffix,\n  ]\n    .filter(line => line != null)\n    .join('\\n');\n}\n\nexport function injectJsonInstructionIntoMessages({\n  messages,\n  schema,\n  schemaPrefix,\n  schemaSuffix,\n}: {\n  messages: LanguageModelV2Prompt;\n  schema?: JSONSchema7;\n  schemaPrefix?: string;\n  schemaSuffix?: string;\n}): LanguageModelV2Prompt {\n  const systemMessage: LanguageModelV2Message =\n    messages[0]?.role === 'system'\n      ? { ...messages[0] }\n      : { role: 'system', content: '' };\n\n  systemMessage.content = injectJsonInstruction({\n    prompt: systemMessage.content,\n    schema,\n    schemaPrefix,\n    schemaSuffix,\n  });\n\n  return [\n    systemMessage,\n    ...(messages[0]?.role === 'system' ? messages.slice(1) : messages),\n  ];\n}\n","/**\n * Checks if the given URL is supported natively by the model.\n *\n * @param mediaType - The media type of the URL. Case-sensitive.\n * @param url - The URL to check.\n * @param supportedUrls - A record where keys are case-sensitive media types (or '*')\n *                        and values are arrays of RegExp patterns for URLs.\n *\n * @returns `true` if the URL matches a pattern under the specific media type\n *          or the wildcard '*', `false` otherwise.\n */\nexport function isUrlSupported({\n  mediaType,\n  url,\n  supportedUrls,\n}: {\n  mediaType: string;\n  url: string;\n  supportedUrls: Record<string, RegExp[]>;\n}): boolean {\n  // standardize media type and url to lower case\n  url = url.toLowerCase();\n  mediaType = mediaType.toLowerCase();\n\n  return (\n    Object.entries(supportedUrls)\n      // standardize supported url map into lowercase prefixes:\n      .map(([key, value]) => {\n        const mediaType = key.toLowerCase();\n        return mediaType === '*' || mediaType === '*/*'\n          ? { mediaTypePrefix: '', regexes: value }\n          : { mediaTypePrefix: mediaType.replace(/\\*/, ''), regexes: value };\n      })\n      // gather all regexp pattern from matched media type prefixes:\n      .filter(({ mediaTypePrefix }) => mediaType.startsWith(mediaTypePrefix))\n      .flatMap(({ regexes }) => regexes)\n      // check if any pattern matches the url:\n      .some(pattern => pattern.test(url))\n  );\n}\n","import { LoadAPIKeyError } from '@ai-sdk/provider';\n\nexport function loadApiKey({\n  apiKey,\n  environmentVariableName,\n  apiKeyParameterName = 'apiKey',\n  description,\n}: {\n  apiKey: string | undefined;\n  environmentVariableName: string;\n  apiKeyParameterName?: string;\n  description: string;\n}): string {\n  if (typeof apiKey === 'string') {\n    return apiKey;\n  }\n\n  if (apiKey != null) {\n    throw new LoadAPIKeyError({\n      message: `${description} API key must be a string.`,\n    });\n  }\n\n  if (typeof process === 'undefined') {\n    throw new LoadAPIKeyError({\n      message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter. Environment variables is not supported in this environment.`,\n    });\n  }\n\n  apiKey = process.env[environmentVariableName];\n\n  if (apiKey == null) {\n    throw new LoadAPIKeyError({\n      message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter or the ${environmentVariableName} environment variable.`,\n    });\n  }\n\n  if (typeof apiKey !== 'string') {\n    throw new LoadAPIKeyError({\n      message: `${description} API key must be a string. The value of the ${environmentVariableName} environment variable is not a string.`,\n    });\n  }\n\n  return apiKey;\n}\n","/**\n * Loads an optional `string` setting from the environment or a parameter.\n *\n * @param settingValue - The setting value.\n * @param environmentVariableName - The environment variable name.\n * @returns The setting value.\n */\nexport function loadOptionalSetting({\n  settingValue,\n  environmentVariableName,\n}: {\n  settingValue: string | undefined;\n  environmentVariableName: string;\n}): string | undefined {\n  if (typeof settingValue === 'string') {\n    return settingValue;\n  }\n\n  if (settingValue != null || typeof process === 'undefined') {\n    return undefined;\n  }\n\n  settingValue = process.env[environmentVariableName];\n\n  if (settingValue == null || typeof settingValue !== 'string') {\n    return undefined;\n  }\n\n  return settingValue;\n}\n","import { LoadSettingError } from '@ai-sdk/provider';\n\n/**\n * Loads a `string` setting from the environment or a parameter.\n *\n * @param settingValue - The setting value.\n * @param environmentVariableName - The environment variable name.\n * @param settingName - The setting name.\n * @param description - The description of the setting.\n * @returns The setting value.\n */\nexport function loadSetting({\n  settingValue,\n  environmentVariableName,\n  settingName,\n  description,\n}: {\n  settingValue: string | undefined;\n  environmentVariableName: string;\n  settingName: string;\n  description: string;\n}): string {\n  if (typeof settingValue === 'string') {\n    return settingValue;\n  }\n\n  if (settingValue != null) {\n    throw new LoadSettingError({\n      message: `${description} setting must be a string.`,\n    });\n  }\n\n  if (typeof process === 'undefined') {\n    throw new LoadSettingError({\n      message:\n        `${description} setting is missing. ` +\n        `Pass it using the '${settingName}' parameter. ` +\n        `Environment variables is not supported in this environment.`,\n    });\n  }\n\n  settingValue = process.env[environmentVariableName];\n\n  if (settingValue == null) {\n    throw new LoadSettingError({\n      message:\n        `${description} setting is missing. ` +\n        `Pass it using the '${settingName}' parameter ` +\n        `or the ${environmentVariableName} environment variable.`,\n    });\n  }\n\n  if (typeof settingValue !== 'string') {\n    throw new LoadSettingError({\n      message:\n        `${description} setting must be a string. ` +\n        `The value of the ${environmentVariableName} environment variable is not a string.`,\n    });\n  }\n\n  return settingValue;\n}\n","/**\n * Maps a media type to its corresponding file extension.\n * It was originally introduced to set a filename for audio file uploads\n * in https://github.com/vercel/ai/pull/8159.\n *\n * @param mediaType The media type to map.\n * @returns The corresponding file extension\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/MIME_types/Common_types\n */\nexport function mediaTypeToExtension(mediaType: string) {\n  const [_type, subtype = ''] = mediaType.toLowerCase().split('/');\n\n  return (\n    {\n      mpeg: 'mp3',\n      'x-wav': 'wav',\n      opus: 'ogg',\n      mp4: 'm4a',\n      'x-m4a': 'm4a',\n    }[subtype] ?? subtype\n  );\n}\n","import {\n  JSONParseError,\n  JSONValue,\n  TypeValidationError,\n} from '@ai-sdk/provider';\nimport { secureJsonParse } from './secure-json-parse';\nimport { safeValidateTypes, validateTypes } from './validate-types';\nimport { FlexibleValidator, Validator } from './validator';\n\n/**\n * Parses a JSON string into an unknown object.\n *\n * @param text - The JSON string to parse.\n * @returns {JSONValue} - The parsed JSON object.\n */\nexport async function parseJSON(options: {\n  text: string;\n  schema?: undefined;\n}): Promise<JSONValue>;\n/**\n * Parses a JSON string into a strongly-typed object using the provided schema.\n *\n * @template T - The type of the object to parse the JSON into.\n * @param {string} text - The JSON string to parse.\n * @param {Validator<T>} schema - The schema to use for parsing the JSON.\n * @returns {Promise<T>} - The parsed object.\n */\nexport async function parseJSON<T>(options: {\n  text: string;\n  schema: FlexibleValidator<T>;\n}): Promise<T>;\nexport async function parseJSON<T>({\n  text,\n  schema,\n}: {\n  text: string;\n  schema?: FlexibleValidator<T>;\n}): Promise<T> {\n  try {\n    const value = secureJsonParse(text);\n\n    if (schema == null) {\n      return value;\n    }\n\n    return validateTypes<T>({ value, schema });\n  } catch (error) {\n    if (\n      JSONParseError.isInstance(error) ||\n      TypeValidationError.isInstance(error)\n    ) {\n      throw error;\n    }\n\n    throw new JSONParseError({ text, cause: error });\n  }\n}\n\nexport type ParseResult<T> =\n  | { success: true; value: T; rawValue: unknown }\n  | {\n      success: false;\n      error: JSONParseError | TypeValidationError;\n      rawValue: unknown;\n    };\n\n/**\n * Safely parses a JSON string and returns the result as an object of type `unknown`.\n *\n * @param text - The JSON string to parse.\n * @returns {Promise<object>} Either an object with `success: true` and the parsed data, or an object with `success: false` and the error that occurred.\n */\nexport async function safeParseJSON(options: {\n  text: string;\n  schema?: undefined;\n}): Promise<ParseResult<JSONValue>>;\n/**\n * Safely parses a JSON string into a strongly-typed object, using a provided schema to validate the object.\n *\n * @template T - The type of the object to parse the JSON into.\n * @param {string} text - The JSON string to parse.\n * @param {Validator<T>} schema - The schema to use for parsing the JSON.\n * @returns An object with either a `success` flag and the parsed and typed data, or a `success` flag and an error object.\n */\nexport async function safeParseJSON<T>(options: {\n  text: string;\n  schema: FlexibleValidator<T>;\n}): Promise<ParseResult<T>>;\nexport async function safeParseJSON<T>({\n  text,\n  schema,\n}: {\n  text: string;\n  schema?: FlexibleValidator<T>;\n}): Promise<ParseResult<T>> {\n  try {\n    const value = secureJsonParse(text);\n\n    if (schema == null) {\n      return { success: true, value: value as T, rawValue: value };\n    }\n\n    return await safeValidateTypes<T>({ value, schema });\n  } catch (error) {\n    return {\n      success: false,\n      error: JSONParseError.isInstance(error)\n        ? error\n        : new JSONParseError({ text, cause: error }),\n      rawValue: undefined,\n    };\n  }\n}\n\nexport function isParsableJson(input: string): boolean {\n  try {\n    secureJsonParse(input);\n    return true;\n  } catch {\n    return false;\n  }\n}\n","// Licensed under BSD-3-Clause (this file only)\n// Code adapted from https://github.com/fastify/secure-json-parse/blob/783fcb1b5434709466759847cec974381939673a/index.js\n//\n// Copyright (c) Vercel, Inc. (https://vercel.com)\n// Copyright (c) 2019 The Fastify Team\n// Copyright (c) 2019, Sideway Inc, and project contributors\n// All rights reserved.\n//\n// The complete list of contributors can be found at:\n// - https://github.com/hapijs/bourne/graphs/contributors\n// - https://github.com/fastify/secure-json-parse/graphs/contributors\n// - https://github.com/vercel/ai/commits/main/packages/provider-utils/src/secure-parse-json.ts\n//\n// Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n//\n// 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n//\n// 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n//\n// 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nconst suspectProtoRx = /\"__proto__\"\\s*:/;\nconst suspectConstructorRx = /\"constructor\"\\s*:/;\n\nfunction _parse(text: string) {\n  // Parse normally\n  const obj = JSON.parse(text);\n\n  // Ignore null and non-objects\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  if (\n    suspectProtoRx.test(text) === false &&\n    suspectConstructorRx.test(text) === false\n  ) {\n    return obj;\n  }\n\n  // Scan result for proto keys\n  return filter(obj);\n}\n\nfunction filter(obj: any) {\n  let next = [obj];\n\n  while (next.length) {\n    const nodes = next;\n    next = [];\n\n    for (const node of nodes) {\n      if (Object.prototype.hasOwnProperty.call(node, '__proto__')) {\n        throw new SyntaxError('Object contains forbidden prototype property');\n      }\n\n      if (\n        Object.prototype.hasOwnProperty.call(node, 'constructor') &&\n        Object.prototype.hasOwnProperty.call(node.constructor, 'prototype')\n      ) {\n        throw new SyntaxError('Object contains forbidden prototype property');\n      }\n\n      for (const key in node) {\n        const value = node[key];\n        if (value && typeof value === 'object') {\n          next.push(value);\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nexport function secureJsonParse(text: string) {\n  // Performance optimization, see https://github.com/fastify/secure-json-parse/pull/90\n  const { stackTraceLimit } = Error;\n  Error.stackTraceLimit = 0;\n  try {\n    return _parse(text);\n  } finally {\n    Error.stackTraceLimit = stackTraceLimit;\n  }\n}\n","import { TypeValidationError } from '@ai-sdk/provider';\nimport { FlexibleValidator, asValidator } from './validator';\n\n/**\n * Validates the types of an unknown object using a schema and\n * return a strongly-typed object.\n *\n * @template T - The type of the object to validate.\n * @param {string} options.value - The object to validate.\n * @param {Validator<T>} options.schema - The schema to use for validating the JSON.\n * @returns {Promise<T>} - The typed object.\n */\nexport async function validateTypes<OBJECT>({\n  value,\n  schema,\n}: {\n  value: unknown;\n  schema: FlexibleValidator<OBJECT>;\n}): Promise<OBJECT> {\n  const result = await safeValidateTypes({ value, schema });\n\n  if (!result.success) {\n    throw TypeValidationError.wrap({ value, cause: result.error });\n  }\n\n  return result.value;\n}\n\n/**\n * Safely validates the types of an unknown object using a schema and\n * return a strongly-typed object.\n *\n * @template T - The type of the object to validate.\n * @param {string} options.value - The JSON object to validate.\n * @param {Validator<T>} options.schema - The schema to use for validating the JSON.\n * @returns An object with either a `success` flag and the parsed and typed data, or a `success` flag and an error object.\n */\nexport async function safeValidateTypes<OBJECT>({\n  value,\n  schema,\n}: {\n  value: unknown;\n  schema: FlexibleValidator<OBJECT>;\n}): Promise<\n  | {\n      success: true;\n      value: OBJECT;\n      rawValue: unknown;\n    }\n  | {\n      success: false;\n      error: TypeValidationError;\n      rawValue: unknown;\n    }\n> {\n  const validator = asValidator(schema);\n\n  try {\n    if (validator.validate == null) {\n      return { success: true, value: value as OBJECT, rawValue: value };\n    }\n\n    const result = await validator.validate(value);\n\n    if (result.success) {\n      return { success: true, value: result.value, rawValue: value };\n    }\n\n    return {\n      success: false,\n      error: TypeValidationError.wrap({ value, cause: result.error }),\n      rawValue: value,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: TypeValidationError.wrap({ value, cause: error }),\n      rawValue: value,\n    };\n  }\n}\n","import { TypeValidationError } from '@ai-sdk/provider';\nimport { StandardSchemaV1 } from '@standard-schema/spec';\n\n/**\n * Used to mark validator functions so we can support both Zod and custom schemas.\n */\nexport const validatorSymbol = Symbol.for('vercel.ai.validator');\n\nexport type ValidationResult<OBJECT> =\n  | { success: true; value: OBJECT }\n  | { success: false; error: Error };\n\nexport type Validator<OBJECT = unknown> = {\n  /**\n   * Used to mark validator functions so we can support both Zod and custom schemas.\n   */\n  [validatorSymbol]: true;\n\n  /**\n   * Optional. Validates that the structure of a value matches this schema,\n   * and returns a typed version of the value if it does.\n   */\n  readonly validate?: (\n    value: unknown,\n  ) => ValidationResult<OBJECT> | PromiseLike<ValidationResult<OBJECT>>;\n};\n\n/**\n * Create a validator.\n *\n * @param validate A validation function for the schema.\n */\nexport function validator<OBJECT>(\n  validate?:\n    | undefined\n    | ((\n        value: unknown,\n      ) => ValidationResult<OBJECT> | PromiseLike<ValidationResult<OBJECT>>),\n): Validator<OBJECT> {\n  return { [validatorSymbol]: true, validate };\n}\n\nexport function isValidator(value: unknown): value is Validator {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    validatorSymbol in value &&\n    value[validatorSymbol] === true &&\n    'validate' in value\n  );\n}\n\n/**\n * Creates a validator with deferred creation.\n * This is important to reduce the startup time of the library\n * and to avoid initializing unused validators.\n *\n * @param createValidator A function that creates a validator.\n * @returns A function that returns a validator.\n */\nexport function lazyValidator<OBJECT>(\n  createValidator: () => Validator<OBJECT>,\n): LazyValidator<OBJECT> {\n  // cache the validator to avoid initializing it multiple times\n  let validator: Validator<OBJECT> | undefined;\n  return () => {\n    if (validator == null) {\n      validator = createValidator();\n    }\n    return validator;\n  };\n}\n\nexport type LazyValidator<OBJECT> = () => Validator<OBJECT>;\n\nexport type FlexibleValidator<OBJECT> =\n  | Validator<OBJECT>\n  | LazyValidator<OBJECT>\n  | StandardSchemaV1<unknown, OBJECT>;\n\nexport type InferValidator<SCHEMA> =\n  SCHEMA extends StandardSchemaV1<unknown, infer T>\n    ? T\n    : SCHEMA extends LazyValidator<infer T>\n      ? T\n      : SCHEMA extends Validator<infer T>\n        ? T\n        : never;\n\nexport function asValidator<OBJECT>(\n  value: FlexibleValidator<OBJECT>,\n): Validator<OBJECT> {\n  return isValidator(value)\n    ? value\n    : typeof value === 'function'\n      ? value()\n      : standardSchemaValidator(value);\n}\n\nexport function standardSchemaValidator<OBJECT>(\n  standardSchema: StandardSchemaV1<unknown, OBJECT>,\n): Validator<OBJECT> {\n  return validator(async value => {\n    const result = await standardSchema['~standard'].validate(value);\n\n    return result.issues == null\n      ? { success: true, value: result.value }\n      : {\n          success: false,\n          error: new TypeValidationError({\n            value,\n            cause: result.issues,\n          }),\n        };\n  });\n}\n","import {\n  EventSourceMessage,\n  EventSourceParserStream,\n} from 'eventsource-parser/stream';\nimport { ParseResult, safeParseJSON } from './parse-json';\nimport { FlexibleValidator } from './validator';\n\n/**\n * Parses a JSON event stream into a stream of parsed JSON objects.\n */\nexport function parseJsonEventStream<T>({\n  stream,\n  schema,\n}: {\n  stream: ReadableStream<Uint8Array>;\n  schema: FlexibleValidator<T>;\n}): ReadableStream<ParseResult<T>> {\n  return stream\n    .pipeThrough(new TextDecoderStream())\n    .pipeThrough(new EventSourceParserStream())\n    .pipeThrough(\n      new TransformStream<EventSourceMessage, ParseResult<T>>({\n        async transform({ data }, controller) {\n          // ignore the 'DONE' event that e.g. OpenAI sends:\n          if (data === '[DONE]') {\n            return;\n          }\n\n          controller.enqueue(await safeParseJSON({ text: data, schema }));\n        },\n      }),\n    );\n}\n","import { InvalidArgumentError } from '@ai-sdk/provider';\nimport { safeValidateTypes } from './validate-types';\nimport { FlexibleValidator } from './validator';\n\nexport async function parseProviderOptions<OPTIONS>({\n  provider,\n  providerOptions,\n  schema,\n}: {\n  provider: string;\n  providerOptions: Record<string, unknown> | undefined;\n  schema: FlexibleValidator<OPTIONS>;\n}): Promise<OPTIONS | undefined> {\n  if (providerOptions?.[provider] == null) {\n    return undefined;\n  }\n\n  const parsedProviderOptions = await safeValidateTypes<OPTIONS | undefined>({\n    value: providerOptions[provider],\n    schema,\n  });\n\n  if (!parsedProviderOptions.success) {\n    throw new InvalidArgumentError({\n      argument: 'providerOptions',\n      message: `invalid ${provider} provider options`,\n      cause: parsedProviderOptions.error,\n    });\n  }\n\n  return parsedProviderOptions.value;\n}\n","import { APICallError } from '@ai-sdk/provider';\nimport { extractResponseHeaders } from './extract-response-headers';\nimport { FetchFunction } from './fetch-function';\nimport { handleFetchError } from './handle-fetch-error';\nimport { isAbortError } from './is-abort-error';\nimport { ResponseHandler } from './response-handler';\nimport { getRuntimeEnvironmentUserAgent } from './get-runtime-environment-user-agent';\nimport { withUserAgentSuffix } from './with-user-agent-suffix';\nimport { VERSION } from './version';\n\n// use function to allow for mocking in tests:\nconst getOriginalFetch = () => globalThis.fetch;\n\nexport const postJsonToApi = async <T>({\n  url,\n  headers,\n  body,\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch,\n}: {\n  url: string;\n  headers?: Record<string, string | undefined>;\n  body: unknown;\n  failedResponseHandler: ResponseHandler<APICallError>;\n  successfulResponseHandler: ResponseHandler<T>;\n  abortSignal?: AbortSignal;\n  fetch?: FetchFunction;\n}) =>\n  postToApi({\n    url,\n    headers: {\n      'Content-Type': 'application/json',\n      ...headers,\n    },\n    body: {\n      content: JSON.stringify(body),\n      values: body,\n    },\n    failedResponseHandler,\n    successfulResponseHandler,\n    abortSignal,\n    fetch,\n  });\n\nexport const postFormDataToApi = async <T>({\n  url,\n  headers,\n  formData,\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch,\n}: {\n  url: string;\n  headers?: Record<string, string | undefined>;\n  formData: FormData;\n  failedResponseHandler: ResponseHandler<APICallError>;\n  successfulResponseHandler: ResponseHandler<T>;\n  abortSignal?: AbortSignal;\n  fetch?: FetchFunction;\n}) =>\n  postToApi({\n    url,\n    headers,\n    body: {\n      content: formData,\n      values: Object.fromEntries((formData as any).entries()),\n    },\n    failedResponseHandler,\n    successfulResponseHandler,\n    abortSignal,\n    fetch,\n  });\n\nexport const postToApi = async <T>({\n  url,\n  headers = {},\n  body,\n  successfulResponseHandler,\n  failedResponseHandler,\n  abortSignal,\n  fetch = getOriginalFetch(),\n}: {\n  url: string;\n  headers?: Record<string, string | undefined>;\n  body: {\n    content: string | FormData | Uint8Array;\n    values: unknown;\n  };\n  failedResponseHandler: ResponseHandler<Error>;\n  successfulResponseHandler: ResponseHandler<T>;\n  abortSignal?: AbortSignal;\n  fetch?: FetchFunction;\n}) => {\n  try {\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: withUserAgentSuffix(\n        headers,\n        `ai-sdk/provider-utils/${VERSION}`,\n        getRuntimeEnvironmentUserAgent(),\n      ),\n      body: body.content,\n      signal: abortSignal,\n    });\n\n    const responseHeaders = extractResponseHeaders(response);\n\n    if (!response.ok) {\n      let errorInformation: {\n        value: Error;\n        responseHeaders?: Record<string, string> | undefined;\n      };\n\n      try {\n        errorInformation = await failedResponseHandler({\n          response,\n          url,\n          requestBodyValues: body.values,\n        });\n      } catch (error) {\n        if (isAbortError(error) || APICallError.isInstance(error)) {\n          throw error;\n        }\n\n        throw new APICallError({\n          message: 'Failed to process error response',\n          cause: error,\n          statusCode: response.status,\n          url,\n          responseHeaders,\n          requestBodyValues: body.values,\n        });\n      }\n\n      throw errorInformation.value;\n    }\n\n    try {\n      return await successfulResponseHandler({\n        response,\n        url,\n        requestBodyValues: body.values,\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        if (isAbortError(error) || APICallError.isInstance(error)) {\n          throw error;\n        }\n      }\n\n      throw new APICallError({\n        message: 'Failed to process successful response',\n        cause: error,\n        statusCode: response.status,\n        url,\n        responseHeaders,\n        requestBodyValues: body.values,\n      });\n    }\n  } catch (error) {\n    throw handleFetchError({ error, url, requestBodyValues: body.values });\n  }\n};\n","import { JSONValue, LanguageModelV2ToolResultPart } from '@ai-sdk/provider';\nimport { FlexibleSchema } from '../schema';\nimport { ModelMessage } from './model-message';\nimport { ProviderOptions } from './provider-options';\n\n/**\n * Additional options that are sent into each tool call.\n */\n// TODO AI SDK 6: rename to ToolExecutionOptions\nexport interface ToolCallOptions {\n  /**\n   * The ID of the tool call. You can use it e.g. when sending tool-call related information with stream data.\n   */\n  toolCallId: string;\n\n  /**\n   * Messages that were sent to the language model to initiate the response that contained the tool call.\n   * The messages **do not** include the system prompt nor the assistant response that contained the tool call.\n   */\n  messages: ModelMessage[];\n\n  /**\n   * An optional abort signal that indicates that the overall operation should be aborted.\n   */\n  abortSignal?: AbortSignal;\n\n  /**\n   * Additional context.\n   *\n   * Experimental (can break in patch releases).\n   */\n  experimental_context?: unknown;\n}\n\nexport type ToolExecuteFunction<INPUT, OUTPUT> = (\n  input: INPUT,\n  options: ToolCallOptions,\n) => AsyncIterable<OUTPUT> | PromiseLike<OUTPUT> | OUTPUT;\n\n// 0 extends 1 & N checks for any\n// [N] extends [never] checks for never\ntype NeverOptional<N, T> = 0 extends 1 & N\n  ? Partial<T>\n  : [N] extends [never]\n    ? Partial<Record<keyof T, undefined>>\n    : T;\n\ntype ToolOutputProperties<INPUT, OUTPUT> = NeverOptional<\n  OUTPUT,\n  | {\n      /**\nAn async function that is called with the arguments from the tool call and produces a result.\nIf not provided, the tool will not be executed automatically.\n\n@args is the input of the tool call.\n@options.abortSignal is a signal that can be used to abort the tool call.\n    */\n      execute: ToolExecuteFunction<INPUT, OUTPUT>;\n\n      outputSchema?: FlexibleSchema<OUTPUT>;\n    }\n  | {\n      outputSchema: FlexibleSchema<OUTPUT>;\n\n      execute?: never;\n    }\n>;\n\n/**\nA tool contains the description and the schema of the input that the tool expects.\nThis enables the language model to generate the input.\n\nThe tool can also contain an optional execute function for the actual execution function of the tool.\n */\nexport type Tool<\n  INPUT extends JSONValue | unknown | never = any,\n  OUTPUT extends JSONValue | unknown | never = any,\n> = {\n  /**\nAn optional description of what the tool does.\nWill be used by the language model to decide whether to use the tool.\nNot used for provider-defined tools.\n   */\n  description?: string;\n\n  /**\nAdditional provider-specific metadata. They are passed through\nto the provider from the AI SDK and enable provider-specific\nfunctionality that can be fully encapsulated in the provider.\n   */\n  providerOptions?: ProviderOptions;\n\n  /**\nThe schema of the input that the tool expects. The language model will use this to generate the input.\nIt is also used to validate the output of the language model.\nUse descriptions to make the input understandable for the language model.\n   */\n  inputSchema: FlexibleSchema<INPUT>;\n\n  /**\n   * Optional function that is called when the argument streaming starts.\n   * Only called when the tool is used in a streaming context.\n   */\n  onInputStart?: (options: ToolCallOptions) => void | PromiseLike<void>;\n\n  /**\n   * Optional function that is called when an argument streaming delta is available.\n   * Only called when the tool is used in a streaming context.\n   */\n  onInputDelta?: (\n    options: { inputTextDelta: string } & ToolCallOptions,\n  ) => void | PromiseLike<void>;\n\n  /**\n   * Optional function that is called when a tool call can be started,\n   * even if the execute function is not provided.\n   */\n  onInputAvailable?: (\n    options: {\n      input: [INPUT] extends [never] ? undefined : INPUT;\n    } & ToolCallOptions,\n  ) => void | PromiseLike<void>;\n} & ToolOutputProperties<INPUT, OUTPUT> & {\n    /**\nOptional conversion function that maps the tool result to an output that can be used by the language model.\n\nIf not provided, the tool result will be sent as a JSON object.\n  */\n    toModelOutput?: (\n      output: 0 extends 1 & OUTPUT\n        ? any\n        : [OUTPUT] extends [never]\n          ? any\n          : NoInfer<OUTPUT>,\n    ) => LanguageModelV2ToolResultPart['output'];\n  } & (\n    | {\n        /**\nTool with user-defined input and output schemas.\n     */\n        type?: undefined | 'function';\n      }\n    | {\n        /**\nTool that is defined at runtime (e.g. an MCP tool).\nThe types of input and output are not known at development time.\n       */\n        type: 'dynamic';\n      }\n    | {\n        /**\nTool with provider-defined input and output schemas.\n     */\n        type: 'provider-defined';\n\n        /**\nThe ID of the tool. Should follow the format `<provider-name>.<unique-tool-name>`.\n   */\n        id: `${string}.${string}`;\n\n        /**\nThe name of the tool that the user must use in the tool set.\n */\n        name: string;\n\n        /**\nThe arguments for configuring the tool. Must match the expected arguments defined by the provider for this tool.\n     */\n        args: Record<string, unknown>;\n      }\n  );\n\n/**\n * Infer the input type of a tool.\n */\nexport type InferToolInput<TOOL extends Tool> =\n  TOOL extends Tool<infer INPUT, any> ? INPUT : never;\n\n/**\n * Infer the output type of a tool.\n */\nexport type InferToolOutput<TOOL extends Tool> =\n  TOOL extends Tool<any, infer OUTPUT> ? OUTPUT : never;\n\n/**\nHelper function for inferring the execute args of a tool.\n */\n// Note: overload order is important for auto-completion\nexport function tool<INPUT, OUTPUT>(\n  tool: Tool<INPUT, OUTPUT>,\n): Tool<INPUT, OUTPUT>;\nexport function tool<INPUT>(tool: Tool<INPUT, never>): Tool<INPUT, never>;\nexport function tool<OUTPUT>(tool: Tool<never, OUTPUT>): Tool<never, OUTPUT>;\nexport function tool(tool: Tool<never, never>): Tool<never, never>;\nexport function tool(tool: any): any {\n  return tool;\n}\n\n/**\nHelper function for defining a dynamic tool.\n */\nexport function dynamicTool(tool: {\n  description?: string;\n  providerOptions?: ProviderOptions;\n  inputSchema: FlexibleSchema<unknown>;\n  execute: ToolExecuteFunction<unknown, unknown>;\n  toModelOutput?: (output: unknown) => LanguageModelV2ToolResultPart['output'];\n}): Tool<unknown, unknown> & {\n  type: 'dynamic';\n} {\n  return { ...tool, type: 'dynamic' };\n}\n","import { tool, Tool, ToolExecuteFunction } from './types/tool';\nimport { FlexibleSchema } from './schema';\n\nexport type ProviderDefinedToolFactory<INPUT, ARGS extends object> = <OUTPUT>(\n  options: ARGS & {\n    execute?: ToolExecuteFunction<INPUT, OUTPUT>;\n    toModelOutput?: Tool<INPUT, OUTPUT>['toModelOutput'];\n    onInputStart?: Tool<INPUT, OUTPUT>['onInputStart'];\n    onInputDelta?: Tool<INPUT, OUTPUT>['onInputDelta'];\n    onInputAvailable?: Tool<INPUT, OUTPUT>['onInputAvailable'];\n  },\n) => Tool<INPUT, OUTPUT>;\n\nexport function createProviderDefinedToolFactory<INPUT, ARGS extends object>({\n  id,\n  name,\n  inputSchema,\n}: {\n  id: `${string}.${string}`;\n  name: string;\n  inputSchema: FlexibleSchema<INPUT>;\n}): ProviderDefinedToolFactory<INPUT, ARGS> {\n  return <OUTPUT>({\n    execute,\n    outputSchema,\n    toModelOutput,\n    onInputStart,\n    onInputDelta,\n    onInputAvailable,\n    ...args\n  }: ARGS & {\n    execute?: ToolExecuteFunction<INPUT, OUTPUT>;\n    outputSchema?: FlexibleSchema<OUTPUT>;\n    toModelOutput?: Tool<INPUT, OUTPUT>['toModelOutput'];\n    onInputStart?: Tool<INPUT, OUTPUT>['onInputStart'];\n    onInputDelta?: Tool<INPUT, OUTPUT>['onInputDelta'];\n    onInputAvailable?: Tool<INPUT, OUTPUT>['onInputAvailable'];\n  }): Tool<INPUT, OUTPUT> =>\n    tool({\n      type: 'provider-defined',\n      id,\n      name,\n      args,\n      inputSchema,\n      outputSchema,\n      execute,\n      toModelOutput,\n      onInputStart,\n      onInputDelta,\n      onInputAvailable,\n    });\n}\n\nexport type ProviderDefinedToolFactoryWithOutputSchema<\n  INPUT,\n  OUTPUT,\n  ARGS extends object,\n> = (\n  options: ARGS & {\n    execute?: ToolExecuteFunction<INPUT, OUTPUT>;\n    toModelOutput?: Tool<INPUT, OUTPUT>['toModelOutput'];\n    onInputStart?: Tool<INPUT, OUTPUT>['onInputStart'];\n    onInputDelta?: Tool<INPUT, OUTPUT>['onInputDelta'];\n    onInputAvailable?: Tool<INPUT, OUTPUT>['onInputAvailable'];\n  },\n) => Tool<INPUT, OUTPUT>;\n\nexport function createProviderDefinedToolFactoryWithOutputSchema<\n  INPUT,\n  OUTPUT,\n  ARGS extends object,\n>({\n  id,\n  name,\n  inputSchema,\n  outputSchema,\n}: {\n  id: `${string}.${string}`;\n  name: string;\n  inputSchema: FlexibleSchema<INPUT>;\n  outputSchema: FlexibleSchema<OUTPUT>;\n}): ProviderDefinedToolFactoryWithOutputSchema<INPUT, OUTPUT, ARGS> {\n  return ({\n    execute,\n    toModelOutput,\n    onInputStart,\n    onInputDelta,\n    onInputAvailable,\n    ...args\n  }: ARGS & {\n    execute?: ToolExecuteFunction<INPUT, OUTPUT>;\n    toModelOutput?: Tool<INPUT, OUTPUT>['toModelOutput'];\n    onInputStart?: Tool<INPUT, OUTPUT>['onInputStart'];\n    onInputDelta?: Tool<INPUT, OUTPUT>['onInputDelta'];\n    onInputAvailable?: Tool<INPUT, OUTPUT>['onInputAvailable'];\n  }): Tool<INPUT, OUTPUT> =>\n    tool({\n      type: 'provider-defined',\n      id,\n      name,\n      args,\n      inputSchema,\n      outputSchema,\n      execute,\n      toModelOutput,\n      onInputStart,\n      onInputDelta,\n      onInputAvailable,\n    });\n}\n","/**\n * Removes entries from a record where the value is null or undefined.\n * @param record - The input object whose entries may be null or undefined.\n * @returns A new object containing only entries with non-null and non-undefined values.\n */\nexport function removeUndefinedEntries<T>(\n  record: Record<string, T | undefined>,\n): Record<string, T> {\n  return Object.fromEntries(\n    Object.entries(record).filter(([_key, value]) => value != null),\n  ) as Record<string, T>;\n}\n","export type Resolvable<T> =\n  | T // Raw value\n  | Promise<T> // Promise of value\n  | (() => T) // Function returning value\n  | (() => Promise<T>); // Function returning promise of value\n\n/**\n * Resolves a value that could be a raw value, a Promise, a function returning a value,\n * or a function returning a Promise.\n */\nexport async function resolve<T>(value: Resolvable<T>): Promise<T> {\n  // If it's a function, call it to get the value/promise\n  if (typeof value === 'function') {\n    value = (value as Function)();\n  }\n\n  // Otherwise just resolve whatever we got (value or promise)\n  return Promise.resolve(value as T);\n}\n","import { APICallError, EmptyResponseBodyError } from '@ai-sdk/provider';\nimport { ZodType } from 'zod/v4';\nimport { extractResponseHeaders } from './extract-response-headers';\nimport { parseJSON, ParseResult, safeParseJSON } from './parse-json';\nimport { parseJsonEventStream } from './parse-json-event-stream';\nimport { FlexibleValidator } from './validator';\n\nexport type ResponseHandler<RETURN_TYPE> = (options: {\n  url: string;\n  requestBodyValues: unknown;\n  response: Response;\n}) => PromiseLike<{\n  value: RETURN_TYPE;\n  rawValue?: unknown;\n  responseHeaders?: Record<string, string>;\n}>;\n\nexport const createJsonErrorResponseHandler =\n  <T>({\n    errorSchema,\n    errorToMessage,\n    isRetryable,\n  }: {\n    errorSchema: FlexibleValidator<T>;\n    errorToMessage: (error: T) => string;\n    isRetryable?: (response: Response, error?: T) => boolean;\n  }): ResponseHandler<APICallError> =>\n  async ({ response, url, requestBodyValues }) => {\n    const responseBody = await response.text();\n    const responseHeaders = extractResponseHeaders(response);\n\n    // Some providers return an empty response body for some errors:\n    if (responseBody.trim() === '') {\n      return {\n        responseHeaders,\n        value: new APICallError({\n          message: response.statusText,\n          url,\n          requestBodyValues,\n          statusCode: response.status,\n          responseHeaders,\n          responseBody,\n          isRetryable: isRetryable?.(response),\n        }),\n      };\n    }\n\n    // resilient parsing in case the response is not JSON or does not match the schema:\n    try {\n      const parsedError = await parseJSON({\n        text: responseBody,\n        schema: errorSchema,\n      });\n\n      return {\n        responseHeaders,\n        value: new APICallError({\n          message: errorToMessage(parsedError),\n          url,\n          requestBodyValues,\n          statusCode: response.status,\n          responseHeaders,\n          responseBody,\n          data: parsedError,\n          isRetryable: isRetryable?.(response, parsedError),\n        }),\n      };\n    } catch (parseError) {\n      return {\n        responseHeaders,\n        value: new APICallError({\n          message: response.statusText,\n          url,\n          requestBodyValues,\n          statusCode: response.status,\n          responseHeaders,\n          responseBody,\n          isRetryable: isRetryable?.(response),\n        }),\n      };\n    }\n  };\n\nexport const createEventSourceResponseHandler =\n  <T>(\n    chunkSchema: FlexibleValidator<T>,\n  ): ResponseHandler<ReadableStream<ParseResult<T>>> =>\n  async ({ response }: { response: Response }) => {\n    const responseHeaders = extractResponseHeaders(response);\n\n    if (response.body == null) {\n      throw new EmptyResponseBodyError({});\n    }\n\n    return {\n      responseHeaders,\n      value: parseJsonEventStream({\n        stream: response.body,\n        schema: chunkSchema,\n      }),\n    };\n  };\n\nexport const createJsonStreamResponseHandler =\n  <T>(\n    chunkSchema: ZodType<T>,\n  ): ResponseHandler<ReadableStream<ParseResult<T>>> =>\n  async ({ response }: { response: Response }) => {\n    const responseHeaders = extractResponseHeaders(response);\n\n    if (response.body == null) {\n      throw new EmptyResponseBodyError({});\n    }\n\n    let buffer = '';\n\n    return {\n      responseHeaders,\n      value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(\n        new TransformStream<string, ParseResult<T>>({\n          async transform(chunkText, controller) {\n            if (chunkText.endsWith('\\n')) {\n              controller.enqueue(\n                await safeParseJSON({\n                  text: buffer + chunkText,\n                  schema: chunkSchema,\n                }),\n              );\n              buffer = '';\n            } else {\n              buffer += chunkText;\n            }\n          },\n        }),\n      ),\n    };\n  };\n\nexport const createJsonResponseHandler =\n  <T>(responseSchema: FlexibleValidator<T>): ResponseHandler<T> =>\n  async ({ response, url, requestBodyValues }) => {\n    const responseBody = await response.text();\n\n    const parsedResult = await safeParseJSON({\n      text: responseBody,\n      schema: responseSchema,\n    });\n\n    const responseHeaders = extractResponseHeaders(response);\n\n    if (!parsedResult.success) {\n      throw new APICallError({\n        message: 'Invalid JSON response',\n        cause: parsedResult.error,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        url,\n        requestBodyValues,\n      });\n    }\n\n    return {\n      responseHeaders,\n      value: parsedResult.value,\n      rawValue: parsedResult.rawValue,\n    };\n  };\n\nexport const createBinaryResponseHandler =\n  (): ResponseHandler<Uint8Array> =>\n  async ({ response, url, requestBodyValues }) => {\n    const responseHeaders = extractResponseHeaders(response);\n\n    if (!response.body) {\n      throw new APICallError({\n        message: 'Response body is empty',\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody: undefined,\n      });\n    }\n\n    try {\n      const buffer = await response.arrayBuffer();\n      return {\n        responseHeaders,\n        value: new Uint8Array(buffer),\n      };\n    } catch (error) {\n      throw new APICallError({\n        message: 'Failed to read response as array buffer',\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody: undefined,\n        cause: error,\n      });\n    }\n  };\n\nexport const createStatusCodeErrorResponseHandler =\n  (): ResponseHandler<APICallError> =>\n  async ({ response, url, requestBodyValues }) => {\n    const responseHeaders = extractResponseHeaders(response);\n    const responseBody = await response.text();\n\n    return {\n      responseHeaders,\n      value: new APICallError({\n        message: response.statusText,\n        url,\n        requestBodyValues: requestBodyValues as Record<string, unknown>,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n      }),\n    };\n  };\n","import { JSONSchema7 } from '@ai-sdk/provider';\nimport * as z3 from 'zod/v3';\nimport * as z4 from 'zod/v4';\nimport zodToJsonSchema from './zod-to-json-schema';\nimport { jsonSchema, Schema } from './schema';\n\nexport function zod3Schema<OBJECT>(\n  zodSchema: z3.Schema<OBJECT, z3.ZodTypeDef, any>,\n  options?: {\n    /**\n     * Enables support for references in the schema.\n     * This is required for recursive schemas, e.g. with `z.lazy`.\n     * However, not all language models and providers support such references.\n     * Defaults to `false`.\n     */\n    useReferences?: boolean;\n  },\n): Schema<OBJECT> {\n  // default to no references (to support openapi conversion for google)\n  const useReferences = options?.useReferences ?? false;\n\n  return jsonSchema(\n    // defer json schema creation to avoid unnecessary computation when only validation is needed\n    () =>\n      zodToJsonSchema(zodSchema, {\n        $refStrategy: useReferences ? 'root' : 'none',\n      }) as JSONSchema7,\n    {\n      validate: async value => {\n        const result = await zodSchema.safeParseAsync(value);\n        return result.success\n          ? { success: true, value: result.data }\n          : { success: false, error: result.error };\n      },\n    },\n  );\n}\n\nexport function zod4Schema<OBJECT>(\n  zodSchema: z4.core.$ZodType<OBJECT, any>,\n  options?: {\n    /**\n     * Enables support for references in the schema.\n     * This is required for recursive schemas, e.g. with `z.lazy`.\n     * However, not all language models and providers support such references.\n     * Defaults to `false`.\n     */\n    useReferences?: boolean;\n  },\n): Schema<OBJECT> {\n  // default to no references (to support openapi conversion for google)\n  const useReferences = options?.useReferences ?? false;\n\n  return jsonSchema(\n    // defer json schema creation to avoid unnecessary computation when only validation is needed\n    () =>\n      z4.toJSONSchema(zodSchema, {\n        target: 'draft-7',\n        io: 'output',\n        reused: useReferences ? 'ref' : 'inline',\n      }) as JSONSchema7,\n    {\n      validate: async value => {\n        const result = await z4.safeParseAsync(zodSchema, value);\n        return result.success\n          ? { success: true, value: result.data }\n          : { success: false, error: result.error };\n      },\n    },\n  );\n}\n\nexport function isZod4Schema(\n  zodSchema: z4.core.$ZodType<any, any> | z3.Schema<any, z3.ZodTypeDef, any>,\n): zodSchema is z4.core.$ZodType<any, any> {\n  // https://zod.dev/library-authors?id=how-to-support-zod-3-and-zod-4-simultaneously\n  return '_zod' in zodSchema;\n}\n\nexport function zodSchema<OBJECT>(\n  zodSchema:\n    | z4.core.$ZodType<OBJECT, any>\n    | z3.Schema<OBJECT, z3.ZodTypeDef, any>,\n  options?: {\n    /**\n     * Enables support for references in the schema.\n     * This is required for recursive schemas, e.g. with `z.lazy`.\n     * However, not all language models and providers support such references.\n     * Defaults to `false`.\n     */\n    useReferences?: boolean;\n  },\n): Schema<OBJECT> {\n  if (isZod4Schema(zodSchema)) {\n    return zod4Schema(zodSchema, options);\n  } else {\n    return zod3Schema(zodSchema, options);\n  }\n}\n","export const getRelativePath = (pathA: string[], pathB: string[]) => {\n  let i = 0;\n  for (; i < pathA.length && i < pathB.length; i++) {\n    if (pathA[i] !== pathB[i]) break;\n  }\n  return [(pathA.length - i).toString(), ...pathB.slice(i)].join('/');\n};\n","import { ZodSchema, ZodTypeDef } from 'zod/v3';\nimport { Refs, Seen } from './refs';\nimport { JsonSchema7Type } from './parse-types';\n\nexport type DateStrategy =\n  | 'format:date-time'\n  | 'format:date'\n  | 'string'\n  | 'integer';\n\nexport const ignoreOverride = Symbol(\n  'Let zodToJsonSchema decide on which parser to use',\n);\n\nexport type OverrideCallback = (\n  def: ZodTypeDef,\n  refs: Refs,\n  seen: Seen | undefined,\n  forceResolution?: boolean,\n) => JsonSchema7Type | undefined | typeof ignoreOverride;\n\nexport type PostProcessCallback = (\n  jsonSchema: JsonSchema7Type | undefined,\n  def: ZodTypeDef,\n  refs: Refs,\n) => JsonSchema7Type | undefined;\n\nexport const jsonDescription: PostProcessCallback = (jsonSchema, def) => {\n  if (def.description) {\n    try {\n      return {\n        ...jsonSchema,\n        ...JSON.parse(def.description),\n      };\n    } catch {}\n  }\n\n  return jsonSchema;\n};\n\nexport type Options = {\n  name: string | undefined;\n  $refStrategy: 'root' | 'relative' | 'none' | 'seen';\n  basePath: string[];\n  effectStrategy: 'input' | 'any';\n  pipeStrategy: 'input' | 'output' | 'all';\n  dateStrategy: DateStrategy | DateStrategy[];\n  mapStrategy: 'entries' | 'record';\n  removeAdditionalStrategy: 'passthrough' | 'strict';\n  allowedAdditionalProperties: true | undefined;\n  rejectedAdditionalProperties: false | undefined;\n  strictUnions: boolean;\n  definitionPath: string;\n  definitions: Record<string, ZodSchema>;\n  errorMessages: boolean;\n  patternStrategy: 'escape' | 'preserve';\n  applyRegexFlags: boolean;\n  emailStrategy: 'format:email' | 'format:idn-email' | 'pattern:zod';\n  base64Strategy: 'format:binary' | 'contentEncoding:base64' | 'pattern:zod';\n  nameStrategy: 'ref' | 'title';\n  override?: OverrideCallback;\n  postProcess?: PostProcessCallback;\n};\n\nexport const defaultOptions: Options = {\n  name: undefined,\n  $refStrategy: 'root',\n  basePath: ['#'],\n  effectStrategy: 'input',\n  pipeStrategy: 'all',\n  dateStrategy: 'format:date-time',\n  mapStrategy: 'entries',\n  removeAdditionalStrategy: 'passthrough',\n  allowedAdditionalProperties: true,\n  rejectedAdditionalProperties: false,\n  definitionPath: 'definitions',\n  strictUnions: false,\n  definitions: {},\n  errorMessages: false,\n  patternStrategy: 'escape',\n  applyRegexFlags: false,\n  emailStrategy: 'format:email',\n  base64Strategy: 'contentEncoding:base64',\n  nameStrategy: 'ref',\n};\n\nexport const getDefaultOptions = (\n  options: Partial<Options> | string | undefined,\n) =>\n  (typeof options === 'string'\n    ? {\n        ...defaultOptions,\n        name: options,\n      }\n    : {\n        ...defaultOptions,\n        ...options,\n      }) as Options;\n","import { ZodFirstPartyTypeKind } from 'zod/v3';\nimport { parseAnyDef } from './parsers/any';\nimport { parseArrayDef } from './parsers/array';\nimport { parseBigintDef } from './parsers/bigint';\nimport { parseBooleanDef } from './parsers/boolean';\nimport { parseBrandedDef } from './parsers/branded';\nimport { parseCatchDef } from './parsers/catch';\nimport { parseDateDef } from './parsers/date';\nimport { parseDefaultDef } from './parsers/default';\nimport { parseEffectsDef } from './parsers/effects';\nimport { parseEnumDef } from './parsers/enum';\nimport { parseIntersectionDef } from './parsers/intersection';\nimport { parseLiteralDef } from './parsers/literal';\nimport { parseMapDef } from './parsers/map';\nimport { parseNativeEnumDef } from './parsers/native-enum';\nimport { parseNeverDef } from './parsers/never';\nimport { parseNullDef } from './parsers/null';\nimport { parseNullableDef } from './parsers/nullable';\nimport { parseNumberDef } from './parsers/number';\nimport { parseObjectDef } from './parsers/object';\nimport { parseOptionalDef } from './parsers/optional';\nimport { parsePipelineDef } from './parsers/pipeline';\nimport { parsePromiseDef } from './parsers/promise';\nimport { parseRecordDef } from './parsers/record';\nimport { parseSetDef } from './parsers/set';\nimport { parseStringDef } from './parsers/string';\nimport { parseTupleDef } from './parsers/tuple';\nimport { parseUndefinedDef } from './parsers/undefined';\nimport { parseUnionDef } from './parsers/union';\nimport { parseUnknownDef } from './parsers/unknown';\nimport { Refs } from './refs';\nimport { parseReadonlyDef } from './parsers/readonly';\nimport { JsonSchema7Type } from './parse-types';\n\nexport type InnerDefGetter = () => any;\n\nexport const selectParser = (\n  def: any,\n  typeName: ZodFirstPartyTypeKind,\n  refs: Refs,\n): JsonSchema7Type | undefined | InnerDefGetter => {\n  switch (typeName) {\n    case ZodFirstPartyTypeKind.ZodString:\n      return parseStringDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodNumber:\n      return parseNumberDef(def);\n    case ZodFirstPartyTypeKind.ZodObject:\n      return parseObjectDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodBigInt:\n      return parseBigintDef(def);\n    case ZodFirstPartyTypeKind.ZodBoolean:\n      return parseBooleanDef();\n    case ZodFirstPartyTypeKind.ZodDate:\n      return parseDateDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodUndefined:\n      return parseUndefinedDef();\n    case ZodFirstPartyTypeKind.ZodNull:\n      return parseNullDef();\n    case ZodFirstPartyTypeKind.ZodArray:\n      return parseArrayDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodUnion:\n    case ZodFirstPartyTypeKind.ZodDiscriminatedUnion:\n      return parseUnionDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodIntersection:\n      return parseIntersectionDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodTuple:\n      return parseTupleDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodRecord:\n      return parseRecordDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodLiteral:\n      return parseLiteralDef(def);\n    case ZodFirstPartyTypeKind.ZodEnum:\n      return parseEnumDef(def);\n    case ZodFirstPartyTypeKind.ZodNativeEnum:\n      return parseNativeEnumDef(def);\n    case ZodFirstPartyTypeKind.ZodNullable:\n      return parseNullableDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodOptional:\n      return parseOptionalDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodMap:\n      return parseMapDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodSet:\n      return parseSetDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodLazy:\n      return () => (def as any).getter()._def;\n    case ZodFirstPartyTypeKind.ZodPromise:\n      return parsePromiseDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodNaN:\n    case ZodFirstPartyTypeKind.ZodNever:\n      return parseNeverDef();\n    case ZodFirstPartyTypeKind.ZodEffects:\n      return parseEffectsDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodAny:\n      return parseAnyDef();\n    case ZodFirstPartyTypeKind.ZodUnknown:\n      return parseUnknownDef();\n    case ZodFirstPartyTypeKind.ZodDefault:\n      return parseDefaultDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodBranded:\n      return parseBrandedDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodReadonly:\n      return parseReadonlyDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodCatch:\n      return parseCatchDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodPipeline:\n      return parsePipelineDef(def, refs);\n    case ZodFirstPartyTypeKind.ZodFunction:\n    case ZodFirstPartyTypeKind.ZodVoid:\n    case ZodFirstPartyTypeKind.ZodSymbol:\n      return undefined;\n    default:\n      /* c8 ignore next */\n      return ((_: never) => undefined)(typeName);\n  }\n};\n","export type JsonSchema7AnyType = { $ref?: string };\n\nexport function parseAnyDef(): JsonSchema7AnyType {\n  return {};\n}\n","import { ZodArrayDef, ZodFirstPartyTypeKind } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport type JsonSchema7ArrayType = {\n  type: 'array';\n  items?: JsonSchema7Type;\n  minItems?: number;\n  maxItems?: number;\n};\n\nexport function parseArrayDef(def: ZodArrayDef, refs: Refs) {\n  const res: JsonSchema7ArrayType = {\n    type: 'array',\n  };\n  if (\n    def.type?._def &&\n    def.type?._def?.typeName !== ZodFirstPartyTypeKind.ZodAny\n  ) {\n    res.items = parseDef(def.type._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items'],\n    });\n  }\n\n  if (def.minLength) {\n    res.minItems = def.minLength.value;\n  }\n  if (def.maxLength) {\n    res.maxItems = def.maxLength.value;\n  }\n  if (def.exactLength) {\n    res.minItems = def.exactLength.value;\n    res.maxItems = def.exactLength.value;\n  }\n  return res;\n}\n","import { ZodBigIntDef } from 'zod/v3';\n\nexport type JsonSchema7BigintType = {\n  type: 'integer';\n  format: 'int64';\n  minimum?: BigInt;\n  exclusiveMinimum?: BigInt;\n  maximum?: BigInt;\n  exclusiveMaximum?: BigInt;\n  multipleOf?: BigInt;\n};\n\nexport function parseBigintDef(def: ZodBigIntDef): JsonSchema7BigintType {\n  const res: JsonSchema7BigintType = {\n    type: 'integer',\n    format: 'int64',\n  };\n\n  if (!def.checks) return res;\n\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case 'min':\n        if (check.inclusive) {\n          res.minimum = check.value;\n        } else {\n          res.exclusiveMinimum = check.value;\n        }\n        break;\n      case 'max':\n        if (check.inclusive) {\n          res.maximum = check.value;\n        } else {\n          res.exclusiveMaximum = check.value;\n        }\n\n        break;\n      case 'multipleOf':\n        res.multipleOf = check.value;\n        break;\n    }\n  }\n  return res;\n}\n","export type JsonSchema7BooleanType = {\n  type: 'boolean';\n};\n\nexport function parseBooleanDef(): JsonSchema7BooleanType {\n  return { type: 'boolean' };\n}\n","import { ZodBrandedDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { Refs } from '../refs';\n\nexport function parseBrandedDef(_def: ZodBrandedDef<any>, refs: Refs) {\n  return parseDef(_def.type._def, refs);\n}\n","import { ZodCatchDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { Refs } from '../refs';\n\nexport const parseCatchDef = (def: ZodCatchDef<any>, refs: Refs) => {\n  return parseDef(def.innerType._def, refs);\n};\n","import { ZodDateDef } from 'zod/v3';\nimport { Refs } from '../refs';\nimport { DateStrategy } from '../options';\n\nexport type JsonSchema7DateType =\n  | {\n      type: 'integer' | 'string';\n      format: 'unix-time' | 'date-time' | 'date';\n      minimum?: number;\n      maximum?: number;\n    }\n  | {\n      anyOf: JsonSchema7DateType[];\n    };\n\nexport function parseDateDef(\n  def: ZodDateDef,\n  refs: Refs,\n  overrideDateStrategy?: DateStrategy,\n): JsonSchema7DateType {\n  const strategy = overrideDateStrategy ?? refs.dateStrategy;\n\n  if (Array.isArray(strategy)) {\n    return {\n      anyOf: strategy.map((item, i) => parseDateDef(def, refs, item)),\n    };\n  }\n\n  switch (strategy) {\n    case 'string':\n    case 'format:date-time':\n      return {\n        type: 'string',\n        format: 'date-time',\n      };\n    case 'format:date':\n      return {\n        type: 'string',\n        format: 'date',\n      };\n    case 'integer':\n      return integerDateParser(def);\n  }\n}\n\nconst integerDateParser = (def: ZodDateDef) => {\n  const res: JsonSchema7DateType = {\n    type: 'integer',\n    format: 'unix-time',\n  };\n\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case 'min':\n        res.minimum = check.value;\n        break;\n      case 'max':\n        res.maximum = check.value;\n        break;\n    }\n  }\n\n  return res;\n};\n","import { ZodDefaultDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport function parseDefaultDef(\n  _def: ZodDefaultDef,\n  refs: Refs,\n): JsonSchema7Type & { default: any } {\n  return {\n    ...parseDef(_def.innerType._def, refs),\n    default: _def.defaultValue(),\n  };\n}\n","import { ZodEffectsDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { parseAnyDef } from './any';\n\nexport function parseEffectsDef(\n  _def: ZodEffectsDef,\n  refs: Refs,\n): JsonSchema7Type | undefined {\n  return refs.effectStrategy === 'input'\n    ? parseDef(_def.schema._def, refs)\n    : parseAnyDef();\n}\n","import { ZodEnumDef } from 'zod/v3';\n\nexport type JsonSchema7EnumType = {\n  type: 'string';\n  enum: string[];\n};\n\nexport function parseEnumDef(def: ZodEnumDef): JsonSchema7EnumType {\n  return {\n    type: 'string',\n    enum: Array.from(def.values),\n  };\n}\n","import { ZodIntersectionDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { JsonSchema7StringType } from './string';\n\nexport type JsonSchema7AllOfType = {\n  allOf: JsonSchema7Type[];\n  unevaluatedProperties?: boolean;\n};\n\nconst isJsonSchema7AllOfType = (\n  type: JsonSchema7Type | JsonSchema7StringType,\n): type is JsonSchema7AllOfType => {\n  if ('type' in type && type.type === 'string') return false;\n  return 'allOf' in type;\n};\n\nexport function parseIntersectionDef(\n  def: ZodIntersectionDef,\n  refs: Refs,\n): JsonSchema7AllOfType | JsonSchema7Type | undefined {\n  const allOf = [\n    parseDef(def.left._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'allOf', '0'],\n    }),\n    parseDef(def.right._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'allOf', '1'],\n    }),\n  ].filter((x): x is JsonSchema7Type => !!x);\n\n  const mergedAllOf: JsonSchema7Type[] = [];\n  // If either of the schemas is an allOf, merge them into a single allOf\n  allOf.forEach(schema => {\n    if (isJsonSchema7AllOfType(schema)) {\n      mergedAllOf.push(...schema.allOf);\n    } else {\n      let nestedSchema: JsonSchema7Type = schema;\n      if (\n        'additionalProperties' in schema &&\n        schema.additionalProperties === false\n      ) {\n        const { additionalProperties, ...rest } = schema;\n        nestedSchema = rest;\n      }\n      mergedAllOf.push(nestedSchema);\n    }\n  });\n  return mergedAllOf.length ? { allOf: mergedAllOf } : undefined;\n}\n","import { ZodLiteralDef } from 'zod/v3';\n\nexport type JsonSchema7LiteralType =\n  | {\n      type: 'string' | 'number' | 'integer' | 'boolean';\n      const: string | number | boolean;\n    }\n  | {\n      type: 'object' | 'array';\n    };\n\nexport function parseLiteralDef(def: ZodLiteralDef): JsonSchema7LiteralType {\n  const parsedType = typeof def.value;\n  if (\n    parsedType !== 'bigint' &&\n    parsedType !== 'number' &&\n    parsedType !== 'boolean' &&\n    parsedType !== 'string'\n  ) {\n    return {\n      type: Array.isArray(def.value) ? 'array' : 'object',\n    };\n  }\n\n  return {\n    type: parsedType === 'bigint' ? 'integer' : parsedType,\n    const: def.value,\n  };\n}\n","import {\n  ZodFirstPartyTypeKind,\n  ZodMapDef,\n  ZodRecordDef,\n  ZodTypeAny,\n} from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { parseBrandedDef } from './branded';\nimport { JsonSchema7EnumType } from './enum';\nimport { JsonSchema7StringType, parseStringDef } from './string';\n\ntype JsonSchema7RecordPropertyNamesType =\n  | Omit<JsonSchema7StringType, 'type'>\n  | Omit<JsonSchema7EnumType, 'type'>;\n\nexport type JsonSchema7RecordType = {\n  type: 'object';\n  additionalProperties?: JsonSchema7Type | true;\n  propertyNames?: JsonSchema7RecordPropertyNamesType;\n};\n\nexport function parseRecordDef(\n  def: ZodRecordDef<ZodTypeAny, ZodTypeAny> | ZodMapDef,\n  refs: Refs,\n): JsonSchema7RecordType {\n  const schema: JsonSchema7RecordType = {\n    type: 'object',\n    additionalProperties:\n      parseDef(def.valueType._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, 'additionalProperties'],\n      }) ?? refs.allowedAdditionalProperties,\n  };\n\n  if (\n    def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodString &&\n    def.keyType._def.checks?.length\n  ) {\n    const { type, ...keyType } = parseStringDef(def.keyType._def, refs);\n\n    return {\n      ...schema,\n      propertyNames: keyType,\n    };\n  } else if (def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodEnum) {\n    return {\n      ...schema,\n      propertyNames: {\n        enum: def.keyType._def.values,\n      },\n    };\n  } else if (\n    def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodBranded &&\n    def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind.ZodString &&\n    def.keyType._def.type._def.checks?.length\n  ) {\n    const { type, ...keyType } = parseBrandedDef(\n      def.keyType._def,\n      refs,\n    ) as JsonSchema7StringType;\n\n    return {\n      ...schema,\n      propertyNames: keyType,\n    };\n  }\n\n  return schema;\n}\n","import { ZodStringDef } from 'zod/v3';\nimport { Refs } from '../refs';\n\nlet emojiRegex: RegExp | undefined = undefined;\n\n/**\n * Generated from the regular expressions found here as of 2024-05-22:\n * https://github.com/colinhacks/zod/blob/master/src/types.ts.\n *\n * Expressions with /i flag have been changed accordingly.\n */\nexport const zodPatterns = {\n  /**\n   * `c` was changed to `[cC]` to replicate /i flag\n   */\n  cuid: /^[cC][^\\s-]{8,}$/,\n  cuid2: /^[0-9a-z]+$/,\n  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n  /**\n   * `a-z` was added to replicate /i flag\n   */\n  email:\n    /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n  /**\n   * Constructed a valid Unicode RegExp\n   *\n   * Lazily instantiate since this type of regex isn't supported\n   * in all envs (e.g. React Native).\n   *\n   * See:\n   * https://github.com/colinhacks/zod/issues/2433\n   * Fix in Zod:\n   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b\n   */\n  emoji: () => {\n    if (emojiRegex === undefined) {\n      emojiRegex = RegExp(\n        '^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$',\n        'u',\n      );\n    }\n    return emojiRegex;\n  },\n  /**\n   * Unused\n   */\n  uuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n  /**\n   * Unused\n   */\n  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n  ipv4Cidr:\n    /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n  /**\n   * Unused\n   */\n  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n  ipv6Cidr:\n    /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n  base64url:\n    /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n  nanoid: /^[a-zA-Z0-9_-]{21}$/,\n  jwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/,\n} as const;\n\nexport type JsonSchema7StringType = {\n  type: 'string';\n  minLength?: number;\n  maxLength?: number;\n  format?:\n    | 'email'\n    | 'idn-email'\n    | 'uri'\n    | 'uuid'\n    | 'date-time'\n    | 'ipv4'\n    | 'ipv6'\n    | 'date'\n    | 'time'\n    | 'duration';\n  pattern?: string;\n  allOf?: {\n    pattern: string;\n  }[];\n  anyOf?: {\n    format: string;\n  }[];\n  contentEncoding?: string;\n};\n\nexport function parseStringDef(\n  def: ZodStringDef,\n  refs: Refs,\n): JsonSchema7StringType {\n  const res: JsonSchema7StringType = {\n    type: 'string',\n  };\n\n  if (def.checks) {\n    for (const check of def.checks) {\n      switch (check.kind) {\n        case 'min':\n          res.minLength =\n            typeof res.minLength === 'number'\n              ? Math.max(res.minLength, check.value)\n              : check.value;\n          break;\n        case 'max':\n          res.maxLength =\n            typeof res.maxLength === 'number'\n              ? Math.min(res.maxLength, check.value)\n              : check.value;\n\n          break;\n        case 'email':\n          switch (refs.emailStrategy) {\n            case 'format:email':\n              addFormat(res, 'email', check.message, refs);\n              break;\n            case 'format:idn-email':\n              addFormat(res, 'idn-email', check.message, refs);\n              break;\n            case 'pattern:zod':\n              addPattern(res, zodPatterns.email, check.message, refs);\n              break;\n          }\n\n          break;\n        case 'url':\n          addFormat(res, 'uri', check.message, refs);\n          break;\n        case 'uuid':\n          addFormat(res, 'uuid', check.message, refs);\n          break;\n        case 'regex':\n          addPattern(res, check.regex, check.message, refs);\n          break;\n        case 'cuid':\n          addPattern(res, zodPatterns.cuid, check.message, refs);\n          break;\n        case 'cuid2':\n          addPattern(res, zodPatterns.cuid2, check.message, refs);\n          break;\n        case 'startsWith':\n          addPattern(\n            res,\n            RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`),\n            check.message,\n            refs,\n          );\n          break;\n        case 'endsWith':\n          addPattern(\n            res,\n            RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`),\n            check.message,\n            refs,\n          );\n          break;\n        case 'datetime':\n          addFormat(res, 'date-time', check.message, refs);\n          break;\n        case 'date':\n          addFormat(res, 'date', check.message, refs);\n          break;\n        case 'time':\n          addFormat(res, 'time', check.message, refs);\n          break;\n        case 'duration':\n          addFormat(res, 'duration', check.message, refs);\n          break;\n        case 'length':\n          res.minLength =\n            typeof res.minLength === 'number'\n              ? Math.max(res.minLength, check.value)\n              : check.value;\n          res.maxLength =\n            typeof res.maxLength === 'number'\n              ? Math.min(res.maxLength, check.value)\n              : check.value;\n          break;\n        case 'includes': {\n          addPattern(\n            res,\n            RegExp(escapeLiteralCheckValue(check.value, refs)),\n            check.message,\n            refs,\n          );\n          break;\n        }\n        case 'ip': {\n          if (check.version !== 'v6') {\n            addFormat(res, 'ipv4', check.message, refs);\n          }\n          if (check.version !== 'v4') {\n            addFormat(res, 'ipv6', check.message, refs);\n          }\n          break;\n        }\n        case 'base64url':\n          addPattern(res, zodPatterns.base64url, check.message, refs);\n          break;\n        case 'jwt':\n          addPattern(res, zodPatterns.jwt, check.message, refs);\n          break;\n        case 'cidr': {\n          if (check.version !== 'v6') {\n            addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n          }\n          if (check.version !== 'v4') {\n            addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n          }\n          break;\n        }\n        case 'emoji':\n          addPattern(res, zodPatterns.emoji(), check.message, refs);\n          break;\n        case 'ulid': {\n          addPattern(res, zodPatterns.ulid, check.message, refs);\n          break;\n        }\n        case 'base64': {\n          switch (refs.base64Strategy) {\n            case 'format:binary': {\n              addFormat(res, 'binary' as any, check.message, refs);\n              break;\n            }\n\n            case 'contentEncoding:base64': {\n              res.contentEncoding = 'base64';\n              break;\n            }\n\n            case 'pattern:zod': {\n              addPattern(res, zodPatterns.base64, check.message, refs);\n              break;\n            }\n          }\n          break;\n        }\n        case 'nanoid': {\n          addPattern(res, zodPatterns.nanoid, check.message, refs);\n        }\n        case 'toLowerCase':\n        case 'toUpperCase':\n        case 'trim':\n          break;\n        default:\n          /* c8 ignore next */\n          ((_: never) => {})(check);\n      }\n    }\n  }\n\n  return res;\n}\n\nfunction escapeLiteralCheckValue(literal: string, refs: Refs): string {\n  return refs.patternStrategy === 'escape'\n    ? escapeNonAlphaNumeric(literal)\n    : literal;\n}\n\nconst ALPHA_NUMERIC = new Set(\n  'ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789',\n);\n\nfunction escapeNonAlphaNumeric(source: string) {\n  let result = '';\n\n  for (let i = 0; i < source.length; i++) {\n    if (!ALPHA_NUMERIC.has(source[i])) {\n      result += '\\\\';\n    }\n\n    result += source[i];\n  }\n\n  return result;\n}\n\n// Adds a \"format\" keyword to the schema. If a format exists, both formats will be joined in an allOf-node, along with subsequent ones.\nfunction addFormat(\n  schema: JsonSchema7StringType,\n  value: Required<JsonSchema7StringType>['format'],\n  message: string | undefined,\n  refs: Refs,\n) {\n  if (schema.format || schema.anyOf?.some(x => x.format)) {\n    if (!schema.anyOf) {\n      schema.anyOf = [];\n    }\n\n    if (schema.format) {\n      schema.anyOf!.push({\n        format: schema.format,\n      });\n      delete schema.format;\n    }\n\n    schema.anyOf!.push({\n      format: value,\n      ...(message &&\n        refs.errorMessages && { errorMessage: { format: message } }),\n    });\n  } else {\n    schema.format = value;\n  }\n}\n\n// Adds a \"pattern\" keyword to the schema. If a pattern exists, both patterns will be joined in an allOf-node, along with subsequent ones.\nfunction addPattern(\n  schema: JsonSchema7StringType,\n  regex: RegExp,\n  message: string | undefined,\n  refs: Refs,\n) {\n  if (schema.pattern || schema.allOf?.some(x => x.pattern)) {\n    if (!schema.allOf) {\n      schema.allOf = [];\n    }\n\n    if (schema.pattern) {\n      schema.allOf!.push({\n        pattern: schema.pattern,\n      });\n      delete schema.pattern;\n    }\n\n    schema.allOf!.push({\n      pattern: stringifyRegExpWithFlags(regex, refs),\n      ...(message &&\n        refs.errorMessages && { errorMessage: { pattern: message } }),\n    });\n  } else {\n    schema.pattern = stringifyRegExpWithFlags(regex, refs);\n  }\n}\n\n// Mutate z.string.regex() in a best attempt to accommodate for regex flags when applyRegexFlags is true\nfunction stringifyRegExpWithFlags(regex: RegExp, refs: Refs): string {\n  if (!refs.applyRegexFlags || !regex.flags) {\n    return regex.source;\n  }\n\n  // Currently handled flags\n  const flags = {\n    i: regex.flags.includes('i'), // Case-insensitive\n    m: regex.flags.includes('m'), // `^` and `$` matches adjacent to newline characters\n    s: regex.flags.includes('s'), // `.` matches newlines\n  };\n\n  // The general principle here is to step through each character, one at a time, applying mutations as flags require. We keep track when the current character is escaped, and when it's inside a group /like [this]/ or (also) a range like /[a-z]/. The following is fairly brittle imperative code; edit at your peril!\n  const source = flags.i ? regex.source.toLowerCase() : regex.source;\n  let pattern = '';\n  let isEscaped = false;\n  let inCharGroup = false;\n  let inCharRange = false;\n\n  for (let i = 0; i < source.length; i++) {\n    if (isEscaped) {\n      pattern += source[i];\n      isEscaped = false;\n      continue;\n    }\n\n    if (flags.i) {\n      if (inCharGroup) {\n        if (source[i].match(/[a-z]/)) {\n          if (inCharRange) {\n            pattern += source[i];\n            pattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n            inCharRange = false;\n          } else if (source[i + 1] === '-' && source[i + 2]?.match(/[a-z]/)) {\n            pattern += source[i];\n            inCharRange = true;\n          } else {\n            pattern += `${source[i]}${source[i].toUpperCase()}`;\n          }\n          continue;\n        }\n      } else if (source[i].match(/[a-z]/)) {\n        pattern += `[${source[i]}${source[i].toUpperCase()}]`;\n        continue;\n      }\n    }\n\n    if (flags.m) {\n      if (source[i] === '^') {\n        pattern += `(^|(?<=[\\r\\n]))`;\n        continue;\n      } else if (source[i] === '$') {\n        pattern += `($|(?=[\\r\\n]))`;\n        continue;\n      }\n    }\n\n    if (flags.s && source[i] === '.') {\n      pattern += inCharGroup ? `${source[i]}\\r\\n` : `[${source[i]}\\r\\n]`;\n      continue;\n    }\n\n    pattern += source[i];\n    if (source[i] === '\\\\') {\n      isEscaped = true;\n    } else if (inCharGroup && source[i] === ']') {\n      inCharGroup = false;\n    } else if (!inCharGroup && source[i] === '[') {\n      inCharGroup = true;\n    }\n  }\n\n  try {\n    new RegExp(pattern);\n  } catch {\n    console.warn(\n      `Could not convert regex pattern at ${refs.currentPath.join(\n        '/',\n      )} to a flag-independent form! Falling back to the flag-ignorant source`,\n    );\n    return regex.source;\n  }\n\n  return pattern;\n}\n","import { ZodMapDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { parseAnyDef } from './any';\nimport { JsonSchema7RecordType, parseRecordDef } from './record';\n\nexport type JsonSchema7MapType = {\n  type: 'array';\n  maxItems: 125;\n  items: {\n    type: 'array';\n    items: [JsonSchema7Type, JsonSchema7Type];\n    minItems: 2;\n    maxItems: 2;\n  };\n};\n\nexport function parseMapDef(\n  def: ZodMapDef,\n  refs: Refs,\n): JsonSchema7MapType | JsonSchema7RecordType {\n  if (refs.mapStrategy === 'record') {\n    return parseRecordDef(def, refs);\n  }\n\n  const keys =\n    parseDef(def.keyType._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items', 'items', '0'],\n    }) || parseAnyDef();\n  const values =\n    parseDef(def.valueType._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items', 'items', '1'],\n    }) || parseAnyDef();\n  return {\n    type: 'array',\n    maxItems: 125,\n    items: {\n      type: 'array',\n      items: [keys, values],\n      minItems: 2,\n      maxItems: 2,\n    },\n  };\n}\n","import { ZodNativeEnumDef } from 'zod/v3';\n\nexport type JsonSchema7NativeEnumType = {\n  type: 'string' | 'number' | ['string', 'number'];\n  enum: (string | number)[];\n};\n\nexport function parseNativeEnumDef(\n  def: ZodNativeEnumDef,\n): JsonSchema7NativeEnumType {\n  const object = def.values;\n  const actualKeys = Object.keys(def.values).filter((key: string) => {\n    return typeof object[object[key]] !== 'number';\n  });\n\n  const actualValues = actualKeys.map((key: string) => object[key]);\n\n  const parsedTypes = Array.from(\n    new Set(actualValues.map((values: string | number) => typeof values)),\n  );\n\n  return {\n    type:\n      parsedTypes.length === 1\n        ? parsedTypes[0] === 'string'\n          ? 'string'\n          : 'number'\n        : ['string', 'number'],\n    enum: actualValues,\n  };\n}\n","import { JsonSchema7AnyType, parseAnyDef } from './any';\n\nexport type JsonSchema7NeverType = {\n  not: JsonSchema7AnyType;\n};\n\nexport function parseNeverDef(): JsonSchema7NeverType | undefined {\n  return { not: parseAnyDef() };\n}\n","export type JsonSchema7NullType = {\n  type: 'null';\n};\n\nexport function parseNullDef(): JsonSchema7NullType {\n  return {\n    type: 'null',\n  };\n}\n","import {\n  ZodDiscriminatedUnionDef,\n  ZodLiteralDef,\n  ZodTypeAny,\n  ZodUnionDef,\n} from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport const primitiveMappings = {\n  ZodString: 'string',\n  ZodNumber: 'number',\n  ZodBigInt: 'integer',\n  ZodBoolean: 'boolean',\n  ZodNull: 'null',\n} as const;\ntype ZodPrimitive = keyof typeof primitiveMappings;\ntype JsonSchema7Primitive =\n  (typeof primitiveMappings)[keyof typeof primitiveMappings];\n\nexport type JsonSchema7UnionType =\n  | JsonSchema7PrimitiveUnionType\n  | JsonSchema7AnyOfType;\n\ntype JsonSchema7PrimitiveUnionType =\n  | {\n      type: JsonSchema7Primitive | JsonSchema7Primitive[];\n    }\n  | {\n      type: JsonSchema7Primitive | JsonSchema7Primitive[];\n      enum: (string | number | bigint | boolean | null)[];\n    };\n\ntype JsonSchema7AnyOfType = {\n  anyOf: JsonSchema7Type[];\n};\n\nexport function parseUnionDef(\n  def: ZodUnionDef | ZodDiscriminatedUnionDef<any, any>,\n  refs: Refs,\n): JsonSchema7PrimitiveUnionType | JsonSchema7AnyOfType | undefined {\n  const options: readonly ZodTypeAny[] =\n    def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n\n  // This blocks tries to look ahead a bit to produce nicer looking schemas with type array instead of anyOf.\n  if (\n    options.every(\n      x =>\n        x._def.typeName in primitiveMappings &&\n        (!x._def.checks || !x._def.checks.length),\n    )\n  ) {\n    // all types in union are primitive and lack checks, so might as well squash into {type: [...]}\n\n    const types = options.reduce((types: JsonSchema7Primitive[], x) => {\n      const type = primitiveMappings[x._def.typeName as ZodPrimitive]; //Can be safely casted due to row 43\n      return type && !types.includes(type) ? [...types, type] : types;\n    }, []);\n\n    return {\n      type: types.length > 1 ? types : types[0],\n    };\n  } else if (\n    options.every(x => x._def.typeName === 'ZodLiteral' && !x.description)\n  ) {\n    // all options literals\n\n    const types = options.reduce(\n      (acc: JsonSchema7Primitive[], x: { _def: ZodLiteralDef }) => {\n        const type = typeof x._def.value;\n        switch (type) {\n          case 'string':\n          case 'number':\n          case 'boolean':\n            return [...acc, type];\n          case 'bigint':\n            return [...acc, 'integer' as const];\n          case 'object':\n            if (x._def.value === null) return [...acc, 'null' as const];\n          case 'symbol':\n          case 'undefined':\n          case 'function':\n          default:\n            return acc;\n        }\n      },\n      [],\n    );\n\n    if (types.length === options.length) {\n      // all the literals are primitive, as far as null can be considered primitive\n\n      const uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n      return {\n        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n        enum: options.reduce(\n          (acc, x) => {\n            return acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n          },\n          [] as (string | number | bigint | boolean | null)[],\n        ),\n      };\n    }\n  } else if (options.every(x => x._def.typeName === 'ZodEnum')) {\n    return {\n      type: 'string',\n      enum: options.reduce(\n        (acc: string[], x) => [\n          ...acc,\n          ...x._def.values.filter((x: string) => !acc.includes(x)),\n        ],\n        [],\n      ),\n    };\n  }\n\n  return asAnyOf(def, refs);\n}\n\nconst asAnyOf = (\n  def: ZodUnionDef | ZodDiscriminatedUnionDef<any, any>,\n  refs: Refs,\n): JsonSchema7PrimitiveUnionType | JsonSchema7AnyOfType | undefined => {\n  const anyOf = (\n    (def.options instanceof Map\n      ? Array.from(def.options.values())\n      : def.options) as any[]\n  )\n    .map((x, i) =>\n      parseDef(x._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, 'anyOf', `${i}`],\n      }),\n    )\n    .filter(\n      (x): x is JsonSchema7Type =>\n        !!x &&\n        (!refs.strictUnions ||\n          (typeof x === 'object' && Object.keys(x).length > 0)),\n    );\n\n  return anyOf.length ? { anyOf } : undefined;\n};\n","import { ZodNullableDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { JsonSchema7NullType } from './null';\nimport { primitiveMappings } from './union';\n\nexport type JsonSchema7NullableType =\n  | {\n      anyOf: [JsonSchema7Type, JsonSchema7NullType];\n    }\n  | {\n      type: [string, 'null'];\n    };\n\nexport function parseNullableDef(\n  def: ZodNullableDef,\n  refs: Refs,\n): JsonSchema7NullableType | undefined {\n  if (\n    ['ZodString', 'ZodNumber', 'ZodBigInt', 'ZodBoolean', 'ZodNull'].includes(\n      def.innerType._def.typeName,\n    ) &&\n    (!def.innerType._def.checks || !def.innerType._def.checks.length)\n  ) {\n    return {\n      type: [\n        primitiveMappings[\n          def.innerType._def.typeName as keyof typeof primitiveMappings\n        ],\n        'null',\n      ],\n    };\n  }\n\n  const base = parseDef(def.innerType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'anyOf', '0'],\n  });\n\n  return base && { anyOf: [base, { type: 'null' }] };\n}\n","import { ZodNumberDef } from 'zod/v3';\n\nexport type JsonSchema7NumberType = {\n  type: 'number' | 'integer';\n  minimum?: number;\n  exclusiveMinimum?: number;\n  maximum?: number;\n  exclusiveMaximum?: number;\n  multipleOf?: number;\n};\n\nexport function parseNumberDef(def: ZodNumberDef): JsonSchema7NumberType {\n  const res: JsonSchema7NumberType = {\n    type: 'number',\n  };\n\n  if (!def.checks) return res;\n\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case 'int':\n        res.type = 'integer';\n        break;\n      case 'min':\n        if (check.inclusive) {\n          res.minimum = check.value;\n        } else {\n          res.exclusiveMinimum = check.value;\n        }\n        break;\n      case 'max':\n        if (check.inclusive) {\n          res.maximum = check.value;\n        } else {\n          res.exclusiveMaximum = check.value;\n        }\n        break;\n      case 'multipleOf':\n        res.multipleOf = check.value;\n        break;\n    }\n  }\n  return res;\n}\n","import { ZodObjectDef, ZodTypeAny } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport type JsonSchema7ObjectType = {\n  type: 'object';\n  properties: Record<string, JsonSchema7Type>;\n  additionalProperties?: boolean | JsonSchema7Type;\n  required?: string[];\n};\n\nexport function parseObjectDef(def: ZodObjectDef, refs: Refs) {\n  const result: JsonSchema7ObjectType = {\n    type: 'object',\n    properties: {},\n  };\n\n  const required: string[] = [];\n\n  const shape = def.shape();\n\n  for (const propName in shape) {\n    let propDef = shape[propName];\n\n    if (propDef === undefined || propDef._def === undefined) {\n      continue;\n    }\n\n    const propOptional = safeIsOptional(propDef);\n\n    const parsedDef = parseDef(propDef._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'properties', propName],\n      propertyPath: [...refs.currentPath, 'properties', propName],\n    });\n\n    if (parsedDef === undefined) {\n      continue;\n    }\n\n    result.properties[propName] = parsedDef;\n\n    if (!propOptional) {\n      required.push(propName);\n    }\n  }\n\n  if (required.length) {\n    result.required = required;\n  }\n\n  const additionalProperties = decideAdditionalProperties(def, refs);\n\n  if (additionalProperties !== undefined) {\n    result.additionalProperties = additionalProperties;\n  }\n\n  return result;\n}\n\nfunction decideAdditionalProperties(def: ZodObjectDef, refs: Refs) {\n  if (def.catchall._def.typeName !== 'ZodNever') {\n    return parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'additionalProperties'],\n    });\n  }\n\n  switch (def.unknownKeys) {\n    case 'passthrough':\n      return refs.allowedAdditionalProperties;\n    case 'strict':\n      return refs.rejectedAdditionalProperties;\n    case 'strip':\n      return refs.removeAdditionalStrategy === 'strict'\n        ? refs.allowedAdditionalProperties\n        : refs.rejectedAdditionalProperties;\n  }\n}\n\nfunction safeIsOptional(schema: ZodTypeAny): boolean {\n  try {\n    return schema.isOptional();\n  } catch {\n    return true;\n  }\n}\n","import { ZodOptionalDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { parseAnyDef } from './any';\n\nexport const parseOptionalDef = (\n  def: ZodOptionalDef,\n  refs: Refs,\n): JsonSchema7Type | undefined => {\n  if (refs.currentPath.toString() === refs.propertyPath?.toString()) {\n    return parseDef(def.innerType._def, refs);\n  }\n\n  const innerSchema = parseDef(def.innerType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'anyOf', '1'],\n  });\n\n  return innerSchema\n    ? { anyOf: [{ not: parseAnyDef() }, innerSchema] }\n    : parseAnyDef();\n};\n","import { ZodPipelineDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\nimport { JsonSchema7AllOfType } from './intersection';\n\nexport const parsePipelineDef = (\n  def: ZodPipelineDef<any, any>,\n  refs: Refs,\n): JsonSchema7AllOfType | JsonSchema7Type | undefined => {\n  if (refs.pipeStrategy === 'input') {\n    return parseDef(def.in._def, refs);\n  } else if (refs.pipeStrategy === 'output') {\n    return parseDef(def.out._def, refs);\n  }\n\n  const a = parseDef(def.in._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'allOf', '0'],\n  });\n  const b = parseDef(def.out._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'allOf', a ? '1' : '0'],\n  });\n\n  return {\n    allOf: [a, b].filter((x): x is JsonSchema7Type => x !== undefined),\n  };\n};\n","import { ZodPromiseDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport function parsePromiseDef(\n  def: ZodPromiseDef,\n  refs: Refs,\n): JsonSchema7Type | undefined {\n  return parseDef(def.type._def, refs);\n}\n","import { ZodSetDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport type JsonSchema7SetType = {\n  type: 'array';\n  uniqueItems: true;\n  items?: JsonSchema7Type;\n  minItems?: number;\n  maxItems?: number;\n};\n\nexport function parseSetDef(def: ZodSetDef, refs: Refs): JsonSchema7SetType {\n  const items = parseDef(def.valueType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'items'],\n  });\n\n  const schema: JsonSchema7SetType = {\n    type: 'array',\n    uniqueItems: true,\n    items,\n  };\n\n  if (def.minSize) {\n    schema.minItems = def.minSize.value;\n  }\n\n  if (def.maxSize) {\n    schema.maxItems = def.maxSize.value;\n  }\n\n  return schema;\n}\n","import { ZodTupleDef, ZodTupleItems, ZodTypeAny } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { JsonSchema7Type } from '../parse-types';\nimport { Refs } from '../refs';\n\nexport type JsonSchema7TupleType = {\n  type: 'array';\n  minItems: number;\n  items: JsonSchema7Type[];\n} & (\n  | {\n      maxItems: number;\n    }\n  | {\n      additionalItems?: JsonSchema7Type;\n    }\n);\n\nexport function parseTupleDef(\n  def: ZodTupleDef<ZodTupleItems | [], ZodTypeAny | null>,\n  refs: Refs,\n): JsonSchema7TupleType {\n  if (def.rest) {\n    return {\n      type: 'array',\n      minItems: def.items.length,\n      items: def.items\n        .map((x, i) =>\n          parseDef(x._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, 'items', `${i}`],\n          }),\n        )\n        .reduce(\n          (acc: JsonSchema7Type[], x) => (x === undefined ? acc : [...acc, x]),\n          [],\n        ),\n      additionalItems: parseDef(def.rest._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, 'additionalItems'],\n      }),\n    };\n  } else {\n    return {\n      type: 'array',\n      minItems: def.items.length,\n      maxItems: def.items.length,\n      items: def.items\n        .map((x, i) =>\n          parseDef(x._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, 'items', `${i}`],\n          }),\n        )\n        .reduce(\n          (acc: JsonSchema7Type[], x) => (x === undefined ? acc : [...acc, x]),\n          [],\n        ),\n    };\n  }\n}\n","import { JsonSchema7AnyType, parseAnyDef } from './any';\n\nexport type JsonSchema7UndefinedType = {\n  not: JsonSchema7AnyType;\n};\n\nexport function parseUndefinedDef(): JsonSchema7UndefinedType {\n  return {\n    not: parseAnyDef(),\n  };\n}\n","import { JsonSchema7AnyType, parseAnyDef } from './any';\n\nexport type JsonSchema7UnknownType = JsonSchema7AnyType;\n\nexport function parseUnknownDef(): JsonSchema7UnknownType {\n  return parseAnyDef();\n}\n","import { ZodReadonlyDef } from 'zod/v3';\nimport { parseDef } from '../parse-def';\nimport { Refs } from '../refs';\n\nexport const parseReadonlyDef = (def: ZodReadonlyDef<any>, refs: Refs) => {\n  return parseDef(def.innerType._def, refs);\n};\n","import { ZodTypeDef } from 'zod/v3';\nimport { Refs, Seen } from './refs';\nimport { ignoreOverride } from './options';\nimport { JsonSchema7Type } from './parse-types';\nimport { selectParser } from './select-parser';\nimport { getRelativePath } from './get-relative-path';\nimport { parseAnyDef } from './parsers/any';\n\nexport function parseDef(\n  def: ZodTypeDef,\n  refs: Refs,\n  forceResolution = false, // Forces a new schema to be instantiated even though its def has been seen. Used for improving refs in definitions. See https://github.com/StefanTerdell/zod-to-json-schema/pull/61.\n): JsonSchema7Type | undefined {\n  const seenItem = refs.seen.get(def);\n\n  if (refs.override) {\n    const overrideResult = refs.override?.(\n      def,\n      refs,\n      seenItem,\n      forceResolution,\n    );\n\n    if (overrideResult !== ignoreOverride) {\n      return overrideResult;\n    }\n  }\n\n  if (seenItem && !forceResolution) {\n    const seenSchema = get$ref(seenItem, refs);\n\n    if (seenSchema !== undefined) {\n      return seenSchema;\n    }\n  }\n\n  const newItem: Seen = { def, path: refs.currentPath, jsonSchema: undefined };\n\n  refs.seen.set(def, newItem);\n\n  const jsonSchemaOrGetter = selectParser(def, (def as any).typeName, refs);\n\n  // If the return was a function, then the inner definition needs to be extracted before a call to parseDef (recursive)\n  const jsonSchema =\n    typeof jsonSchemaOrGetter === 'function'\n      ? parseDef(jsonSchemaOrGetter(), refs)\n      : jsonSchemaOrGetter;\n\n  if (jsonSchema) {\n    addMeta(def, refs, jsonSchema);\n  }\n\n  if (refs.postProcess) {\n    const postProcessResult = refs.postProcess(jsonSchema, def, refs);\n\n    newItem.jsonSchema = jsonSchema;\n\n    return postProcessResult;\n  }\n\n  newItem.jsonSchema = jsonSchema;\n\n  return jsonSchema;\n}\n\nconst get$ref = (\n  item: Seen,\n  refs: Refs,\n):\n  | {\n      $ref: string;\n    }\n  | {}\n  | undefined => {\n  switch (refs.$refStrategy) {\n    case 'root':\n      return { $ref: item.path.join('/') };\n    case 'relative':\n      return { $ref: getRelativePath(refs.currentPath, item.path) };\n    case 'none':\n    case 'seen': {\n      if (\n        item.path.length < refs.currentPath.length &&\n        item.path.every((value, index) => refs.currentPath[index] === value)\n      ) {\n        console.warn(\n          `Recursive reference detected at ${refs.currentPath.join(\n            '/',\n          )}! Defaulting to any`,\n        );\n\n        return parseAnyDef();\n      }\n\n      return refs.$refStrategy === 'seen' ? parseAnyDef() : undefined;\n    }\n  }\n};\n\nconst addMeta = (\n  def: ZodTypeDef,\n  refs: Refs,\n  jsonSchema: JsonSchema7Type,\n): JsonSchema7Type => {\n  if (def.description) {\n    jsonSchema.description = def.description;\n  }\n  return jsonSchema;\n};\n","import { ZodTypeDef } from 'zod/v3';\nimport { getDefaultOptions, Options } from './options';\nimport { JsonSchema7Type } from './parse-types';\n\nexport type Refs = {\n  seen: Map<ZodTypeDef, Seen>;\n  currentPath: string[];\n  propertyPath: string[] | undefined;\n} & Options;\n\nexport type Seen = {\n  def: ZodTypeDef;\n  path: string[];\n  jsonSchema: JsonSchema7Type | undefined;\n};\n\nexport const getRefs = (options?: string | Partial<Options>): Refs => {\n  const _options = getDefaultOptions(options);\n  const currentPath =\n    _options.name !== undefined\n      ? [..._options.basePath, _options.definitionPath, _options.name]\n      : _options.basePath;\n  return {\n    ..._options,\n    currentPath: currentPath,\n    propertyPath: undefined,\n    seen: new Map(\n      Object.entries(_options.definitions).map(([name, def]) => [\n        def._def,\n        {\n          def: def._def,\n          path: [..._options.basePath, _options.definitionPath, name],\n          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.\n          jsonSchema: undefined,\n        },\n      ]),\n    ),\n  };\n};\n","import { ZodSchema } from 'zod/v3';\nimport { Options } from './options';\nimport { parseDef } from './parse-def';\nimport { JsonSchema7Type } from './parse-types';\nimport { getRefs } from './refs';\nimport { parseAnyDef } from './parsers/any';\n\nconst zodToJsonSchema = (\n  schema: ZodSchema<any>,\n  options?: Partial<Options> | string,\n): JsonSchema7Type & {\n  $schema?: string;\n  definitions?: {\n    [key: string]: JsonSchema7Type;\n  };\n} => {\n  const refs = getRefs(options);\n\n  let definitions =\n    typeof options === 'object' && options.definitions\n      ? Object.entries(options.definitions).reduce(\n          (acc: { [key: string]: JsonSchema7Type }, [name, schema]) => ({\n            ...acc,\n            [name]:\n              parseDef(\n                schema._def,\n                {\n                  ...refs,\n                  currentPath: [...refs.basePath, refs.definitionPath, name],\n                },\n                true,\n              ) ?? parseAnyDef(),\n          }),\n          {},\n        )\n      : undefined;\n\n  const name =\n    typeof options === 'string'\n      ? options\n      : options?.nameStrategy === 'title'\n        ? undefined\n        : options?.name;\n\n  const main =\n    parseDef(\n      schema._def,\n      name === undefined\n        ? refs\n        : {\n            ...refs,\n            currentPath: [...refs.basePath, refs.definitionPath, name],\n          },\n      false,\n    ) ?? (parseAnyDef() as JsonSchema7Type);\n\n  const title =\n    typeof options === 'object' &&\n    options.name !== undefined &&\n    options.nameStrategy === 'title'\n      ? options.name\n      : undefined;\n\n  if (title !== undefined) {\n    main.title = title;\n  }\n\n  const combined: ReturnType<typeof zodToJsonSchema> =\n    name === undefined\n      ? definitions\n        ? {\n            ...main,\n            [refs.definitionPath]: definitions,\n          }\n        : main\n      : {\n          $ref: [\n            ...(refs.$refStrategy === 'relative' ? [] : refs.basePath),\n            refs.definitionPath,\n            name,\n          ].join('/'),\n          [refs.definitionPath]: {\n            ...definitions,\n            [name]: main,\n          },\n        };\n\n  combined.$schema = 'http://json-schema.org/draft-07/schema#';\n\n  return combined;\n};\n\nexport { zodToJsonSchema };\n","export * from './get-relative-path';\nexport * from './options';\nexport * from './parse-def';\nexport * from './parse-types';\nexport * from './parsers/any';\nexport * from './parsers/array';\nexport * from './parsers/bigint';\nexport * from './parsers/boolean';\nexport * from './parsers/branded';\nexport * from './parsers/catch';\nexport * from './parsers/date';\nexport * from './parsers/default';\nexport * from './parsers/effects';\nexport * from './parsers/enum';\nexport * from './parsers/intersection';\nexport * from './parsers/literal';\nexport * from './parsers/map';\nexport * from './parsers/native-enum';\nexport * from './parsers/never';\nexport * from './parsers/null';\nexport * from './parsers/nullable';\nexport * from './parsers/number';\nexport * from './parsers/object';\nexport * from './parsers/optional';\nexport * from './parsers/pipeline';\nexport * from './parsers/promise';\nexport * from './parsers/readonly';\nexport * from './parsers/record';\nexport * from './parsers/set';\nexport * from './parsers/string';\nexport * from './parsers/tuple';\nexport * from './parsers/undefined';\nexport * from './parsers/union';\nexport * from './parsers/unknown';\nexport * from './refs';\nexport * from './select-parser';\nexport * from './zod-to-json-schema';\nimport { zodToJsonSchema } from './zod-to-json-schema';\nexport default zodToJsonSchema;\n","import { JSONSchema7 } from '@ai-sdk/provider';\nimport * as z3 from 'zod/v3';\nimport * as z4 from 'zod/v4';\nimport { Validator, validatorSymbol, type ValidationResult } from './validator';\nimport { zodSchema } from './zod-schema';\n\n/**\n * Used to mark schemas so we can support both Zod and custom schemas.\n */\nconst schemaSymbol = Symbol.for('vercel.ai.schema');\n\nexport type Schema<OBJECT = unknown> = Validator<OBJECT> & {\n  /**\n   * Used to mark schemas so we can support both Zod and custom schemas.\n   */\n  [schemaSymbol]: true;\n\n  /**\n   * Schema type for inference.\n   */\n  _type: OBJECT;\n\n  /**\n   * The JSON Schema for the schema. It is passed to the providers.\n   */\n  readonly jsonSchema: JSONSchema7;\n};\n\n/**\n * Creates a schema with deferred creation.\n * This is important to reduce the startup time of the library\n * and to avoid initializing unused validators.\n *\n * @param createValidator A function that creates a schema.\n * @returns A function that returns a schema.\n */\nexport function lazySchema<SCHEMA>(\n  createSchema: () => Schema<SCHEMA>,\n): LazySchema<SCHEMA> {\n  // cache the validator to avoid initializing it multiple times\n  let schema: Schema<SCHEMA> | undefined;\n  return () => {\n    if (schema == null) {\n      schema = createSchema();\n    }\n    return schema;\n  };\n}\n\nexport type LazySchema<SCHEMA> = () => Schema<SCHEMA>;\n\n// Note: Zod types here exactly match the types in zod-schema.ts\n// to prevent type errors when using zod schemas with flexible schemas.\nexport type FlexibleSchema<SCHEMA> =\n  | z4.core.$ZodType<SCHEMA, any>\n  | z3.Schema<SCHEMA, z3.ZodTypeDef, any>\n  | Schema<SCHEMA>\n  | LazySchema<SCHEMA>;\n\nexport type InferSchema<SCHEMA> = SCHEMA extends z3.Schema\n  ? z3.infer<SCHEMA>\n  : SCHEMA extends z4.core.$ZodType\n    ? z4.infer<SCHEMA>\n    : SCHEMA extends LazySchema<infer T>\n      ? T\n      : SCHEMA extends Schema<infer T>\n        ? T\n        : never;\n\n/**\n * Create a schema using a JSON Schema.\n *\n * @param jsonSchema The JSON Schema for the schema.\n * @param options.validate Optional. A validation function for the schema.\n */\nexport function jsonSchema<OBJECT = unknown>(\n  jsonSchema: JSONSchema7 | (() => JSONSchema7),\n  {\n    validate,\n  }: {\n    validate?: (\n      value: unknown,\n    ) => ValidationResult<OBJECT> | PromiseLike<ValidationResult<OBJECT>>;\n  } = {},\n): Schema<OBJECT> {\n  return {\n    [schemaSymbol]: true,\n    _type: undefined as OBJECT, // should never be used directly\n    [validatorSymbol]: true,\n    get jsonSchema() {\n      if (typeof jsonSchema === 'function') {\n        jsonSchema = jsonSchema(); // cache the function results\n      }\n      return jsonSchema;\n    },\n    validate,\n  };\n}\n\nfunction isSchema(value: unknown): value is Schema {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    schemaSymbol in value &&\n    value[schemaSymbol] === true &&\n    'jsonSchema' in value &&\n    'validate' in value\n  );\n}\n\nexport function asSchema<OBJECT>(\n  schema: FlexibleSchema<OBJECT> | undefined,\n): Schema<OBJECT> {\n  return schema == null\n    ? jsonSchema({\n        properties: {},\n        additionalProperties: false,\n      })\n    : isSchema(schema)\n      ? schema\n      : typeof schema === 'function'\n        ? schema()\n        : zodSchema(schema);\n}\n","// btoa and atob need to be invoked as a function call, not as a method call.\n// Otherwise CloudFlare will throw a\n// \"TypeError: Illegal invocation: function called with incorrect this reference\"\nconst { btoa, atob } = globalThis;\n\nexport function convertBase64ToUint8Array(base64String: string) {\n  const base64Url = base64String.replace(/-/g, '+').replace(/_/g, '/');\n  const latin1string = atob(base64Url);\n  return Uint8Array.from(latin1string, byte => byte.codePointAt(0)!);\n}\n\nexport function convertUint8ArrayToBase64(array: Uint8Array): string {\n  let latin1string = '';\n\n  // Note: regular for loop to support older JavaScript versions that\n  // do not support for..of on Uint8Array\n  for (let i = 0; i < array.length; i++) {\n    latin1string += String.fromCodePoint(array[i]);\n  }\n\n  return btoa(latin1string);\n}\n\nexport function convertToBase64(value: string | Uint8Array): string {\n  return value instanceof Uint8Array ? convertUint8ArrayToBase64(value) : value;\n}\n","export function withoutTrailingSlash(url: string | undefined) {\n  return url?.replace(/\\/$/, '');\n}\n","export function isAsyncIterable<T = any>(obj: any): obj is AsyncIterable<T> {\n  return obj != null && typeof obj[Symbol.asyncIterator] === 'function';\n}\n","import { Tool, ToolCallOptions, ToolExecuteFunction } from './tool';\nimport { isAsyncIterable } from '../is-async-iterable';\n\nexport async function* executeTool<INPUT, OUTPUT>({\n  execute,\n  input,\n  options,\n}: {\n  execute: ToolExecuteFunction<INPUT, OUTPUT>;\n  input: INPUT;\n  options: ToolCallOptions;\n}): AsyncGenerator<\n  { type: 'preliminary'; output: OUTPUT } | { type: 'final'; output: OUTPUT }\n> {\n  const result = execute(input, options);\n\n  if (isAsyncIterable(result)) {\n    let lastOutput: OUTPUT | undefined;\n    for await (const output of result) {\n      lastOutput = output;\n      yield { type: 'preliminary', output };\n    }\n    yield { type: 'final', output: lastOutput! };\n  } else {\n    yield { type: 'final', output: await result };\n  }\n}\n","export * from './combine-headers';\nexport { convertAsyncIteratorToReadableStream } from './convert-async-iterator-to-readable-stream';\nexport * from './delay';\nexport * from './extract-response-headers';\nexport * from './fetch-function';\nexport { createIdGenerator, generateId, type IdGenerator } from './generate-id';\nexport * from './get-error-message';\nexport * from './get-from-api';\nexport { getRuntimeEnvironmentUserAgent } from './get-runtime-environment-user-agent';\nexport { injectJsonInstructionIntoMessages } from './inject-json-instruction';\nexport * from './is-abort-error';\nexport { isUrlSupported } from './is-url-supported';\nexport * from './load-api-key';\nexport { loadOptionalSetting } from './load-optional-setting';\nexport { loadSetting } from './load-setting';\nexport { mediaTypeToExtension } from './media-type-to-extension';\nexport { normalizeHeaders } from './normalize-headers';\nexport * from './parse-json';\nexport { parseJsonEventStream } from './parse-json-event-stream';\nexport { parseProviderOptions } from './parse-provider-options';\nexport * from './post-to-api';\nexport {\n  createProviderDefinedToolFactory,\n  createProviderDefinedToolFactoryWithOutputSchema,\n  type ProviderDefinedToolFactory,\n  type ProviderDefinedToolFactoryWithOutputSchema,\n} from './provider-defined-tool-factory';\nexport * from './remove-undefined-entries';\nexport * from './resolve';\nexport * from './response-handler';\nexport {\n  asSchema,\n  jsonSchema,\n  lazySchema,\n  type FlexibleSchema,\n  type InferSchema,\n  type LazySchema,\n  type Schema,\n} from './schema';\nexport * from './uint8-utils';\nexport * from './validate-types';\nexport {\n  asValidator,\n  isValidator,\n  lazyValidator,\n  standardSchemaValidator,\n  validator,\n  type FlexibleValidator,\n  type InferValidator,\n  type LazyValidator,\n  type ValidationResult,\n  type Validator,\n} from './validator';\nexport { VERSION } from './version';\nexport { withUserAgentSuffix } from './with-user-agent-suffix';\nexport * from './without-trailing-slash';\nexport { zodSchema } from './zod-schema';\n\n// folder re-exports\nexport * from './types';\n\n// external re-exports\nexport * from '@standard-schema/spec';\nexport {\n  EventSourceParserStream,\n  type EventSourceMessage,\n} from 'eventsource-parser/stream';\n"],"names":["resolve","APICallError","APICallError","mediaType","TypeValidationError","TypeValidationError","validator","TypeValidationError","validator","TypeValidationError","InvalidArgumentError","InvalidArgumentError","APICallError","getOriginalFetch","APICallError","tool","APICallError","APICallError","ZodFirstPartyTypeKind","ZodFirstPartyTypeKind","ZodFirstPartyTypeKind","types","x","ZodFirstPartyTypeKind","jsonSchema","name","schema","_a","zodSchema","jsonSchema","EventSourceParserStream"],"mappings":"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","debugId":null}},
    {"offset": {"line": 3931, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40vercel%2Boidc%403.0.3/node_modules/%40vercel/oidc/dist/get-context.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar get_context_exports = {};\n__export(get_context_exports, {\n  SYMBOL_FOR_REQ_CONTEXT: () => SYMBOL_FOR_REQ_CONTEXT,\n  getContext: () => getContext\n});\nmodule.exports = __toCommonJS(get_context_exports);\nconst SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction getContext() {\n  const fromSymbol = globalThis;\n  return fromSymbol[SYMBOL_FOR_REQ_CONTEXT]?.get?.() ?? {};\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  SYMBOL_FOR_REQ_CONTEXT,\n  getContext\n});\n"],"names":[],"mappings":"AACA,IAAI,YAAY,OAAO,cAAc;AACrC,IAAI,mBAAmB,OAAO,wBAAwB;AACtD,IAAI,oBAAoB,OAAO,mBAAmB;AAClD,IAAI,eAAe,OAAO,SAAS,CAAC,cAAc;AAClD,IAAI,WAAW,CAAC,QAAQ;IACtB,IAAK,IAAI,QAAQ,IACf,UAAU,QAAQ,MAAM;QAAE,KAAK,GAAG,CAAC,KAAK;QAAE,YAAY;IAAK;AAC/D;AACA,IAAI,cAAc,CAAC,IAAI,MAAM,QAAQ;IACnC,IAAI,QAAQ,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;QAClE,KAAK,IAAI,OAAO,kBAAkB,MAChC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,QAAQ,QAAQ,QACzC,UAAU,IAAI,KAAK;YAAE,KAAK,IAAM,IAAI,CAAC,IAAI;YAAE,YAAY,CAAC,CAAC,OAAO,iBAAiB,MAAM,IAAI,KAAK,KAAK,UAAU;QAAC;IACtH;IACA,OAAO;AACT;AACA,IAAI,eAAe,CAAC,MAAQ,YAAY,UAAU,CAAC,GAAG,cAAc;QAAE,OAAO;IAAK,IAAI;AACtF,IAAI,sBAAsB,CAAC;AAC3B,SAAS,qBAAqB;IAC5B,wBAAwB,IAAM;IAC9B,YAAY,IAAM;AACpB;AACA,OAAO,OAAO,GAAG,aAAa;AAC9B,MAAM,yBAAyB,OAAO,GAAG,CAAC;AAC1C,SAAS;QAEA,wCAAA;IADP,MAAM,aAAa;QACZ;IAAP,OAAO,CAAA,2CAAA,qCAAA,UAAU,CAAC,uBAAuB,cAAlC,0DAAA,yCAAA,mCAAoC,GAAG,cAAvC,6DAAA,4CAAA,iDAAA,qDAAA,0CAA+C,CAAC;AACzD;AACA,6DAA6D;AAC7D,KAAK,CAAC,OAAO,OAAO,GAAG;IACrB;IACA;AACF,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3975, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40vercel%2Boidc%403.0.3/node_modules/%40vercel/oidc/dist/index-browser.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar index_browser_exports = {};\n__export(index_browser_exports, {\n  getContext: () => import_get_context.getContext,\n  getVercelOidcToken: () => getVercelOidcToken,\n  getVercelOidcTokenSync: () => getVercelOidcTokenSync\n});\nmodule.exports = __toCommonJS(index_browser_exports);\nvar import_get_context = require(\"./get-context\");\nasync function getVercelOidcToken() {\n  return \"\";\n}\nfunction getVercelOidcTokenSync() {\n  return \"\";\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  getContext,\n  getVercelOidcToken,\n  getVercelOidcTokenSync\n});\n"],"names":[],"mappings":"AACA,IAAI,YAAY,OAAO,cAAc;AACrC,IAAI,mBAAmB,OAAO,wBAAwB;AACtD,IAAI,oBAAoB,OAAO,mBAAmB;AAClD,IAAI,eAAe,OAAO,SAAS,CAAC,cAAc;AAClD,IAAI,WAAW,CAAC,QAAQ;IACtB,IAAK,IAAI,QAAQ,IACf,UAAU,QAAQ,MAAM;QAAE,KAAK,GAAG,CAAC,KAAK;QAAE,YAAY;IAAK;AAC/D;AACA,IAAI,cAAc,CAAC,IAAI,MAAM,QAAQ;IACnC,IAAI,QAAQ,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;QAClE,KAAK,IAAI,OAAO,kBAAkB,MAChC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,QAAQ,QAAQ,QACzC,UAAU,IAAI,KAAK;YAAE,KAAK,IAAM,IAAI,CAAC,IAAI;YAAE,YAAY,CAAC,CAAC,OAAO,iBAAiB,MAAM,IAAI,KAAK,KAAK,UAAU;QAAC;IACtH;IACA,OAAO;AACT;AACA,IAAI,eAAe,CAAC,MAAQ,YAAY,UAAU,CAAC,GAAG,cAAc;QAAE,OAAO;IAAK,IAAI;AACtF,IAAI,wBAAwB,CAAC;AAC7B,SAAS,uBAAuB;IAC9B,YAAY,IAAM,mBAAmB,UAAU;IAC/C,oBAAoB,IAAM;IAC1B,wBAAwB,IAAM;AAChC;AACA,OAAO,OAAO,GAAG,aAAa;AAC9B,IAAI;AACJ,eAAe;IACb,OAAO;AACT;AACA,SAAS;IACP,OAAO;AACT;AACA,6DAA6D;AAC7D,KAAK,CAAC,OAAO,OAAO,GAAG;IACrB;IACA;IACA;AACF,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4021, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/gateway-provider.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/as-gateway-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/create-gateway-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-authentication-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-invalid-request-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-rate-limit-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-model-not-found-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-internal-server-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/gateway-response-error.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/extract-api-call-response.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/errors/parse-auth-method.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/gateway-fetch-metadata.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/gateway-language-model.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/gateway-embedding-model.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/vercel-environment.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.7_zod%404.1.12/node_modules/%40ai-sdk/gateway/src/version.ts"],"sourcesContent":["import { NoSuchModelError } from '@ai-sdk/provider';\nimport {\n  loadOptionalSetting,\n  withoutTrailingSlash,\n  type FetchFunction,\n} from '@ai-sdk/provider-utils';\nimport { asGatewayError, GatewayAuthenticationError } from './errors';\nimport {\n  GATEWAY_AUTH_METHOD_HEADER,\n  parseAuthMethod,\n} from './errors/parse-auth-method';\nimport {\n  GatewayFetchMetadata,\n  type GatewayFetchMetadataResponse,\n  type GatewayCreditsResponse,\n} from './gateway-fetch-metadata';\nimport { GatewayLanguageModel } from './gateway-language-model';\nimport { GatewayEmbeddingModel } from './gateway-embedding-model';\nimport type { GatewayEmbeddingModelId } from './gateway-embedding-model-settings';\nimport { getVercelOidcToken, getVercelRequestId } from './vercel-environment';\nimport type { GatewayModelId } from './gateway-language-model-settings';\nimport type {\n  LanguageModelV2,\n  EmbeddingModelV2,\n  ProviderV2,\n} from '@ai-sdk/provider';\nimport { withUserAgentSuffix } from '@ai-sdk/provider-utils';\nimport { VERSION } from './version';\n\nexport interface GatewayProvider extends ProviderV2 {\n  (modelId: GatewayModelId): LanguageModelV2;\n\n  /**\nCreates a model for text generation.\n*/\n  languageModel(modelId: GatewayModelId): LanguageModelV2;\n\n  /**\nReturns available providers and models for use with the remote provider.\n */\n  getAvailableModels(): Promise<GatewayFetchMetadataResponse>;\n\n  /**\nReturns credit information for the authenticated user.\n */\n  getCredits(): Promise<GatewayCreditsResponse>;\n\n  /**\nCreates a model for generating text embeddings.\n*/\n  textEmbeddingModel(\n    modelId: GatewayEmbeddingModelId,\n  ): EmbeddingModelV2<string>;\n}\n\nexport interface GatewayProviderSettings {\n  /**\nThe base URL prefix for API calls. Defaults to `https://ai-gateway.vercel.sh/v1/ai`.\n   */\n  baseURL?: string;\n\n  /**\nAPI key that is being sent using the `Authorization` header.\n   */\n  apiKey?: string;\n\n  /**\nCustom headers to include in the requests.\n     */\n  headers?: Record<string, string>;\n\n  /**\nCustom fetch implementation. You can use it as a middleware to intercept requests,\nor to provide a custom fetch implementation for e.g. testing.\n    */\n  fetch?: FetchFunction;\n\n  /**\nHow frequently to refresh the metadata cache in milliseconds.\n   */\n  metadataCacheRefreshMillis?: number;\n\n  /**\n   * @internal For testing purposes only\n   */\n  _internal?: {\n    currentDate?: () => Date;\n  };\n}\n\nconst AI_GATEWAY_PROTOCOL_VERSION = '0.0.1';\n\n/**\nCreate a remote provider instance.\n */\nexport function createGatewayProvider(\n  options: GatewayProviderSettings = {},\n): GatewayProvider {\n  let pendingMetadata: Promise<GatewayFetchMetadataResponse> | null = null;\n  let metadataCache: GatewayFetchMetadataResponse | null = null;\n  const cacheRefreshMillis =\n    options.metadataCacheRefreshMillis ?? 1000 * 60 * 5;\n  let lastFetchTime = 0;\n\n  const baseURL =\n    withoutTrailingSlash(options.baseURL) ??\n    'https://ai-gateway.vercel.sh/v1/ai';\n\n  const getHeaders = async () => {\n    const auth = await getGatewayAuthToken(options);\n    if (auth) {\n      return withUserAgentSuffix(\n        {\n          Authorization: `Bearer ${auth.token}`,\n          'ai-gateway-protocol-version': AI_GATEWAY_PROTOCOL_VERSION,\n          [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,\n          ...options.headers,\n        },\n        `ai-sdk/gateway/${VERSION}`,\n      );\n    }\n\n    throw GatewayAuthenticationError.createContextualError({\n      apiKeyProvided: false,\n      oidcTokenProvided: false,\n      statusCode: 401,\n    });\n  };\n\n  const createO11yHeaders = () => {\n    const deploymentId = loadOptionalSetting({\n      settingValue: undefined,\n      environmentVariableName: 'VERCEL_DEPLOYMENT_ID',\n    });\n    const environment = loadOptionalSetting({\n      settingValue: undefined,\n      environmentVariableName: 'VERCEL_ENV',\n    });\n    const region = loadOptionalSetting({\n      settingValue: undefined,\n      environmentVariableName: 'VERCEL_REGION',\n    });\n\n    return async () => {\n      const requestId = await getVercelRequestId();\n      return {\n        ...(deploymentId && { 'ai-o11y-deployment-id': deploymentId }),\n        ...(environment && { 'ai-o11y-environment': environment }),\n        ...(region && { 'ai-o11y-region': region }),\n        ...(requestId && { 'ai-o11y-request-id': requestId }),\n      };\n    };\n  };\n\n  const createLanguageModel = (modelId: GatewayModelId) => {\n    return new GatewayLanguageModel(modelId, {\n      provider: 'gateway',\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders(),\n    });\n  };\n\n  const getAvailableModels = async () => {\n    const now = options._internal?.currentDate?.().getTime() ?? Date.now();\n    if (!pendingMetadata || now - lastFetchTime > cacheRefreshMillis) {\n      lastFetchTime = now;\n\n      pendingMetadata = new GatewayFetchMetadata({\n        baseURL,\n        headers: getHeaders,\n        fetch: options.fetch,\n      })\n        .getAvailableModels()\n        .then(metadata => {\n          metadataCache = metadata;\n          return metadata;\n        })\n        .catch(async (error: unknown) => {\n          throw await asGatewayError(\n            error,\n            await parseAuthMethod(await getHeaders()),\n          );\n        });\n    }\n\n    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;\n  };\n\n  const getCredits = async () => {\n    return new GatewayFetchMetadata({\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n    })\n      .getCredits()\n      .catch(async (error: unknown) => {\n        throw await asGatewayError(\n          error,\n          await parseAuthMethod(await getHeaders()),\n        );\n      });\n  };\n\n  const provider = function (modelId: GatewayModelId) {\n    if (new.target) {\n      throw new Error(\n        'The Gateway Provider model function cannot be called with the new keyword.',\n      );\n    }\n\n    return createLanguageModel(modelId);\n  };\n\n  provider.getAvailableModels = getAvailableModels;\n  provider.getCredits = getCredits;\n  provider.imageModel = (modelId: string) => {\n    throw new NoSuchModelError({ modelId, modelType: 'imageModel' });\n  };\n  provider.languageModel = createLanguageModel;\n  provider.textEmbeddingModel = (modelId: GatewayEmbeddingModelId) => {\n    return new GatewayEmbeddingModel(modelId, {\n      provider: 'gateway',\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders(),\n    });\n  };\n\n  return provider;\n}\n\nexport const gateway = createGatewayProvider();\n\nexport async function getGatewayAuthToken(\n  options: GatewayProviderSettings,\n): Promise<{\n  token: string;\n  authMethod: 'api-key' | 'oidc';\n} | null> {\n  const apiKey = loadOptionalSetting({\n    settingValue: options.apiKey,\n    environmentVariableName: 'AI_GATEWAY_API_KEY',\n  });\n\n  if (apiKey) {\n    return {\n      token: apiKey,\n      authMethod: 'api-key',\n    };\n  }\n\n  try {\n    const oidcToken = await getVercelOidcToken();\n    return {\n      token: oidcToken,\n      authMethod: 'oidc',\n    };\n  } catch {\n    return null;\n  }\n}\n","import { APICallError } from '@ai-sdk/provider';\nimport { extractApiCallResponse, GatewayError } from '.';\nimport { createGatewayErrorFromResponse } from './create-gateway-error';\n\nexport function asGatewayError(\n  error: unknown,\n  authMethod?: 'api-key' | 'oidc',\n) {\n  if (GatewayError.isInstance(error)) {\n    return error;\n  }\n\n  if (APICallError.isInstance(error)) {\n    return createGatewayErrorFromResponse({\n      response: extractApiCallResponse(error),\n      statusCode: error.statusCode ?? 500,\n      defaultMessage: 'Gateway request failed',\n      cause: error,\n      authMethod,\n    });\n  }\n\n  return createGatewayErrorFromResponse({\n    response: {},\n    statusCode: 500,\n    defaultMessage:\n      error instanceof Error\n        ? `Gateway request failed: ${error.message}`\n        : 'Unknown Gateway error',\n    cause: error,\n    authMethod,\n  });\n}\n","import { z } from 'zod/v4';\nimport type { GatewayError } from './gateway-error';\nimport { GatewayAuthenticationError } from './gateway-authentication-error';\nimport { GatewayInvalidRequestError } from './gateway-invalid-request-error';\nimport { GatewayRateLimitError } from './gateway-rate-limit-error';\nimport {\n  GatewayModelNotFoundError,\n  modelNotFoundParamSchema,\n} from './gateway-model-not-found-error';\nimport { GatewayInternalServerError } from './gateway-internal-server-error';\nimport { GatewayResponseError } from './gateway-response-error';\nimport {\n  InferValidator,\n  lazyValidator,\n  safeValidateTypes,\n  validateTypes,\n  zodSchema,\n} from '@ai-sdk/provider-utils';\n\nexport async function createGatewayErrorFromResponse({\n  response,\n  statusCode,\n  defaultMessage = 'Gateway request failed',\n  cause,\n  authMethod,\n}: {\n  response: unknown;\n  statusCode: number;\n  defaultMessage?: string;\n  cause?: unknown;\n  authMethod?: 'api-key' | 'oidc';\n}): Promise<GatewayError> {\n  const parseResult = await safeValidateTypes({\n    value: response,\n    schema: gatewayErrorResponseSchema,\n  });\n\n  if (!parseResult.success) {\n    return new GatewayResponseError({\n      message: `Invalid error response format: ${defaultMessage}`,\n      statusCode,\n      response,\n      validationError: parseResult.error,\n      cause,\n    });\n  }\n\n  const validatedResponse: GatewayErrorResponse = parseResult.value;\n  const errorType = validatedResponse.error.type;\n  const message = validatedResponse.error.message;\n\n  switch (errorType) {\n    case 'authentication_error':\n      return GatewayAuthenticationError.createContextualError({\n        apiKeyProvided: authMethod === 'api-key',\n        oidcTokenProvided: authMethod === 'oidc',\n        statusCode,\n        cause,\n      });\n    case 'invalid_request_error':\n      return new GatewayInvalidRequestError({ message, statusCode, cause });\n    case 'rate_limit_exceeded':\n      return new GatewayRateLimitError({ message, statusCode, cause });\n    case 'model_not_found': {\n      const modelResult = await safeValidateTypes({\n        value: validatedResponse.error.param,\n        schema: modelNotFoundParamSchema,\n      });\n\n      return new GatewayModelNotFoundError({\n        message,\n        statusCode,\n        modelId: modelResult.success ? modelResult.value.modelId : undefined,\n        cause,\n      });\n    }\n    case 'internal_server_error':\n      return new GatewayInternalServerError({ message, statusCode, cause });\n    default:\n      return new GatewayInternalServerError({ message, statusCode, cause });\n  }\n}\n\nconst gatewayErrorResponseSchema = lazyValidator(() =>\n  zodSchema(\n    z.object({\n      error: z.object({\n        message: z.string(),\n        type: z.string().nullish(),\n        param: z.unknown().nullish(),\n        code: z.union([z.string(), z.number()]).nullish(),\n      }),\n    }),\n  ),\n);\n\nexport type GatewayErrorResponse = InferValidator<\n  typeof gatewayErrorResponseSchema\n>;\n","const marker = 'vercel.ai.gateway.error';\nconst symbol = Symbol.for(marker);\n\nexport abstract class GatewayError extends Error {\n  private readonly [symbol] = true; // used in isInstance\n\n  abstract readonly name: string;\n  abstract readonly type: string;\n  readonly statusCode: number;\n  readonly cause?: unknown;\n\n  constructor({\n    message,\n    statusCode = 500,\n    cause,\n  }: {\n    message: string;\n    statusCode?: number;\n    cause?: unknown;\n  }) {\n    super(message);\n    this.statusCode = statusCode;\n    this.cause = cause;\n  }\n\n  /**\n   * Checks if the given error is a Gateway Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is a Gateway Error, false otherwise.\n   */\n  static isInstance(error: unknown): error is GatewayError {\n    return GatewayError.hasMarker(error);\n  }\n\n  static hasMarker(error: unknown): error is GatewayError {\n    return (\n      typeof error === 'object' &&\n      error !== null &&\n      symbol in error &&\n      (error as any)[symbol] === true\n    );\n  }\n}\n","import { GatewayError } from './gateway-error';\n\nconst name = 'GatewayAuthenticationError';\nconst marker = `vercel.ai.gateway.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * Authentication failed - invalid API key or OIDC token\n */\nexport class GatewayAuthenticationError extends GatewayError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly name = name;\n  readonly type = 'authentication_error';\n\n  constructor({\n    message = 'Authentication failed',\n    statusCode = 401,\n    cause,\n  }: {\n    message?: string;\n    statusCode?: number;\n    cause?: unknown;\n  } = {}) {\n    super({ message, statusCode, cause });\n  }\n\n  static isInstance(error: unknown): error is GatewayAuthenticationError {\n    return GatewayError.hasMarker(error) && symbol in error;\n  }\n\n  /**\n   * Creates a contextual error message when authentication fails\n   */\n  static createContextualError({\n    apiKeyProvided,\n    oidcTokenProvided,\n    message = 'Authentication failed',\n    statusCode = 401,\n    cause,\n  }: {\n    apiKeyProvided: boolean;\n    oidcTokenProvided: boolean;\n    message?: string;\n    statusCode?: number;\n    cause?: unknown;\n  }): GatewayAuthenticationError {\n    let contextualMessage: string;\n\n    if (apiKeyProvided) {\n      contextualMessage = `AI Gateway authentication failed: Invalid API key.\n\nCreate a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\n\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;\n    } else if (oidcTokenProvided) {\n      contextualMessage = `AI Gateway authentication failed: Invalid OIDC token.\n\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.\n\nAlternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`;\n    } else {\n      contextualMessage = `AI Gateway authentication failed: No authentication provided.\n\nOption 1 - API key:\nCreate an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOption 2 - OIDC token:\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`;\n    }\n\n    return new GatewayAuthenticationError({\n      message: contextualMessage,\n      statusCode,\n      cause,\n    });\n  }\n}\n","import { GatewayError } from './gateway-error';\n\nconst name = 'GatewayInvalidRequestError';\nconst marker = `vercel.ai.gateway.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * Invalid request - missing headers, malformed data, etc.\n */\nexport class GatewayInvalidRequestError extends GatewayError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly name = name;\n  readonly type = 'invalid_request_error';\n\n  constructor({\n    message = 'Invalid request',\n    statusCode = 400,\n    cause,\n  }: {\n    message?: string;\n    statusCode?: number;\n    cause?: unknown;\n  } = {}) {\n    super({ message, statusCode, cause });\n  }\n\n  static isInstance(error: unknown): error is GatewayInvalidRequestError {\n    return GatewayError.hasMarker(error) && symbol in error;\n  }\n}\n","import { GatewayError } from './gateway-error';\n\nconst name = 'GatewayRateLimitError';\nconst marker = `vercel.ai.gateway.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * Rate limit exceeded.\n */\nexport class GatewayRateLimitError extends GatewayError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly name = name;\n  readonly type = 'rate_limit_exceeded';\n\n  constructor({\n    message = 'Rate limit exceeded',\n    statusCode = 429,\n    cause,\n  }: {\n    message?: string;\n    statusCode?: number;\n    cause?: unknown;\n  } = {}) {\n    super({ message, statusCode, cause });\n  }\n\n  static isInstance(error: unknown): error is GatewayRateLimitError {\n    return GatewayError.hasMarker(error) && symbol in error;\n  }\n}\n","import { z } from 'zod/v4';\nimport { GatewayError } from './gateway-error';\nimport { lazyValidator, zodSchema } from '@ai-sdk/provider-utils';\n\nconst name = 'GatewayModelNotFoundError';\nconst marker = `vercel.ai.gateway.error.${name}`;\nconst symbol = Symbol.for(marker);\n\nexport const modelNotFoundParamSchema = lazyValidator(() =>\n  zodSchema(\n    z.object({\n      modelId: z.string(),\n    }),\n  ),\n);\n\n/**\n * Model not found or not available\n */\nexport class GatewayModelNotFoundError extends GatewayError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly name = name;\n  readonly type = 'model_not_found';\n  readonly modelId?: string;\n\n  constructor({\n    message = 'Model not found',\n    statusCode = 404,\n    modelId,\n    cause,\n  }: {\n    message?: string;\n    statusCode?: number;\n    modelId?: string;\n    cause?: unknown;\n  } = {}) {\n    super({ message, statusCode, cause });\n    this.modelId = modelId;\n  }\n\n  static isInstance(error: unknown): error is GatewayModelNotFoundError {\n    return GatewayError.hasMarker(error) && symbol in error;\n  }\n}\n","import { GatewayError } from './gateway-error';\n\nconst name = 'GatewayInternalServerError';\nconst marker = `vercel.ai.gateway.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * Internal server error from the Gateway\n */\nexport class GatewayInternalServerError extends GatewayError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly name = name;\n  readonly type = 'internal_server_error';\n\n  constructor({\n    message = 'Internal server error',\n    statusCode = 500,\n    cause,\n  }: {\n    message?: string;\n    statusCode?: number;\n    cause?: unknown;\n  } = {}) {\n    super({ message, statusCode, cause });\n  }\n\n  static isInstance(error: unknown): error is GatewayInternalServerError {\n    return GatewayError.hasMarker(error) && symbol in error;\n  }\n}\n","import { TypeValidationError } from '@ai-sdk/provider';\nimport { GatewayError } from './gateway-error';\n\nconst name = 'GatewayResponseError';\nconst marker = `vercel.ai.gateway.error.${name}`;\nconst symbol = Symbol.for(marker);\n\n/**\n * Gateway response parsing error\n */\nexport class GatewayResponseError extends GatewayError {\n  private readonly [symbol] = true; // used in isInstance\n\n  readonly name = name;\n  readonly type = 'response_error';\n  readonly response?: unknown;\n  readonly validationError?: TypeValidationError;\n\n  constructor({\n    message = 'Invalid response from Gateway',\n    statusCode = 502,\n    response,\n    validationError,\n    cause,\n  }: {\n    message?: string;\n    statusCode?: number;\n    response?: unknown;\n    validationError?: TypeValidationError;\n    cause?: unknown;\n  } = {}) {\n    super({ message, statusCode, cause });\n    this.response = response;\n    this.validationError = validationError;\n  }\n\n  static isInstance(error: unknown): error is GatewayResponseError {\n    return GatewayError.hasMarker(error) && symbol in error;\n  }\n}\n","import type { APICallError } from '@ai-sdk/provider';\n\nexport function extractApiCallResponse(error: APICallError): unknown {\n  if (error.data !== undefined) {\n    return error.data;\n  }\n  if (error.responseBody != null) {\n    try {\n      return JSON.parse(error.responseBody);\n    } catch {\n      return error.responseBody;\n    }\n  }\n  return {};\n}\n","import { z } from 'zod/v4';\nimport {\n  lazyValidator,\n  safeValidateTypes,\n  zodSchema,\n} from '@ai-sdk/provider-utils';\n\nexport const GATEWAY_AUTH_METHOD_HEADER = 'ai-gateway-auth-method' as const;\n\nexport async function parseAuthMethod(\n  headers: Record<string, string | undefined>,\n) {\n  const result = await safeValidateTypes({\n    value: headers[GATEWAY_AUTH_METHOD_HEADER],\n    schema: gatewayAuthMethodSchema,\n  });\n\n  return result.success ? result.value : undefined;\n}\n\nconst gatewayAuthMethodSchema = lazyValidator(() =>\n  zodSchema(z.union([z.literal('api-key'), z.literal('oidc')])),\n);\n","import {\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  getFromApi,\n  lazyValidator,\n  resolve,\n  zodSchema,\n} from '@ai-sdk/provider-utils';\nimport { z } from 'zod/v4';\nimport { asGatewayError } from './errors';\nimport type { GatewayConfig } from './gateway-config';\nimport type { GatewayLanguageModelEntry } from './gateway-model-entry';\n\ntype GatewayFetchMetadataConfig = GatewayConfig;\n\nexport interface GatewayFetchMetadataResponse {\n  models: GatewayLanguageModelEntry[];\n}\n\nexport interface GatewayCreditsResponse {\n  /** The remaining gateway credit balance available for API usage */\n  balance: string;\n  /** The total amount of gateway credits that have been consumed */\n  totalUsed: string;\n}\n\nexport class GatewayFetchMetadata {\n  constructor(private readonly config: GatewayFetchMetadataConfig) {}\n\n  async getAvailableModels(): Promise<GatewayFetchMetadataResponse> {\n    try {\n      const { value } = await getFromApi({\n        url: `${this.config.baseURL}/config`,\n        headers: await resolve(this.config.headers()),\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayAvailableModelsResponseSchema,\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z.any(),\n          errorToMessage: data => data,\n        }),\n        fetch: this.config.fetch,\n      });\n\n      return value;\n    } catch (error) {\n      throw await asGatewayError(error);\n    }\n  }\n\n  async getCredits(): Promise<GatewayCreditsResponse> {\n    try {\n      const baseUrl = new URL(this.config.baseURL);\n\n      const { value } = await getFromApi({\n        url: `${baseUrl.origin}/v1/credits`,\n        headers: await resolve(this.config.headers()),\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayCreditsResponseSchema,\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z.any(),\n          errorToMessage: data => data,\n        }),\n        fetch: this.config.fetch,\n      });\n\n      return value;\n    } catch (error) {\n      throw await asGatewayError(error);\n    }\n  }\n}\n\nconst gatewayAvailableModelsResponseSchema = lazyValidator(() =>\n  zodSchema(\n    z.object({\n      models: z.array(\n        z.object({\n          id: z.string(),\n          name: z.string(),\n          description: z.string().nullish(),\n          pricing: z\n            .object({\n              input: z.string(),\n              output: z.string(),\n              input_cache_read: z.string().nullish(),\n              input_cache_write: z.string().nullish(),\n            })\n            .transform(\n              ({ input, output, input_cache_read, input_cache_write }) => ({\n                input,\n                output,\n                ...(input_cache_read\n                  ? { cachedInputTokens: input_cache_read }\n                  : {}),\n                ...(input_cache_write\n                  ? { cacheCreationInputTokens: input_cache_write }\n                  : {}),\n              }),\n            )\n            .nullish(),\n          specification: z.object({\n            specificationVersion: z.literal('v2'),\n            provider: z.string(),\n            modelId: z.string(),\n          }),\n          modelType: z.enum(['language', 'embedding', 'image']).nullish(),\n        }),\n      ),\n    }),\n  ),\n);\n\nconst gatewayCreditsResponseSchema = lazyValidator(() =>\n  zodSchema(\n    z\n      .object({\n        balance: z.string(),\n        total_used: z.string(),\n      })\n      .transform(({ balance, total_used }) => ({\n        balance,\n        totalUsed: total_used,\n      })),\n  ),\n);\n","import type {\n  LanguageModelV2,\n  LanguageModelV2CallOptions,\n  LanguageModelV2CallWarning,\n  LanguageModelV2FilePart,\n  LanguageModelV2StreamPart,\n} from '@ai-sdk/provider';\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  postJsonToApi,\n  resolve,\n  type ParseResult,\n  type Resolvable,\n} from '@ai-sdk/provider-utils';\nimport { z } from 'zod/v4';\nimport type { GatewayConfig } from './gateway-config';\nimport type { GatewayModelId } from './gateway-language-model-settings';\nimport { asGatewayError } from './errors';\nimport { parseAuthMethod } from './errors/parse-auth-method';\n\ntype GatewayChatConfig = GatewayConfig & {\n  provider: string;\n  o11yHeaders: Resolvable<Record<string, string>>;\n};\n\nexport class GatewayLanguageModel implements LanguageModelV2 {\n  readonly specificationVersion = 'v2';\n  readonly supportedUrls = { '*/*': [/.*/] };\n\n  constructor(\n    readonly modelId: GatewayModelId,\n    private readonly config: GatewayChatConfig,\n  ) {}\n\n  get provider(): string {\n    return this.config.provider;\n  }\n\n  private async getArgs(options: Parameters<LanguageModelV2['doGenerate']>[0]) {\n    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;\n\n    return {\n      args: this.maybeEncodeFileParts(optionsWithoutSignal),\n      warnings: [],\n    };\n  }\n\n  async doGenerate(\n    options: Parameters<LanguageModelV2['doGenerate']>[0],\n  ): Promise<Awaited<ReturnType<LanguageModelV2['doGenerate']>>> {\n    const { args, warnings } = await this.getArgs(options);\n    const { abortSignal } = options;\n\n    const resolvedHeaders = await resolve(this.config.headers());\n\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue: rawResponse,\n      } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          options.headers,\n          this.getModelConfigHeaders(this.modelId, false),\n          await resolve(this.config.o11yHeaders),\n        ),\n        body: args,\n        successfulResponseHandler: createJsonResponseHandler(z.any()),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z.any(),\n          errorToMessage: data => data,\n        }),\n        ...(abortSignal && { abortSignal }),\n        fetch: this.config.fetch,\n      });\n\n      return {\n        ...responseBody,\n        request: { body: args },\n        response: { headers: responseHeaders, body: rawResponse },\n        warnings,\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n\n  async doStream(\n    options: Parameters<LanguageModelV2['doStream']>[0],\n  ): Promise<Awaited<ReturnType<LanguageModelV2['doStream']>>> {\n    const { args, warnings } = await this.getArgs(options);\n    const { abortSignal } = options;\n\n    const resolvedHeaders = await resolve(this.config.headers());\n\n    try {\n      const { value: response, responseHeaders } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          options.headers,\n          this.getModelConfigHeaders(this.modelId, true),\n          await resolve(this.config.o11yHeaders),\n        ),\n        body: args,\n        successfulResponseHandler: createEventSourceResponseHandler(z.any()),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z.any(),\n          errorToMessage: data => data,\n        }),\n        ...(abortSignal && { abortSignal }),\n        fetch: this.config.fetch,\n      });\n\n      return {\n        stream: response.pipeThrough(\n          new TransformStream<\n            ParseResult<LanguageModelV2StreamPart>,\n            LanguageModelV2StreamPart\n          >({\n            start(controller) {\n              if (warnings.length > 0) {\n                controller.enqueue({ type: 'stream-start', warnings });\n              }\n            },\n            transform(chunk, controller) {\n              if (chunk.success) {\n                const streamPart = chunk.value;\n\n                // Handle raw chunks: if this is a raw chunk from the gateway API,\n                // only emit it if includeRawChunks is true\n                if (streamPart.type === 'raw' && !options.includeRawChunks) {\n                  return; // Skip raw chunks if not requested\n                }\n\n                if (\n                  streamPart.type === 'response-metadata' &&\n                  streamPart.timestamp &&\n                  typeof streamPart.timestamp === 'string'\n                ) {\n                  streamPart.timestamp = new Date(streamPart.timestamp);\n                }\n\n                controller.enqueue(streamPart);\n              } else {\n                controller.error(\n                  (chunk as { success: false; error: unknown }).error,\n                );\n              }\n            },\n          }),\n        ),\n        request: { body: args },\n        response: { headers: responseHeaders },\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n\n  private isFilePart(part: unknown) {\n    return (\n      part && typeof part === 'object' && 'type' in part && part.type === 'file'\n    );\n  }\n\n  /**\n   * Encodes file parts in the prompt to base64. Mutates the passed options\n   * instance directly to avoid copying the file data.\n   * @param options - The options to encode.\n   * @returns The options with the file parts encoded.\n   */\n  private maybeEncodeFileParts(options: LanguageModelV2CallOptions) {\n    for (const message of options.prompt) {\n      for (const part of message.content) {\n        if (this.isFilePart(part)) {\n          const filePart = part as LanguageModelV2FilePart;\n          // If the file part is a URL it will get cleanly converted to a string.\n          // If it's a binary file attachment we convert it to a data url.\n          // In either case, server-side we should only ever see URLs as strings.\n          if (filePart.data instanceof Uint8Array) {\n            const buffer = Uint8Array.from(filePart.data);\n            const base64Data = Buffer.from(buffer).toString('base64');\n            filePart.data = new URL(\n              `data:${filePart.mediaType || 'application/octet-stream'};base64,${base64Data}`,\n            );\n          }\n        }\n      }\n    }\n    return options;\n  }\n\n  private getUrl() {\n    return `${this.config.baseURL}/language-model`;\n  }\n\n  private getModelConfigHeaders(modelId: string, streaming: boolean) {\n    return {\n      'ai-language-model-specification-version': '2',\n      'ai-language-model-id': modelId,\n      'ai-language-model-streaming': String(streaming),\n    };\n  }\n}\n","import type {\n  EmbeddingModelV2,\n  SharedV2ProviderMetadata,\n} from '@ai-sdk/provider';\nimport {\n  combineHeaders,\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  lazyValidator,\n  postJsonToApi,\n  resolve,\n  zodSchema,\n  type Resolvable,\n} from '@ai-sdk/provider-utils';\nimport { z } from 'zod/v4';\nimport { asGatewayError } from './errors';\nimport { parseAuthMethod } from './errors/parse-auth-method';\nimport type { GatewayConfig } from './gateway-config';\n\nexport class GatewayEmbeddingModel implements EmbeddingModelV2<string> {\n  readonly specificationVersion = 'v2';\n  readonly maxEmbeddingsPerCall = 2048;\n  readonly supportsParallelCalls = true;\n\n  constructor(\n    readonly modelId: string,\n    private readonly config: GatewayConfig & {\n      provider: string;\n      o11yHeaders: Resolvable<Record<string, string>>;\n    },\n  ) {}\n\n  get provider(): string {\n    return this.config.provider;\n  }\n\n  async doEmbed({\n    values,\n    headers,\n    abortSignal,\n    providerOptions,\n  }: Parameters<EmbeddingModelV2<string>['doEmbed']>[0]): Promise<\n    Awaited<ReturnType<EmbeddingModelV2<string>['doEmbed']>>\n  > {\n    const resolvedHeaders = await resolve(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue,\n      } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          headers ?? {},\n          this.getModelConfigHeaders(),\n          await resolve(this.config.o11yHeaders),\n        ),\n        body: {\n          input: values.length === 1 ? values[0] : values,\n          ...(providerOptions ? { providerOptions } : {}),\n        },\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayEmbeddingResponseSchema,\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z.any(),\n          errorToMessage: data => data,\n        }),\n        ...(abortSignal && { abortSignal }),\n        fetch: this.config.fetch,\n      });\n\n      return {\n        embeddings: responseBody.embeddings,\n        usage: responseBody.usage ?? undefined,\n        providerMetadata:\n          responseBody.providerMetadata as unknown as SharedV2ProviderMetadata,\n        response: { headers: responseHeaders, body: rawValue },\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n\n  private getUrl() {\n    return `${this.config.baseURL}/embedding-model`;\n  }\n\n  private getModelConfigHeaders() {\n    return {\n      'ai-embedding-model-specification-version': '2',\n      'ai-model-id': this.modelId,\n    };\n  }\n}\n\nconst gatewayEmbeddingResponseSchema = lazyValidator(() =>\n  zodSchema(\n    z.object({\n      embeddings: z.array(z.array(z.number())),\n      usage: z.object({ tokens: z.number() }).nullish(),\n      providerMetadata: z\n        .record(z.string(), z.record(z.string(), z.unknown()))\n        .optional(),\n    }),\n  ),\n);\n","import { getContext } from '@vercel/oidc';\nexport { getVercelOidcToken } from '@vercel/oidc';\n\nexport async function getVercelRequestId(): Promise<string | undefined> {\n  return getContext().headers?.['x-vercel-id'];\n}\n","// Version string of this package injected at build time.\ndeclare const __PACKAGE_VERSION__: string | undefined;\nexport const VERSION: string =\n  typeof __PACKAGE_VERSION__ !== 'undefined'\n    ? __PACKAGE_VERSION__\n    : '0.0.0-test';\n"],"names":["z","marker","symbol","_a","_b","name","marker","symbol","_a","_b","name","marker","symbol","_a","_b","name","marker","symbol","_a","_b","name","marker","symbol","_a","_b","name","marker","symbol","_a","_b","lazyValidator","zodSchema","z","_a","z","lazyValidator","safeValidateTypes","zodSchema","lazyValidator","zodSchema","z","z","lazyValidator","zodSchema","createJsonErrorResponseHandler","createJsonResponseHandler","resolve","z","resolve","createJsonResponseHandler","z","createJsonErrorResponseHandler","combineHeaders","createJsonErrorResponseHandler","createJsonResponseHandler","lazyValidator","postJsonToApi","resolve","zodSchema","z","_a","resolve","postJsonToApi","combineHeaders","createJsonResponseHandler","createJsonErrorResponseHandler","z","lazyValidator","zodSchema","_a","_a","_b"],"mappings":"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","debugId":null}},
    {"offset": {"line": 4813, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/platform/browser/globalThis.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Updates to this file should also be replicated to @opentelemetry/core too.\n\n/**\n * - globalThis (New standard)\n * - self (Will return the current window instance for supported browsers)\n * - window (fallback for older browser implementations)\n * - global (NodeJS implementation)\n * - <object> (When all else fails)\n */\n\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins, no-undef\nexport const _globalThis: typeof globalThis =\n  typeof globalThis === 'object'\n    ? globalThis\n    : typeof self === 'object'\n    ? self\n    : typeof window === 'object'\n    ? window\n    : typeof global === 'object'\n    ? global\n    : ({} as typeof globalThis);\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG,CAEH,6EAA6E;AAE7E;;;;;;GAMG,CAEH,8DAAA,EAAgE,CAChE,8EAA8E;;;;;AACvE,IAAM,WAAW,GACtB,OAAO,UAAU,KAAK,QAAQ,GAC1B,UAAU,GACV,OAAO,IAAI,KAAK,QAAQ,GACxB,IAAI,GACJ,OAAO,MAAM,KAAK,QAAQ,GAC1B,MAAM,GACN,OAAO,MAAM,KAAK,QAAQ,wEAEzB,EAAwB,CAAC","debugId":null}},
    {"offset": {"line": 4844, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/version.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/version.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const VERSION = '1.9.0';\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG,CAEH,4DAA4D;;;;;AACrD,IAAM,OAAO,GAAG,OAAO,CAAC","debugId":null}},
    {"offset": {"line": 4868, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/internal/semver.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/internal/semver.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { VERSION } from '../version';\n\nconst re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(\n  ownVersion: string\n): (globalVersion: string) => boolean {\n  const acceptedVersions = new Set<string>([ownVersion]);\n  const rejectedVersions = new Set<string>();\n\n  const myVersionMatch = ownVersion.match(re);\n  if (!myVersionMatch) {\n    // we cannot guarantee compatibility so we always return noop\n    return () => false;\n  }\n\n  const ownVersionParsed = {\n    major: +myVersionMatch[1],\n    minor: +myVersionMatch[2],\n    patch: +myVersionMatch[3],\n    prerelease: myVersionMatch[4],\n  };\n\n  // if ownVersion has a prerelease tag, versions must match exactly\n  if (ownVersionParsed.prerelease != null) {\n    return function isExactmatch(globalVersion: string): boolean {\n      return globalVersion === ownVersion;\n    };\n  }\n\n  function _reject(v: string) {\n    rejectedVersions.add(v);\n    return false;\n  }\n\n  function _accept(v: string) {\n    acceptedVersions.add(v);\n    return true;\n  }\n\n  return function isCompatible(globalVersion: string): boolean {\n    if (acceptedVersions.has(globalVersion)) {\n      return true;\n    }\n\n    if (rejectedVersions.has(globalVersion)) {\n      return false;\n    }\n\n    const globalVersionMatch = globalVersion.match(re);\n    if (!globalVersionMatch) {\n      // cannot parse other version\n      // we cannot guarantee compatibility so we always noop\n      return _reject(globalVersion);\n    }\n\n    const globalVersionParsed = {\n      major: +globalVersionMatch[1],\n      minor: +globalVersionMatch[2],\n      patch: +globalVersionMatch[3],\n      prerelease: globalVersionMatch[4],\n    };\n\n    // if globalVersion has a prerelease tag, versions must match exactly\n    if (globalVersionParsed.prerelease != null) {\n      return _reject(globalVersion);\n    }\n\n    // major versions must match\n    if (ownVersionParsed.major !== globalVersionParsed.major) {\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.major === 0) {\n      if (\n        ownVersionParsed.minor === globalVersionParsed.minor &&\n        ownVersionParsed.patch <= globalVersionParsed.patch\n      ) {\n        return _accept(globalVersion);\n      }\n\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n      return _accept(globalVersion);\n    }\n\n    return _reject(globalVersion);\n  };\n}\n\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport const isCompatible = _makeCompatibilityCheck(VERSION);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4967, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/internal/global-utils.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/internal/global-utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MeterProvider } from '../metrics/MeterProvider';\nimport { ContextManager } from '../context/types';\nimport { DiagLogger } from '../diag/types';\nimport { _globalThis } from '../platform';\nimport { TextMapPropagator } from '../propagation/TextMapPropagator';\nimport type { TracerProvider } from '../trace/tracer_provider';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\n\nconst major = VERSION.split('.')[0];\nconst GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\n  `opentelemetry.js.api.${major}`\n);\n\nconst _global = _globalThis as OTelGlobal;\n\nexport function registerGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type,\n  instance: OTelGlobalAPI[Type],\n  diag: DiagLogger,\n  allowOverride = false\n): boolean {\n  const api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = _global[\n    GLOBAL_OPENTELEMETRY_API_KEY\n  ] ?? {\n    version: VERSION,\n  });\n\n  if (!allowOverride && api[type]) {\n    // already registered an API of this type\n    const err = new Error(\n      `@opentelemetry/api: Attempted duplicate registration of API: ${type}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  if (api.version !== VERSION) {\n    // All registered APIs must be of the same version exactly\n    const err = new Error(\n      `@opentelemetry/api: Registration of version v${api.version} for ${type} does not match previously registered API v${VERSION}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  api[type] = instance;\n  diag.debug(\n    `@opentelemetry/api: Registered a global for ${type} v${VERSION}.`\n  );\n\n  return true;\n}\n\nexport function getGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type\n): OTelGlobalAPI[Type] | undefined {\n  const globalVersion = _global[GLOBAL_OPENTELEMETRY_API_KEY]?.version;\n  if (!globalVersion || !isCompatible(globalVersion)) {\n    return;\n  }\n  return _global[GLOBAL_OPENTELEMETRY_API_KEY]?.[type];\n}\n\nexport function unregisterGlobal(type: keyof OTelGlobalAPI, diag: DiagLogger) {\n  diag.debug(\n    `@opentelemetry/api: Unregistering a global for ${type} v${VERSION}.`\n  );\n  const api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n\n  if (api) {\n    delete api[type];\n  }\n}\n\ntype OTelGlobal = {\n  [GLOBAL_OPENTELEMETRY_API_KEY]?: OTelGlobalAPI;\n};\n\ntype OTelGlobalAPI = {\n  version: string;\n\n  diag?: DiagLogger;\n  trace?: TracerProvider;\n  context?: ContextManager;\n  metrics?: MeterProvider;\n  propagation?: TextMapPropagator;\n};\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;AAKH,OAAO,EAAE,WAAW,EAAE,MAAM,aAAa,CAAC;AAG1C,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AACrC,OAAO,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;;;;AAExC,IAAM,KAAK,GAAG,kPAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACpC,IAAM,4BAA4B,GAAG,MAAM,CAAC,GAAG,CAC7C,0BAAwB,KAAO,CAChC,CAAC;AAEF,IAAM,OAAO,GAAG,gRAAyB,CAAC;AAEpC,SAAU,cAAc,CAC5B,IAAU,EACV,QAA6B,EAC7B,IAAgB,EAChB,aAAqB;;IAArB,IAAA,kBAAA,KAAA,GAAA;QAAA,gBAAA,KAAqB;IAAA;IAErB,IAAM,GAAG,GAAG,AAAC,OAAO,CAAC,4BAA4B,CAAC,GAAG,CAAA,KAAA,OAAO,CAC1D,4BAA4B,CAC7B,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI;QACH,OAAO,EAAE,kPAAO;KACjB,CAAC,CAAC;IAEH,IAAI,CAAC,aAAa,IAAI,GAAG,CAAC,IAAI,CAAC,EAAE;QAC/B,yCAAyC;QACzC,IAAM,GAAG,GAAG,IAAI,KAAK,CACnB,kEAAgE,IAAM,CACvE,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QACrC,OAAO,KAAK,CAAC;KACd;IAED,IAAI,GAAG,CAAC,OAAO,KAAK,kPAAO,EAAE;QAC3B,0DAA0D;QAC1D,IAAM,GAAG,GAAG,IAAI,KAAK,CACnB,kDAAgD,GAAG,CAAC,OAAO,GAAA,UAAQ,IAAI,GAAA,gDAA8C,kPAAS,CAC/H,CAAC;QACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QACrC,OAAO,KAAK,CAAC;KACd;IAED,GAAG,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;IACrB,IAAI,CAAC,KAAK,CACR,iDAA+C,IAAI,GAAA,OAAK,kPAAO,GAAA,GAAG,CACnE,CAAC;IAEF,OAAO,IAAI,CAAC;AACd,CAAC;AAEK,SAAU,SAAS,CACvB,IAAU;;IAEV,IAAM,aAAa,GAAG,CAAA,KAAA,OAAO,CAAC,4BAA4B,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,OAAO,CAAC;IACrE,IAAI,CAAC,aAAa,IAAI,KAAC,kQAAY,EAAC,aAAa,CAAC,EAAE;QAClD,OAAO;KACR;IACD,OAAO,CAAA,KAAA,OAAO,CAAC,4BAA4B,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,EAAA,CAAG,IAAI,CAAC,CAAC;AACvD,CAAC;AAEK,SAAU,gBAAgB,CAAC,IAAyB,EAAE,IAAgB;IAC1E,IAAI,CAAC,KAAK,CACR,oDAAkD,IAAI,GAAA,OAAK,kPAAO,GAAA,GAAG,CACtE,CAAC;IACF,IAAM,GAAG,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAC;IAElD,IAAI,GAAG,EAAE;QACP,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;KAClB;AACH,CAAC","debugId":null}},
    {"offset": {"line": 5041, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/context/context.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/context/context.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from './types';\n\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description: string) {\n  // The specification states that for the same input, multiple calls should\n  // return different keys. Due to the nature of the JS dependency management\n  // system, this creates problems where multiple versions of some package\n  // could hold different keys for the same property.\n  //\n  // Therefore, we use Symbol.for which returns the same key for the same input.\n  return Symbol.for(description);\n}\n\nclass BaseContext implements Context {\n  private _currentContext!: Map<symbol, unknown>;\n\n  /**\n   * Construct a new context which inherits values from an optional parent context.\n   *\n   * @param parentContext a context from which to inherit values\n   */\n  constructor(parentContext?: Map<symbol, unknown>) {\n    // for minification\n    const self = this;\n\n    self._currentContext = parentContext ? new Map(parentContext) : new Map();\n\n    self.getValue = (key: symbol) => self._currentContext.get(key);\n\n    self.setValue = (key: symbol, value: unknown): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.set(key, value);\n      return context;\n    };\n\n    self.deleteValue = (key: symbol): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.delete(key);\n      return context;\n    };\n  }\n\n  /**\n   * Get a value from the context.\n   *\n   * @param key key which identifies a context value\n   */\n  public getValue!: (key: symbol) => unknown;\n\n  /**\n   * Create a new context which inherits from this context and has\n   * the given key set to the given value.\n   *\n   * @param key context key for which to set the value\n   * @param value value to set for the given key\n   */\n  public setValue!: (key: symbol, value: unknown) => Context;\n\n  /**\n   * Return a new context which inherits from this context but does\n   * not contain a value for the given key.\n   *\n   * @param key context key for which to clear a value\n   */\n  public deleteValue!: (key: symbol) => Context;\n}\n\n/** The root context is used as the default parent context when there is no active context */\nexport const ROOT_CONTEXT: Context = new BaseContext();\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG,CAIH,mDAAA,EAAqD;;;;;;AAC/C,SAAU,gBAAgB,CAAC,WAAmB;IAClD,0EAA0E;IAC1E,2EAA2E;IAC3E,wEAAwE;IACxE,mDAAmD;IACnD,EAAE;IACF,8EAA8E;IAC9E,OAAO,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACjC,CAAC;AAED,IAAA,cAAA;IAGE;;;;OAIG,CACH,SAAA,YAAY,aAAoC;QAC9C,mBAAmB;QACnB,IAAM,IAAI,GAAG,IAAI,CAAC;QAElB,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC;QAE1E,IAAI,CAAC,QAAQ,GAAG,SAAC,GAAW;YAAK,OAAA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,CAAC;QAA7B,CAA6B,CAAC;QAE/D,IAAI,CAAC,QAAQ,GAAG,SAAC,GAAW,EAAE,KAAc;YAC1C,IAAM,OAAO,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACtD,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACxC,OAAO,OAAO,CAAC;QACjB,CAAC,CAAC;QAEF,IAAI,CAAC,WAAW,GAAG,SAAC,GAAW;YAC7B,IAAM,OAAO,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACtD,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACpC,OAAO,OAAO,CAAC;QACjB,CAAC,CAAC;IACJ,CAAC;IAyBH,OAAA,WAAC;AAAD,CAAC,AApDD,IAoDC;AAGM,IAAM,YAAY,GAAY,IAAI,WAAW,EAAE,CAAC","debugId":null}},
    {"offset": {"line": 5100, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/context/NoopContextManager.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ROOT_CONTEXT } from './context';\nimport * as types from './types';\n\nexport class NoopContextManager implements types.ContextManager {\n  active(): types.Context {\n    return ROOT_CONTEXT;\n  }\n\n  with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    _context: types.Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return fn.call(thisArg, ...args);\n  }\n\n  bind<T>(_context: types.Context, target: T): T {\n    return target;\n  }\n\n  enable(): this {\n    return this;\n  }\n\n  disable(): this {\n    return this;\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGzC,IAAA,qBAAA;IAAA,SAAA,sBAyBA,CAAC;IAxBC,mBAAA,SAAA,CAAA,MAAM,GAAN;QACE,OAAO,kQAAY,CAAC;IACtB,CAAC;IAED,mBAAA,SAAA,CAAA,IAAI,GAAJ,SACE,QAAuB,EACvB,EAAK,EACL,OAA8B;QAC9B,IAAA,OAAA,EAAA,CAAU;YAAV,IAAA,KAAA,CAAU,EAAV,KAAA,UAAA,MAAU,EAAV,IAAU,CAAA;YAAV,IAAA,CAAA,KAAA,EAAA,GAAA,SAAA,CAAA,GAAA,CAAU;;QAEV,OAAO,EAAE,CAAC,IAAI,CAAA,KAAA,CAAP,EAAE,EAAA,cAAA;YAAM,OAAO;SAAA,EAAA,OAAK,IAAI,GAAA,QAAE;IACnC,CAAC;IAED,mBAAA,SAAA,CAAA,IAAI,GAAJ,SAAQ,QAAuB,EAAE,MAAS;QACxC,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,mBAAA,SAAA,CAAA,MAAM,GAAN;QACE,OAAO,IAAI,CAAC;IACd,CAAC;IAED,mBAAA,SAAA,CAAA,OAAO,GAAP;QACE,OAAO,IAAI,CAAC;IACd,CAAC;IACH,OAAA,kBAAC;AAAD,CAAC,AAzBD,IAyBC","debugId":null}},
    {"offset": {"line": 5179, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/diag/ComponentLogger.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getGlobal } from '../internal/global-utils';\nimport { ComponentLoggerOptions, DiagLogger, DiagLogFunction } from './types';\n\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nexport class DiagComponentLogger implements DiagLogger {\n  private _namespace: string;\n\n  constructor(props: ComponentLoggerOptions) {\n    this._namespace = props.namespace || 'DiagComponentLogger';\n  }\n\n  public debug(...args: any[]): void {\n    return logProxy('debug', this._namespace, args);\n  }\n\n  public error(...args: any[]): void {\n    return logProxy('error', this._namespace, args);\n  }\n\n  public info(...args: any[]): void {\n    return logProxy('info', this._namespace, args);\n  }\n\n  public warn(...args: any[]): void {\n    return logProxy('warn', this._namespace, args);\n  }\n\n  public verbose(...args: any[]): void {\n    return logProxy('verbose', this._namespace, args);\n  }\n}\n\nfunction logProxy(\n  funcName: keyof DiagLogger,\n  namespace: string,\n  args: any\n): void {\n  const logger = getGlobal('diag');\n  // shortcut if logger not set\n  if (!logger) {\n    return;\n  }\n\n  args.unshift(namespace);\n  return logger[funcName](...(args as Parameters<DiagLogFunction>));\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EAAE,SAAS,EAAE,MAAM,0BAA0B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGrD;;;;;;;;GAQG,CACH,IAAA,sBAAA;IAGE,SAAA,oBAAY,KAA6B;QACvC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,IAAI,qBAAqB,CAAC;IAC7D,CAAC;IAEM,oBAAA,SAAA,CAAA,KAAK,GAAZ;QAAa,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QACzB,OAAO,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAEM,oBAAA,SAAA,CAAA,KAAK,GAAZ;QAAa,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QACzB,OAAO,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAClD,CAAC;IAEM,oBAAA,SAAA,CAAA,IAAI,GAAX;QAAY,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QACxB,OAAO,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;IAEM,oBAAA,SAAA,CAAA,IAAI,GAAX;QAAY,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QACxB,OAAO,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;IAEM,oBAAA,SAAA,CAAA,OAAO,GAAd;QAAe,IAAA,OAAA,EAAA,CAAc;YAAd,IAAA,KAAA,CAAc,EAAd,KAAA,UAAA,MAAc,EAAd,IAAc,CAAA;YAAd,IAAA,CAAA,GAAA,GAAA,SAAA,CAAA,GAAA,CAAc;;QAC3B,OAAO,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACpD,CAAC;IACH,OAAA,mBAAC;AAAD,CAAC,AA1BD,IA0BC;;AAED,SAAS,QAAQ,CACf,QAA0B,EAC1B,SAAiB,EACjB,IAAS;IAET,IAAM,MAAM,OAAG,wQAAS,EAAC,MAAM,CAAC,CAAC;IACjC,6BAA6B;IAC7B,IAAI,CAAC,MAAM,EAAE;QACX,OAAO;KACR;IAED,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACxB,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAA,KAAA,CAAhB,MAAM,EAAA,cAAA,EAAA,EAAA,OAAe,IAAoC,GAAA,QAAE;AACpE,CAAC","debugId":null}},
    {"offset": {"line": 5290, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/diag/types.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/diag/types.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type DiagLogFunction = (message: string, ...args: unknown[]) => void;\n\n/**\n * Defines an internal diagnostic logger interface which is used to log internal diagnostic\n * messages, you can set the default diagnostic logger via the {@link DiagAPI} setLogger function.\n * API provided implementations include :-\n * - a No-Op {@link createNoopDiagLogger}\n * - a {@link DiagLogLevel} filtering wrapper {@link createLogLevelDiagLogger}\n * - a general Console {@link DiagConsoleLogger} version.\n */\nexport interface DiagLogger {\n  /** Log an error scenario that was not expected and caused the requested operation to fail. */\n  error: DiagLogFunction;\n\n  /**\n   * Log a warning scenario to inform the developer of an issues that should be investigated.\n   * The requested operation may or may not have succeeded or completed.\n   */\n  warn: DiagLogFunction;\n\n  /**\n   * Log a general informational message, this should not affect functionality.\n   * This is also the default logging level so this should NOT be used for logging\n   * debugging level information.\n   */\n  info: DiagLogFunction;\n\n  /**\n   * Log a general debug message that can be useful for identifying a failure.\n   * Information logged at this level may include diagnostic details that would\n   * help identify a failure scenario.\n   * For example: Logging the order of execution of async operations.\n   */\n  debug: DiagLogFunction;\n\n  /**\n   * Log a detailed (verbose) trace level logging that can be used to identify failures\n   * where debug level logging would be insufficient, this level of tracing can include\n   * input and output parameters and as such may include PII information passing through\n   * the API. As such it is recommended that this level of tracing should not be enabled\n   * in a production environment.\n   */\n  verbose: DiagLogFunction;\n}\n\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport enum DiagLogLevel {\n  /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n  NONE = 0,\n\n  /** Identifies an error scenario */\n  ERROR = 30,\n\n  /** Identifies a warning scenario */\n  WARN = 50,\n\n  /** General informational log message */\n  INFO = 60,\n\n  /** General debug log message */\n  DEBUG = 70,\n\n  /**\n   * Detailed trace level logging should only be used for development, should only be set\n   * in a development environment.\n   */\n  VERBOSE = 80,\n\n  /** Used to set the logging level to include all logging */\n  ALL = 9999,\n}\n\n/**\n * Defines options for ComponentLogger\n */\nexport interface ComponentLoggerOptions {\n  namespace: string;\n}\n\nexport interface DiagLoggerOptions {\n  /**\n   * The {@link DiagLogLevel} used to filter logs sent to the logger.\n   *\n   * @defaultValue DiagLogLevel.INFO\n   */\n  logLevel?: DiagLogLevel;\n\n  /**\n   * Setting this value to `true` will suppress the warning message normally emitted when registering a logger when another logger is already registered.\n   */\n  suppressOverrideMessage?: boolean;\n}\n\nexport interface DiagLoggerApi {\n  /**\n   * Set the global DiagLogger and DiagLogLevel.\n   * If a global diag logger is already set, this will override it.\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param options - A {@link DiagLoggerOptions} object. If not provided, default values will be set.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, options?: DiagLoggerOptions): boolean;\n\n  /**\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param logLevel - The {@link DiagLogLevel} used to filter logs sent to the logger. If not provided it will default to {@link DiagLogLevel.INFO}.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, logLevel?: DiagLogLevel): boolean;\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG,CA+CH;;;;GAIG;;;;AACH,IAAY,YAwBX;AAxBD,CAAA,SAAY,YAAY;IACtB,qFAAA,EAAuF,CACvF,YAAA,CAAA,YAAA,CAAA,OAAA,GAAA,EAAA,GAAA,MAAQ,CAAA;IAER,iCAAA,EAAmC,CACnC,YAAA,CAAA,YAAA,CAAA,QAAA,GAAA,GAAA,GAAA,OAAU,CAAA;IAEV,kCAAA,EAAoC,CACpC,YAAA,CAAA,YAAA,CAAA,OAAA,GAAA,GAAA,GAAA,MAAS,CAAA;IAET,sCAAA,EAAwC,CACxC,YAAA,CAAA,YAAA,CAAA,OAAA,GAAA,GAAA,GAAA,MAAS,CAAA;IAET,8BAAA,EAAgC,CAChC,YAAA,CAAA,YAAA,CAAA,QAAA,GAAA,GAAA,GAAA,OAAU,CAAA;IAEV;;;OAGG,CACH,YAAA,CAAA,YAAA,CAAA,UAAA,GAAA,GAAA,GAAA,SAAY,CAAA;IAEZ,yDAAA,EAA2D,CAC3D,YAAA,CAAA,YAAA,CAAA,MAAA,GAAA,KAAA,GAAA,KAAU,CAAA;AACZ,CAAC,EAxBW,YAAY,IAAA,CAAZ,YAAY,GAAA,CAAA,CAAA,GAwBvB","debugId":null}},
    {"offset": {"line": 5329, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/diag/internal/logLevelLogger.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogFunction, DiagLogger, DiagLogLevel } from '../types';\n\nexport function createLogLevelDiagLogger(\n  maxLevel: DiagLogLevel,\n  logger: DiagLogger\n): DiagLogger {\n  if (maxLevel < DiagLogLevel.NONE) {\n    maxLevel = DiagLogLevel.NONE;\n  } else if (maxLevel > DiagLogLevel.ALL) {\n    maxLevel = DiagLogLevel.ALL;\n  }\n\n  // In case the logger is null or undefined\n  logger = logger || {};\n\n  function _filterFunc(\n    funcName: keyof DiagLogger,\n    theLevel: DiagLogLevel\n  ): DiagLogFunction {\n    const theFunc = logger[funcName];\n\n    if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n      return theFunc.bind(logger);\n    }\n    return function () {};\n  }\n\n  return {\n    error: _filterFunc('error', DiagLogLevel.ERROR),\n    warn: _filterFunc('warn', DiagLogLevel.WARN),\n    info: _filterFunc('info', DiagLogLevel.INFO),\n    debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n    verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n  };\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EAA+B,YAAY,EAAE,MAAM,UAAU,CAAC;;AAE/D,SAAU,wBAAwB,CACtC,QAAsB,EACtB,MAAkB;IAElB,IAAI,QAAQ,GAAG,6PAAY,CAAC,IAAI,EAAE;QAChC,QAAQ,GAAG,6PAAY,CAAC,IAAI,CAAC;KAC9B,MAAM,IAAI,QAAQ,GAAG,6PAAY,CAAC,GAAG,EAAE;QACtC,QAAQ,GAAG,6PAAY,CAAC,GAAG,CAAC;KAC7B;IAED,0CAA0C;IAC1C,MAAM,GAAG,MAAM,IAAI,CAAA,CAAE,CAAC;IAEtB,SAAS,WAAW,CAClB,QAA0B,EAC1B,QAAsB;QAEtB,IAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QAEjC,IAAI,OAAO,OAAO,KAAK,UAAU,IAAI,QAAQ,IAAI,QAAQ,EAAE;YACzD,OAAO,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC7B;QACD,OAAO,YAAa,CAAC,CAAC;IACxB,CAAC;IAED,OAAO;QACL,KAAK,EAAE,WAAW,CAAC,OAAO,EAAE,6PAAY,CAAC,KAAK,CAAC;QAC/C,IAAI,EAAE,WAAW,CAAC,MAAM,EAAE,6PAAY,CAAC,IAAI,CAAC;QAC5C,IAAI,EAAE,WAAW,CAAC,MAAM,EAAE,6PAAY,CAAC,IAAI,CAAC;QAC5C,KAAK,EAAE,WAAW,CAAC,OAAO,EAAE,6PAAY,CAAC,KAAK,CAAC;QAC/C,OAAO,EAAE,WAAW,CAAC,SAAS,EAAE,6PAAY,CAAC,OAAO,CAAC;KACtD,CAAC;AACJ,CAAC","debugId":null}},
    {"offset": {"line": 5376, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/diag.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/api/diag.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport {\n  ComponentLoggerOptions,\n  DiagLogFunction,\n  DiagLogger,\n  DiagLoggerApi,\n  DiagLogLevel,\n} from '../diag/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\n\nconst API_NAME = 'diag';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nexport class DiagAPI implements DiagLogger, DiagLoggerApi {\n  private static _instance?: DiagAPI;\n\n  /** Get the singleton instance of the DiagAPI API */\n  public static instance(): DiagAPI {\n    if (!this._instance) {\n      this._instance = new DiagAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Private internal constructor\n   * @private\n   */\n  private constructor() {\n    function _logProxy(funcName: keyof DiagLogger): DiagLogFunction {\n      return function (...args) {\n        const logger = getGlobal('diag');\n        // shortcut if logger not set\n        if (!logger) return;\n        return logger[funcName](...args);\n      };\n    }\n\n    // Using self local variable for minification purposes as 'this' cannot be minified\n    const self = this;\n\n    // DiagAPI specific functions\n\n    const setLogger: DiagLoggerApi['setLogger'] = (\n      logger,\n      optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }\n    ) => {\n      if (logger === self) {\n        // There isn't much we can do here.\n        // Logging to the console might break the user application.\n        // Try to log to self. If a logger was previously registered it will receive the log.\n        const err = new Error(\n          'Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation'\n        );\n        self.error(err.stack ?? err.message);\n        return false;\n      }\n\n      if (typeof optionsOrLogLevel === 'number') {\n        optionsOrLogLevel = {\n          logLevel: optionsOrLogLevel,\n        };\n      }\n\n      const oldLogger = getGlobal('diag');\n      const newLogger = createLogLevelDiagLogger(\n        optionsOrLogLevel.logLevel ?? DiagLogLevel.INFO,\n        logger\n      );\n      // There already is an logger registered. We'll let it know before overwriting it.\n      if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n        const stack = new Error().stack ?? '<failed to generate stacktrace>';\n        oldLogger.warn(`Current logger will be overwritten from ${stack}`);\n        newLogger.warn(\n          `Current logger will overwrite one already registered from ${stack}`\n        );\n      }\n\n      return registerGlobal('diag', newLogger, self, true);\n    };\n\n    self.setLogger = setLogger;\n\n    self.disable = () => {\n      unregisterGlobal(API_NAME, self);\n    };\n\n    self.createComponentLogger = (options: ComponentLoggerOptions) => {\n      return new DiagComponentLogger(options);\n    };\n\n    self.verbose = _logProxy('verbose');\n    self.debug = _logProxy('debug');\n    self.info = _logProxy('info');\n    self.warn = _logProxy('warn');\n    self.error = _logProxy('error');\n  }\n\n  public setLogger!: DiagLoggerApi['setLogger'];\n  /**\n   *\n   */\n  public createComponentLogger!: (\n    options: ComponentLoggerOptions\n  ) => DiagLogger;\n\n  // DiagLogger implementation\n  public verbose!: DiagLogFunction;\n  public debug!: DiagLogFunction;\n  public info!: DiagLogFunction;\n  public warn!: DiagLogFunction;\n  public error!: DiagLogFunction;\n\n  /**\n   * Unregister the global logger and return to Noop\n   */\n  public disable!: () => void;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5511, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/context.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/api/context.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { Context, ContextManager } from '../context/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'context';\nconst NOOP_CONTEXT_MANAGER = new NoopContextManager();\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nexport class ContextAPI {\n  private static _instance?: ContextAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Context API */\n  public static getInstance(): ContextAPI {\n    if (!this._instance) {\n      this._instance = new ContextAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current context manager.\n   *\n   * @returns true if the context manager was successfully registered, else false\n   */\n  public setGlobalContextManager(contextManager: ContextManager): boolean {\n    return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n  }\n\n  /**\n   * Get the currently active context\n   */\n  public active(): Context {\n    return this._getContextManager().active();\n  }\n\n  /**\n   * Execute a function with an active context\n   *\n   * @param context context to be active during function execution\n   * @param fn function to execute in a context\n   * @param thisArg optional receiver to be used for calling fn\n   * @param args optional arguments forwarded to fn\n   */\n  public with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return this._getContextManager().with(context, fn, thisArg, ...args);\n  }\n\n  /**\n   * Bind a context to a target function or event emitter\n   *\n   * @param context context to bind to the event emitter or function. Defaults to the currently active context\n   * @param target function or event emitter to bind\n   */\n  public bind<T>(context: Context, target: T): T {\n    return this._getContextManager().bind(context, target);\n  }\n\n  private _getContextManager(): ContextManager {\n    return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n  }\n\n  /** Disable and remove the global context manager */\n  public disable() {\n    this._getContextManager().disable();\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EAAE,kBAAkB,EAAE,MAAM,+BAA+B,CAAC;AAEnE,OAAO,EACL,SAAS,EACT,cAAc,EACd,gBAAgB,GACjB,MAAM,0BAA0B,CAAC;AAClC,OAAO,EAAE,OAAO,EAAE,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEjC,IAAM,QAAQ,GAAG,SAAS,CAAC;AAC3B,IAAM,oBAAoB,GAAG,IAAI,mRAAkB,EAAE,CAAC;AAEtD;;GAEG,CACH,IAAA,aAAA;IAGE,6FAAA,EAA+F,CAC/F,SAAA,cAAuB,CAAC;IAExB,kDAAA,EAAoD,CACtC,WAAA,WAAW,GAAzB;QACE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAG,IAAI,UAAU,EAAE,CAAC;SACnC;QAED,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED;;;;OAIG,CACI,WAAA,SAAA,CAAA,uBAAuB,GAA9B,SAA+B,cAA8B;QAC3D,WAAO,6QAAc,EAAC,QAAQ,EAAE,cAAc,EAAE,sPAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;IACtE,CAAC;IAED;;OAEG,CACI,WAAA,SAAA,CAAA,MAAM,GAAb;QACE,OAAO,IAAI,CAAC,kBAAkB,EAAE,CAAC,MAAM,EAAE,CAAC;IAC5C,CAAC;IAED;;;;;;;OAOG,CACI,WAAA,SAAA,CAAA,IAAI,GAAX,SACE,OAAgB,EAChB,EAAK,EACL,OAA8B;;QAC9B,IAAA,OAAA,EAAA,CAAU;YAAV,IAAA,KAAA,CAAU,EAAV,KAAA,UAAA,MAAU,EAAV,IAAU,CAAA;YAAV,IAAA,CAAA,KAAA,EAAA,GAAA,SAAA,CAAA,GAAA,CAAU;;QAEV,OAAO,CAAA,KAAA,IAAI,CAAC,kBAAkB,EAAE,CAAA,CAAC,IAAI,CAAA,KAAA,CAAA,IAAA,cAAA;YAAC,OAAO;YAAE,EAAE;YAAE,OAAO;SAAA,EAAA,OAAK,IAAI,GAAA,QAAE;IACvE,CAAC;IAED;;;;;OAKG,CACI,WAAA,SAAA,CAAA,IAAI,GAAX,SAAe,OAAgB,EAAE,MAAS;QACxC,OAAO,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACzD,CAAC;IAEO,WAAA,SAAA,CAAA,kBAAkB,GAA1B;QACE,WAAO,wQAAS,EAAC,QAAQ,CAAC,IAAI,oBAAoB,CAAC;IACrD,CAAC;IAED,kDAAA,EAAoD,CAC7C,WAAA,SAAA,CAAA,OAAO,GAAd;QACE,IAAI,CAAC,kBAAkB,EAAE,CAAC,OAAO,EAAE,CAAC;YACpC,+QAAgB,EAAC,QAAQ,EAAE,sPAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;IACjD,CAAC;IACH,OAAA,UAAC;AAAD,CAAC,AAnED,IAmEC","debugId":null}},
    {"offset": {"line": 5629, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/trace_flags.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum TraceFlags {\n  /** Represents no flag set. */\n  NONE = 0x0,\n  /** Bit to represent whether trace is sampled in trace flags. */\n  SAMPLED = 0x1 << 0,\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AACH,IAAY,UAKX;AALD,CAAA,SAAY,UAAU;IACpB,4BAAA,EAA8B,CAC9B,UAAA,CAAA,UAAA,CAAA,OAAA,GAAA,EAAA,GAAA,MAAU,CAAA;IACV,8DAAA,EAAgE,CAChE,UAAA,CAAA,UAAA,CAAA,UAAA,GAAA,EAAA,GAAA,SAAkB,CAAA;AACpB,CAAC,EALW,UAAU,IAAA,CAAV,UAAU,GAAA,CAAA,CAAA,GAKrB","debugId":null}},
    {"offset": {"line": 5656, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/invalid-span-constants.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanContext } from './span_context';\nimport { TraceFlags } from './trace_flags';\n\nexport const INVALID_SPANID = '0000000000000000';\nexport const INVALID_TRACEID = '00000000000000000000000000000000';\nexport const INVALID_SPAN_CONTEXT: SpanContext = {\n  traceId: INVALID_TRACEID,\n  spanId: INVALID_SPANID,\n  traceFlags: TraceFlags.NONE,\n};\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;AAGH,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;;AAEpC,IAAM,cAAc,GAAG,kBAAkB,CAAC;AAC1C,IAAM,eAAe,GAAG,kCAAkC,CAAC;AAC3D,IAAM,oBAAoB,GAAgB;IAC/C,OAAO,EAAE,eAAe;IACxB,MAAM,EAAE,cAAc;IACtB,UAAU,EAAE,kQAAU,CAAC,IAAI;CAC5B,CAAC","debugId":null}},
    {"offset": {"line": 5691, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/NonRecordingSpan.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Exception } from '../common/Exception';\nimport { TimeInput } from '../common/Time';\nimport { SpanAttributes } from './attributes';\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { SpanStatus } from './status';\nimport { Link } from './link';\n\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nexport class NonRecordingSpan implements Span {\n  constructor(\n    private readonly _spanContext: SpanContext = INVALID_SPAN_CONTEXT\n  ) {}\n\n  // Returns a SpanContext.\n  spanContext(): SpanContext {\n    return this._spanContext;\n  }\n\n  // By default does nothing\n  setAttribute(_key: string, _value: unknown): this {\n    return this;\n  }\n\n  // By default does nothing\n  setAttributes(_attributes: SpanAttributes): this {\n    return this;\n  }\n\n  // By default does nothing\n  addEvent(_name: string, _attributes?: SpanAttributes): this {\n    return this;\n  }\n\n  addLink(_link: Link): this {\n    return this;\n  }\n\n  addLinks(_links: Link[]): this {\n    return this;\n  }\n\n  // By default does nothing\n  setStatus(_status: SpanStatus): this {\n    return this;\n  }\n\n  // By default does nothing\n  updateName(_name: string): this {\n    return this;\n  }\n\n  // By default does nothing\n  end(_endTime?: TimeInput): void {}\n\n  // isRecording always returns false for NonRecordingSpan.\n  isRecording(): boolean {\n    return false;\n  }\n\n  // By default does nothing\n  recordException(_exception: Exception, _time?: TimeInput): void {}\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAKH,OAAO,EAAE,oBAAoB,EAAE,MAAM,0BAA0B,CAAC;;AAMhE;;;;GAIG,CACH,IAAA,mBAAA;IACE,SAAA,iBACmB,YAAgD;QAAhD,IAAA,iBAAA,KAAA,GAAA;YAAA,eAAA,6RAAgD;QAAA;QAAhD,IAAA,CAAA,YAAY,GAAZ,YAAY,CAAoC;IAChE,CAAC;IAEJ,yBAAyB;IACzB,iBAAA,SAAA,CAAA,WAAW,GAAX;QACE,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,YAAY,GAAZ,SAAa,IAAY,EAAE,MAAe;QACxC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,aAAa,GAAb,SAAc,WAA2B;QACvC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,QAAQ,GAAR,SAAS,KAAa,EAAE,WAA4B;QAClD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,iBAAA,SAAA,CAAA,OAAO,GAAP,SAAQ,KAAW;QACjB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,iBAAA,SAAA,CAAA,QAAQ,GAAR,SAAS,MAAc;QACrB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,SAAS,GAAT,SAAU,OAAmB;QAC3B,OAAO,IAAI,CAAC;IACd,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,UAAU,GAAV,SAAW,KAAa;QACtB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,GAAG,GAAH,SAAI,QAAoB,GAAS,CAAC;IAElC,yDAAyD;IACzD,iBAAA,SAAA,CAAA,WAAW,GAAX;QACE,OAAO,KAAK,CAAC;IACf,CAAC;IAED,0BAA0B;IAC1B,iBAAA,SAAA,CAAA,eAAe,GAAf,SAAgB,UAAqB,EAAE,KAAiB,GAAS,CAAC;IACpE,OAAA,gBAAC;AAAD,CAAC,AArDD,IAqDC","debugId":null}},
    {"offset": {"line": 5768, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/context-utils.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/context-utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContextKey } from '../context/context';\nimport { Context } from '../context/types';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n\n/**\n * span key\n */\nconst SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context: Context): Span | undefined {\n  return (context.getValue(SPAN_KEY) as Span) || undefined;\n}\n\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan(): Span | undefined {\n  return getSpan(ContextAPI.getInstance().active());\n}\n\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context: Context, span: Span): Context {\n  return context.setValue(SPAN_KEY, span);\n}\n\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context: Context): Context {\n  return context.deleteValue(SPAN_KEY);\n}\n\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(\n  context: Context,\n  spanContext: SpanContext\n): Context {\n  return setSpan(context, new NonRecordingSpan(spanContext));\n}\n\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context: Context): SpanContext | undefined {\n  return getSpan(context)?.spanContext();\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;;;AAEH,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAItD,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;;;;AAE5C;;GAEG,CACH,IAAM,QAAQ,OAAG,sQAAgB,EAAC,gCAAgC,CAAC,CAAC;AAO9D,SAAU,OAAO,CAAC,OAAgB;IACtC,OAAQ,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAU,IAAI,SAAS,CAAC;AAC3D,CAAC;AAKK,SAAU,aAAa;IAC3B,OAAO,OAAO,CAAC,4PAAU,CAAC,WAAW,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;AACpD,CAAC;AAQK,SAAU,OAAO,CAAC,OAAgB,EAAE,IAAU;IAClD,OAAO,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC1C,CAAC;AAOK,SAAU,UAAU,CAAC,OAAgB;IACzC,OAAO,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AACvC,CAAC;AASK,SAAU,cAAc,CAC5B,OAAgB,EAChB,WAAwB;IAExB,OAAO,OAAO,CAAC,OAAO,EAAE,IAAI,6QAAgB,CAAC,WAAW,CAAC,CAAC,CAAC;AAC7D,CAAC;AAOK,SAAU,cAAc,CAAC,OAAgB;;IAC7C,OAAO,CAAA,KAAA,OAAO,CAAC,OAAO,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,WAAW,EAAE,CAAC;AACzC,CAAC","debugId":null}},
    {"offset": {"line": 5828, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/spancontext-utils.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\n\nconst VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nconst VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\n\nexport function isValidTraceId(traceId: string): boolean {\n  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\n\nexport function isValidSpanId(spanId: string): boolean {\n  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext: SpanContext): boolean {\n  return (\n    isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId)\n  );\n}\n\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext: SpanContext): Span {\n  return new NonRecordingSpan(spanContext);\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;AACH,OAAO,EAAE,cAAc,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;AAC3E,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;;;AAItD,IAAM,mBAAmB,GAAG,mBAAmB,CAAC;AAChD,IAAM,kBAAkB,GAAG,iBAAiB,CAAC;AAEvC,SAAU,cAAc,CAAC,OAAe;IAC5C,OAAO,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,OAAO,KAAK,wRAAe,CAAC;AAC1E,CAAC;AAEK,SAAU,aAAa,CAAC,MAAc;IAC1C,OAAO,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,MAAM,KAAK,uRAAc,CAAC;AACtE,CAAC;AAMK,SAAU,kBAAkB,CAAC,WAAwB;IACzD,OAAO,AACL,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,CACzE,CAAC;AACJ,CAAC;AAQK,SAAU,eAAe,CAAC,WAAwB;IACtD,OAAO,IAAI,6QAAgB,CAAC,WAAW,CAAC,CAAC;AAC3C,CAAC","debugId":null}},
    {"offset": {"line": 5874, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/NoopTracer.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextAPI } from '../api/context';\nimport { Context } from '../context/types';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { isSpanContextValid } from './spancontext-utils';\nimport { SpanOptions } from './SpanOptions';\nimport { SpanContext } from './span_context';\nimport { Tracer } from './tracer';\n\nconst contextApi = ContextAPI.getInstance();\n\n/**\n * No-op implementations of {@link Tracer}.\n */\nexport class NoopTracer implements Tracer {\n  // startSpan starts a noop span.\n  startSpan(\n    name: string,\n    options?: SpanOptions,\n    context = contextApi.active()\n  ): Span {\n    const root = Boolean(options?.root);\n    if (root) {\n      return new NonRecordingSpan();\n    }\n\n    const parentFromContext = context && getSpanContext(context);\n\n    if (\n      isSpanContext(parentFromContext) &&\n      isSpanContextValid(parentFromContext)\n    ) {\n      return new NonRecordingSpan(parentFromContext);\n    } else {\n      return new NonRecordingSpan();\n    }\n  }\n\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    ctx: Context | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    arg2?: F | SpanOptions,\n    arg3?: F | Context,\n    arg4?: F\n  ): ReturnType<F> | undefined {\n    let opts: SpanOptions | undefined;\n    let ctx: Context | undefined;\n    let fn: F;\n\n    if (arguments.length < 2) {\n      return;\n    } else if (arguments.length === 2) {\n      fn = arg2 as F;\n    } else if (arguments.length === 3) {\n      opts = arg2 as SpanOptions | undefined;\n      fn = arg3 as F;\n    } else {\n      opts = arg2 as SpanOptions | undefined;\n      ctx = arg3 as Context | undefined;\n      fn = arg4 as F;\n    }\n\n    const parentContext = ctx ?? contextApi.active();\n    const span = this.startSpan(name, opts, parentContext);\n    const contextWithSpanSet = setSpan(parentContext, span);\n\n    return contextApi.with(contextWithSpanSet, fn, undefined, span);\n  }\n}\n\nfunction isSpanContext(spanContext: any): spanContext is SpanContext {\n  return (\n    typeof spanContext === 'object' &&\n    typeof spanContext['spanId'] === 'string' &&\n    typeof spanContext['traceId'] === 'string' &&\n    typeof spanContext['traceFlags'] === 'number'\n  );\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAE5C,OAAO,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAC;AACjE,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAEtD,OAAO,EAAE,kBAAkB,EAAE,MAAM,qBAAqB,CAAC;;;;;AAKzD,IAAM,UAAU,GAAG,4PAAU,CAAC,WAAW,EAAE,CAAC;AAE5C;;GAEG,CACH,IAAA,aAAA;IAAA,SAAA,cAoEA,CAAC;IAnEC,gCAAgC;IAChC,WAAA,SAAA,CAAA,SAAS,GAAT,SACE,IAAY,EACZ,OAAqB,EACrB,OAA6B;QAA7B,IAAA,YAAA,KAAA,GAAA;YAAA,UAAU,UAAU,CAAC,MAAM,EAAE;QAAA;QAE7B,IAAM,IAAI,GAAG,OAAO,CAAC,OAAO,KAAA,QAAP,OAAO,KAAA,KAAA,IAAA,KAAA,IAAP,OAAO,CAAE,IAAI,CAAC,CAAC;QACpC,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,6QAAgB,EAAE,CAAC;SAC/B;QAED,IAAM,iBAAiB,GAAG,OAAO,QAAI,2QAAc,EAAC,OAAO,CAAC,CAAC;QAE7D,IACE,aAAa,CAAC,iBAAiB,CAAC,QAChC,mRAAkB,EAAC,iBAAiB,CAAC,EACrC;YACA,OAAO,IAAI,6QAAgB,CAAC,iBAAiB,CAAC,CAAC;SAChD,MAAM;YACL,OAAO,IAAI,6QAAgB,EAAE,CAAC;SAC/B;IACH,CAAC;IAiBD,WAAA,SAAA,CAAA,eAAe,GAAf,SACE,IAAY,EACZ,IAAsB,EACtB,IAAkB,EAClB,IAAQ;QAER,IAAI,IAA6B,CAAC;QAClC,IAAI,GAAwB,CAAC;QAC7B,IAAI,EAAK,CAAC;QAEV,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,OAAO;SACR,MAAM,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACjC,EAAE,GAAG,IAAS,CAAC;SAChB,MAAM,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YACjC,IAAI,GAAG,IAA+B,CAAC;YACvC,EAAE,GAAG,IAAS,CAAC;SAChB,MAAM;YACL,IAAI,GAAG,IAA+B,CAAC;YACvC,GAAG,GAAG,IAA2B,CAAC;YAClC,EAAE,GAAG,IAAS,CAAC;SAChB;QAED,IAAM,aAAa,GAAG,GAAG,KAAA,QAAH,GAAG,KAAA,KAAA,IAAH,GAAG,GAAI,UAAU,CAAC,MAAM,EAAE,CAAC;QACjD,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QACvD,IAAM,kBAAkB,OAAG,oQAAO,EAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QAExD,OAAO,UAAU,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IACH,OAAA,UAAC;AAAD,CAAC,AApED,IAoEC;;AAED,SAAS,aAAa,CAAC,WAAgB;IACrC,OAAO,AACL,OAAO,WAAW,KAAK,QAAQ,IAC/B,OAAO,WAAW,CAAC,QAAQ,CAAC,KAAK,QAAQ,IACzC,OAAO,WAAW,CAAC,SAAS,CAAC,KAAK,QAAQ,IAC1C,OAAO,WAAW,CAAC,YAAY,CAAC,KAAK,QAAQ,CAC9C,CAAC;AACJ,CAAC","debugId":null}},
    {"offset": {"line": 5952, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/ProxyTracer.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport { NoopTracer } from './NoopTracer';\nimport { Span } from './span';\nimport { SpanOptions } from './SpanOptions';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER = new NoopTracer();\n\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nexport class ProxyTracer implements Tracer {\n  // When a real implementation is provided, this will be it\n  private _delegate?: Tracer;\n\n  constructor(\n    private _provider: TracerDelegator,\n    public readonly name: string,\n    public readonly version?: string,\n    public readonly options?: TracerOptions\n  ) {}\n\n  startSpan(name: string, options?: SpanOptions, context?: Context): Span {\n    return this._getTracer().startSpan(name, options, context);\n  }\n\n  startActiveSpan<F extends (span: Span) => unknown>(\n    _name: string,\n    _options: F | SpanOptions,\n    _context?: F | Context,\n    _fn?: F\n  ): ReturnType<F> {\n    const tracer = this._getTracer();\n    return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n  }\n\n  /**\n   * Try to get a tracer from the proxy tracer provider.\n   * If the proxy tracer provider has no delegate, return a noop tracer.\n   */\n  private _getTracer() {\n    if (this._delegate) {\n      return this._delegate;\n    }\n\n    const tracer = this._provider.getDelegateTracer(\n      this.name,\n      this.version,\n      this.options\n    );\n\n    if (!tracer) {\n      return NOOP_TRACER;\n    }\n\n    this._delegate = tracer;\n    return this._delegate;\n  }\n}\n\nexport interface TracerDelegator {\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined;\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAGH,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;;AAM1C,IAAM,WAAW,GAAG,IAAI,iQAAU,EAAE,CAAC;AAErC;;GAEG,CACH,IAAA,cAAA;IAIE,SAAA,YACU,SAA0B,EAClB,IAAY,EACZ,OAAgB,EAChB,OAAuB;QAH/B,IAAA,CAAA,SAAS,GAAT,SAAS,CAAiB;QAClB,IAAA,CAAA,IAAI,GAAJ,IAAI,CAAQ;QACZ,IAAA,CAAA,OAAO,GAAP,OAAO,CAAS;QAChB,IAAA,CAAA,OAAO,GAAP,OAAO,CAAgB;IACtC,CAAC;IAEJ,YAAA,SAAA,CAAA,SAAS,GAAT,SAAU,IAAY,EAAE,OAAqB,EAAE,OAAiB;QAC9D,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED,YAAA,SAAA,CAAA,eAAe,GAAf,SACE,KAAa,EACb,QAAyB,EACzB,QAAsB,EACtB,GAAO;QAEP,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACjC,OAAO,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IAED;;;OAGG,CACK,YAAA,SAAA,CAAA,UAAU,GAAlB;QACE,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,OAAO,IAAI,CAAC,SAAS,CAAC;SACvB;QAED,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAC7C,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,OAAO,CACb,CAAC;QAEF,IAAI,CAAC,MAAM,EAAE;YACX,OAAO,WAAW,CAAC;SACpB;QAED,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IACH,OAAA,WAAC;AAAD,CAAC,AA/CD,IA+CC","debugId":null}},
    {"offset": {"line": 6011, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/NoopTracerProvider.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopTracer } from './NoopTracer';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\nimport { TracerProvider } from './tracer_provider';\n\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nexport class NoopTracerProvider implements TracerProvider {\n  getTracer(\n    _name?: string,\n    _version?: string,\n    _options?: TracerOptions\n  ): Tracer {\n    return new NoopTracer();\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;;AAK1C;;;;;GAKG,CACH,IAAA,qBAAA;IAAA,SAAA,sBAQA,CAAC;IAPC,mBAAA,SAAA,CAAA,SAAS,GAAT,SACE,KAAc,EACd,QAAiB,EACjB,QAAwB;QAExB,OAAO,IAAI,iQAAU,EAAE,CAAC;IAC1B,CAAC;IACH,OAAA,kBAAC;AAAD,CAAC,AARD,IAQC","debugId":null}},
    {"offset": {"line": 6049, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/ProxyTracerProvider.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Tracer } from './tracer';\nimport { TracerProvider } from './tracer_provider';\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nexport class ProxyTracerProvider implements TracerProvider {\n  private _delegate?: TracerProvider;\n\n  /**\n   * Get a {@link ProxyTracer}\n   */\n  getTracer(name: string, version?: string, options?: TracerOptions): Tracer {\n    return (\n      this.getDelegateTracer(name, version, options) ??\n      new ProxyTracer(this, name, version, options)\n    );\n  }\n\n  getDelegate(): TracerProvider {\n    return this._delegate ?? NOOP_TRACER_PROVIDER;\n  }\n\n  /**\n   * Set the delegate tracer provider\n   */\n  setDelegate(delegate: TracerProvider) {\n    this._delegate = delegate;\n  }\n\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined {\n    return this._delegate?.getTracer(name, version, options);\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAIH,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAC5C,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;;;AAG1D,IAAM,oBAAoB,GAAG,IAAI,iRAAkB,EAAE,CAAC;AAEtD;;;;;;;GAOG,CACH,IAAA,sBAAA;IAAA,SAAA,uBA+BA,CAAC;IA5BC;;OAEG,CACH,oBAAA,SAAA,CAAA,SAAS,GAAT,SAAU,IAAY,EAAE,OAAgB,EAAE,OAAuB;;QAC/D,OAAO,AACL,CAAA,KAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAC9C,IAAI,mQAAW,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAC9C,CAAC;IACJ,CAAC;IAED,oBAAA,SAAA,CAAA,WAAW,GAAX;;QACE,OAAO,CAAA,KAAA,IAAI,CAAC,SAAS,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,oBAAoB,CAAC;IAChD,CAAC;IAED;;OAEG,CACH,oBAAA,SAAA,CAAA,WAAW,GAAX,SAAY,QAAwB;QAClC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;IAC5B,CAAC;IAED,oBAAA,SAAA,CAAA,iBAAiB,GAAjB,SACE,IAAY,EACZ,OAAgB,EAChB,OAAuB;;QAEvB,OAAO,CAAA,KAAA,IAAI,CAAC,SAAS,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IACH,OAAA,mBAAC;AAAD,CAAC,AA/BD,IA+BC","debugId":null}},
    {"offset": {"line": 6108, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/trace.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/api/trace.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport {\n  isSpanContextValid,\n  wrapSpanContext,\n} from '../trace/spancontext-utils';\nimport { Tracer } from '../trace/tracer';\nimport { TracerProvider } from '../trace/tracer_provider';\nimport {\n  deleteSpan,\n  getActiveSpan,\n  getSpan,\n  getSpanContext,\n  setSpan,\n  setSpanContext,\n} from '../trace/context-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'trace';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nexport class TraceAPI {\n  private static _instance?: TraceAPI;\n\n  private _proxyTracerProvider = new ProxyTracerProvider();\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Trace API */\n  public static getInstance(): TraceAPI {\n    if (!this._instance) {\n      this._instance = new TraceAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current global tracer.\n   *\n   * @returns true if the tracer provider was successfully registered, else false\n   */\n  public setGlobalTracerProvider(provider: TracerProvider): boolean {\n    const success = registerGlobal(\n      API_NAME,\n      this._proxyTracerProvider,\n      DiagAPI.instance()\n    );\n    if (success) {\n      this._proxyTracerProvider.setDelegate(provider);\n    }\n    return success;\n  }\n\n  /**\n   * Returns the global tracer provider.\n   */\n  public getTracerProvider(): TracerProvider {\n    return getGlobal(API_NAME) || this._proxyTracerProvider;\n  }\n\n  /**\n   * Returns a tracer from the global tracer provider.\n   */\n  public getTracer(name: string, version?: string): Tracer {\n    return this.getTracerProvider().getTracer(name, version);\n  }\n\n  /** Remove the global tracer provider */\n  public disable() {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n    this._proxyTracerProvider = new ProxyTracerProvider();\n  }\n\n  public wrapSpanContext = wrapSpanContext;\n\n  public isSpanContextValid = isSpanContextValid;\n\n  public deleteSpan = deleteSpan;\n\n  public getSpan = getSpan;\n\n  public getActiveSpan = getActiveSpan;\n\n  public getSpanContext = getSpanContext;\n\n  public setSpan = setSpan;\n\n  public setSpanContext = setSpanContext;\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;;;;AAEH,OAAO,EACL,SAAS,EACT,cAAc,EACd,gBAAgB,GACjB,MAAM,0BAA0B,CAAC;AAClC,OAAO,EAAE,mBAAmB,EAAE,MAAM,8BAA8B,CAAC;AACnE,OAAO,EACL,kBAAkB,EAClB,eAAe,GAChB,MAAM,4BAA4B,CAAC;AAGpC,OAAO,EACL,UAAU,EACV,aAAa,EACb,OAAO,EACP,cAAc,EACd,OAAO,EACP,cAAc,GACf,MAAM,wBAAwB,CAAC;AAChC,OAAO,EAAE,OAAO,EAAE,MAAM,QAAQ,CAAC;;;;;;AAEjC,IAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB;;GAEG,CACH,IAAA,WAAA;IAKE,6FAAA,EAA+F,CAC/F,SAAA;QAHQ,IAAA,CAAA,oBAAoB,GAAG,IAAI,mRAAmB,EAAE,CAAC;QAmDlD,IAAA,CAAA,eAAe,GAAG,gRAAe,CAAC;QAElC,IAAA,CAAA,kBAAkB,GAAG,mRAAkB,CAAC;QAExC,IAAA,CAAA,UAAU,GAAG,uQAAU,CAAC;QAExB,IAAA,CAAA,OAAO,GAAG,oQAAO,CAAC;QAElB,IAAA,CAAA,aAAa,GAAG,0QAAa,CAAC;QAE9B,IAAA,CAAA,cAAc,GAAG,2QAAc,CAAC;QAEhC,IAAA,CAAA,OAAO,GAAG,oQAAO,CAAC;QAElB,IAAA,CAAA,cAAc,GAAG,2QAAc,CAAC;IA9DhB,CAAC;IAExB,gDAAA,EAAkD,CACpC,SAAA,WAAW,GAAzB;QACE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,EAAE,CAAC;SACjC;QAED,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED;;;;OAIG,CACI,SAAA,SAAA,CAAA,uBAAuB,GAA9B,SAA+B,QAAwB;QACrD,IAAM,OAAO,OAAG,6QAAc,EAC5B,QAAQ,EACR,IAAI,CAAC,oBAAoB,EACzB,sPAAO,CAAC,QAAQ,EAAE,CACnB,CAAC;QACF,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACjD;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAED;;OAEG,CACI,SAAA,SAAA,CAAA,iBAAiB,GAAxB;QACE,WAAO,wQAAS,EAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,oBAAoB,CAAC;IAC1D,CAAC;IAED;;OAEG,CACI,SAAA,SAAA,CAAA,SAAS,GAAhB,SAAiB,IAAY,EAAE,OAAgB;QAC7C,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IAED,sCAAA,EAAwC,CACjC,SAAA,SAAA,CAAA,OAAO,GAAd;YACE,+QAAgB,EAAC,QAAQ,EAAE,sPAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,oBAAoB,GAAG,IAAI,mRAAmB,EAAE,CAAC;IACxD,CAAC;IAiBH,OAAA,QAAC;AAAD,CAAC,AArED,IAqEC","debugId":null}},
    {"offset": {"line": 6190, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace-api.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace-api.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport const trace = TraceAPI.getInstance();\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG,CAEH,sEAAsE;AACtE,qCAAqC;;;;;AACrC,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;;AAEhC,IAAM,KAAK,GAAG,wPAAQ,CAAC,WAAW,EAAE,CAAC","debugId":null}},
    {"offset": {"line": 6217, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/status.js","sourceRoot":"","sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40opentelemetry%2Bapi%401.9.0/node_modules/%40opentelemetry/api/src/trace/status.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport interface SpanStatus {\n  /** The status code of this message. */\n  code: SpanStatusCode;\n  /** A developer-facing error message. */\n  message?: string;\n}\n\n/**\n * An enumeration of status codes.\n */\nexport enum SpanStatusCode {\n  /**\n   * The default status.\n   */\n  UNSET = 0,\n  /**\n   * The operation has been validated by an Application developer or\n   * Operator to have completed successfully.\n   */\n  OK = 1,\n  /**\n   * The operation contains an error.\n   */\n  ERROR = 2,\n}\n"],"names":[],"mappings":"AAsBA;;GAEG;;;;AACH,IAAY,cAcX;AAdD,CAAA,SAAY,cAAc;IACxB;;OAEG,CACH,cAAA,CAAA,cAAA,CAAA,QAAA,GAAA,EAAA,GAAA,OAAS,CAAA;IACT;;;OAGG,CACH,cAAA,CAAA,cAAA,CAAA,KAAA,GAAA,EAAA,GAAA,IAAM,CAAA;IACN;;OAEG,CACH,cAAA,CAAA,cAAA,CAAA,QAAA,GAAA,EAAA,GAAA,OAAS,CAAA;AACX,CAAC,EAdW,cAAc,IAAA,CAAd,cAAc,GAAA,CAAA,CAAA,GAczB","debugId":null}},
    {"offset": {"line": 6239, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/throttleit%402.1.0/node_modules/throttleit/index.js"],"sourcesContent":["function throttle(function_, wait) {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a \\`function\\`, got \\`${typeof function_}\\`.`);\n\t}\n\n\t// TODO: Add `wait` validation too in the next major version.\n\n\tlet timeoutId;\n\tlet lastCallTime = 0;\n\n\treturn function throttled(...arguments_) { // eslint-disable-line func-names\n\t\tclearTimeout(timeoutId);\n\n\t\tconst now = Date.now();\n\t\tconst timeSinceLastCall = now - lastCallTime;\n\t\tconst delayForNextCall = wait - timeSinceLastCall;\n\n\t\tif (delayForNextCall <= 0) {\n\t\t\tlastCallTime = now;\n\t\t\tfunction_.apply(this, arguments_);\n\t\t} else {\n\t\t\ttimeoutId = setTimeout(() => {\n\t\t\t\tlastCallTime = Date.now();\n\t\t\t\tfunction_.apply(this, arguments_);\n\t\t\t}, delayForNextCall);\n\t\t}\n\t};\n}\n\nmodule.exports = throttle;\n"],"names":[],"mappings":"AAAA,SAAS,SAAS,SAAS,EAAE,IAAI;IAChC,IAAI,OAAO,cAAc,YAAY;QACpC,MAAM,IAAI,UAAU,AAAC,wDAA2E,OAAjB,OAAO,WAAU;IACjG;IAEA,6DAA6D;IAE7D,IAAI;IACJ,IAAI,eAAe;IAEnB,OAAO,SAAS;QAAU,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,aAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;YAAG,WAAH,QAAA,SAAA,CAAA,KAAa;;QACtC,aAAa;QAEb,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,oBAAoB,MAAM;QAChC,MAAM,mBAAmB,OAAO;QAEhC,IAAI,oBAAoB,GAAG;YAC1B,eAAe;YACf,UAAU,KAAK,CAAC,IAAI,EAAE;QACvB,OAAO;YACN,YAAY,WAAW;gBACtB,eAAe,KAAK,GAAG;gBACvB,UAAU,KAAK,CAAC,IAAI,EAAE;YACvB,GAAG;QACJ;IACD;AACD;AAEA,OAAO,OAAO,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6270, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/use-sync-external-store%401.6.0_react%4019.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js"],"sourcesContent":["/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    function useSyncExternalStore$2(subscribe, getSnapshot) {\n      didWarnOld18Alpha ||\n        void 0 === React.startTransition ||\n        ((didWarnOld18Alpha = !0),\n        console.error(\n          \"You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release.\"\n        ));\n      var value = getSnapshot();\n      if (!didWarnUncachedGetSnapshot) {\n        var cachedValue = getSnapshot();\n        objectIs(value, cachedValue) ||\n          (console.error(\n            \"The result of getSnapshot should be cached to avoid an infinite loop\"\n          ),\n          (didWarnUncachedGetSnapshot = !0));\n      }\n      cachedValue = useState({\n        inst: { value: value, getSnapshot: getSnapshot }\n      });\n      var inst = cachedValue[0].inst,\n        forceUpdate = cachedValue[1];\n      useLayoutEffect(\n        function () {\n          inst.value = value;\n          inst.getSnapshot = getSnapshot;\n          checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n        },\n        [subscribe, value, getSnapshot]\n      );\n      useEffect(\n        function () {\n          checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n          return subscribe(function () {\n            checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n          });\n        },\n        [subscribe]\n      );\n      useDebugValue(value);\n      return value;\n    }\n    function checkIfSnapshotChanged(inst) {\n      var latestGetSnapshot = inst.getSnapshot;\n      inst = inst.value;\n      try {\n        var nextValue = latestGetSnapshot();\n        return !objectIs(inst, nextValue);\n      } catch (error) {\n        return !0;\n      }\n    }\n    function useSyncExternalStore$1(subscribe, getSnapshot) {\n      return getSnapshot();\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      useState = React.useState,\n      useEffect = React.useEffect,\n      useLayoutEffect = React.useLayoutEffect,\n      useDebugValue = React.useDebugValue,\n      didWarnOld18Alpha = !1,\n      didWarnUncachedGetSnapshot = !1,\n      shim =\n        \"undefined\" === typeof window ||\n        \"undefined\" === typeof window.document ||\n        \"undefined\" === typeof window.document.createElement\n          ? useSyncExternalStore$1\n          : useSyncExternalStore$2;\n    exports.useSyncExternalStore =\n      void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC,GAGgB;AADjB;AACA,oEACE,AAAC;IACC,SAAS,GAAG,CAAC,EAAE,CAAC;QACd,OAAO,AAAC,MAAM,KAAK,CAAC,MAAM,KAAK,IAAI,MAAM,IAAI,CAAC,KAAO,MAAM,KAAK,MAAM;IACxE;IACA,SAAS,uBAAuB,SAAS,EAAE,WAAW;QACpD,qBACE,KAAK,MAAM,MAAM,eAAe,IAChC,CAAC,AAAC,oBAAoB,CAAC,GACvB,QAAQ,KAAK,CACX,iMACD;QACH,IAAI,QAAQ;QACZ,IAAI,CAAC,4BAA4B;YAC/B,IAAI,cAAc;YAClB,SAAS,OAAO,gBACd,CAAC,QAAQ,KAAK,CACZ,yEAED,6BAA6B,CAAC,CAAE;QACrC;QACA,cAAc,SAAS;YACrB,MAAM;gBAAE,OAAO;gBAAO,aAAa;YAAY;QACjD;QACA,IAAI,OAAO,WAAW,CAAC,EAAE,CAAC,IAAI,EAC5B,cAAc,WAAW,CAAC,EAAE;QAC9B;sDACE;gBACE,KAAK,KAAK,GAAG;gBACb,KAAK,WAAW,GAAG;gBACnB,uBAAuB,SAAS,YAAY;oBAAE,MAAM;gBAAK;YAC3D;qDACA;YAAC;YAAW;YAAO;SAAY;QAEjC;gDACE;gBACE,uBAAuB,SAAS,YAAY;oBAAE,MAAM;gBAAK;gBACzD,OAAO;wDAAU;wBACf,uBAAuB,SAAS,YAAY;4BAAE,MAAM;wBAAK;oBAC3D;;YACF;+CACA;YAAC;SAAU;QAEb,cAAc;QACd,OAAO;IACT;IACA,SAAS,uBAAuB,IAAI;QAClC,IAAI,oBAAoB,KAAK,WAAW;QACxC,OAAO,KAAK,KAAK;QACjB,IAAI;YACF,IAAI,YAAY;YAChB,OAAO,CAAC,SAAS,MAAM;QACzB,EAAE,OAAO,OAAO;YACd,OAAO,CAAC;QACV;IACF;IACA,SAAS,uBAAuB,SAAS,EAAE,WAAW;QACpD,OAAO;IACT;IACA,gBAAgB,OAAO,kCACrB,eACE,OAAO,+BAA+B,2BAA2B,IACnE,+BAA+B,2BAA2B,CAAC;IAC7D,IAAI,2NACF,WAAW,eAAe,OAAO,OAAO,EAAE,GAAG,OAAO,EAAE,GAAG,IACzD,WAAW,MAAM,QAAQ,EACzB,YAAY,MAAM,SAAS,EAC3B,kBAAkB,MAAM,eAAe,EACvC,gBAAgB,MAAM,aAAa,EACnC,oBAAoB,CAAC,GACrB,6BAA6B,CAAC,GAC9B,OACE,gBAAgB,OAAO,UACvB,gBAAgB,OAAO,OAAO,QAAQ,IACtC,gBAAgB,OAAO,OAAO,QAAQ,CAAC,aAAa,GAChD,yBACA;IACR,QAAQ,oBAAoB,GAC1B,KAAK,MAAM,MAAM,oBAAoB,GAAG,MAAM,oBAAoB,GAAG;IACvE,gBAAgB,OAAO,kCACrB,eACE,OAAO,+BAA+B,0BAA0B,IAClE,+BAA+B,0BAA0B,CAAC;AAC9D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6352, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/use-sync-external-store%401.6.0_react%4019.2.0/node_modules/use-sync-external-store/shim/index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n"],"names":[],"mappings":"AAEI;AAFJ;AAEA;;KAEO;IACL,OAAO,OAAO;AAChB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6363, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/swr%402.3.6_react%4019.2.0/node_modules/swr/dist/_internal/events.mjs"],"sourcesContent":["const FOCUS_EVENT = 0;\nconst RECONNECT_EVENT = 1;\nconst MUTATE_EVENT = 2;\nconst ERROR_REVALIDATE_EVENT = 3;\n\nexport { ERROR_REVALIDATE_EVENT, FOCUS_EVENT, MUTATE_EVENT, RECONNECT_EVENT };\n"],"names":[],"mappings":";;;;;;;;;;AAAA,MAAM,cAAc;AACpB,MAAM,kBAAkB;AACxB,MAAM,eAAe;AACrB,MAAM,yBAAyB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6382, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/swr%402.3.6_react%4019.2.0/node_modules/swr/dist/_internal/config-context-client-BoS53ST9.mjs"],"sourcesContent":["'use client';\nimport React, { useEffect, useLayoutEffect, createContext, useContext, useMemo, useRef, createElement } from 'react';\nimport * as revalidateEvents from './events.mjs';\nimport { dequal } from 'dequal/lite';\n\n// Global state used to deduplicate requests and store listeners\nconst SWRGlobalState = new WeakMap();\n\n// Shared state between server components and client components\nconst noop = ()=>{};\n// Using noop() as the undefined value as undefined can be replaced\n// by something else. Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nconst UNDEFINED = /*#__NOINLINE__*/ noop();\nconst OBJECT = Object;\nconst isUndefined = (v)=>v === UNDEFINED;\nconst isFunction = (v)=>typeof v == 'function';\nconst mergeObjects = (a, b)=>({\n        ...a,\n        ...b\n    });\nconst isPromiseLike = (x)=>isFunction(x.then);\n\nconst EMPTY_CACHE = {};\nconst INITIAL_CACHE = {};\nconst STR_UNDEFINED = 'undefined';\n// NOTE: Use the function to guarantee it's re-evaluated between jsdom and node runtime for tests.\nconst isWindowDefined = typeof window != STR_UNDEFINED;\nconst isDocumentDefined = typeof document != STR_UNDEFINED;\nconst isLegacyDeno = isWindowDefined && 'Deno' in window;\nconst hasRequestAnimationFrame = ()=>isWindowDefined && typeof window['requestAnimationFrame'] != STR_UNDEFINED;\nconst createCacheHelper = (cache, key)=>{\n    const state = SWRGlobalState.get(cache);\n    return [\n        // Getter\n        ()=>!isUndefined(key) && cache.get(key) || EMPTY_CACHE,\n        // Setter\n        (info)=>{\n            if (!isUndefined(key)) {\n                const prev = cache.get(key);\n                // Before writing to the store, we keep the value in the initial cache\n                // if it's not there yet.\n                if (!(key in INITIAL_CACHE)) {\n                    INITIAL_CACHE[key] = prev;\n                }\n                state[5](key, mergeObjects(prev, info), prev || EMPTY_CACHE);\n            }\n        },\n        // Subscriber\n        state[6],\n        // Get server cache snapshot\n        ()=>{\n            if (!isUndefined(key)) {\n                // If the cache was updated on the client, we return the stored initial value.\n                if (key in INITIAL_CACHE) return INITIAL_CACHE[key];\n            }\n            // If we haven't done any client-side updates, we return the current value.\n            return !isUndefined(key) && cache.get(key) || EMPTY_CACHE;\n        }\n    ];\n} // export { UNDEFINED, OBJECT, isUndefined, isFunction, mergeObjects, isPromiseLike }\n;\n\n/**\n * Due to the bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,\n * it's not reliable to detect if the browser is currently online or offline\n * based on `navigator.onLine`.\n * As a workaround, we always assume it's online on the first load, and change\n * the status upon `online` or `offline` events.\n */ let online = true;\nconst isOnline = ()=>online;\n// For node and React Native, `add/removeEventListener` doesn't exist on window.\nconst [onWindowEvent, offWindowEvent] = isWindowDefined && window.addEventListener ? [\n    window.addEventListener.bind(window),\n    window.removeEventListener.bind(window)\n] : [\n    noop,\n    noop\n];\nconst isVisible = ()=>{\n    const visibilityState = isDocumentDefined && document.visibilityState;\n    return isUndefined(visibilityState) || visibilityState !== 'hidden';\n};\nconst initFocus = (callback)=>{\n    // focus revalidate\n    if (isDocumentDefined) {\n        document.addEventListener('visibilitychange', callback);\n    }\n    onWindowEvent('focus', callback);\n    return ()=>{\n        if (isDocumentDefined) {\n            document.removeEventListener('visibilitychange', callback);\n        }\n        offWindowEvent('focus', callback);\n    };\n};\nconst initReconnect = (callback)=>{\n    // revalidate on reconnected\n    const onOnline = ()=>{\n        online = true;\n        callback();\n    };\n    // nothing to revalidate, just update the status\n    const onOffline = ()=>{\n        online = false;\n    };\n    onWindowEvent('online', onOnline);\n    onWindowEvent('offline', onOffline);\n    return ()=>{\n        offWindowEvent('online', onOnline);\n        offWindowEvent('offline', onOffline);\n    };\n};\nconst preset = {\n    isOnline,\n    isVisible\n};\nconst defaultConfigOptions = {\n    initFocus,\n    initReconnect\n};\n\nconst IS_REACT_LEGACY = !React.useId;\nconst IS_SERVER = !isWindowDefined || isLegacyDeno;\n// Polyfill requestAnimationFrame\nconst rAF = (f)=>hasRequestAnimationFrame() ? window['requestAnimationFrame'](f) : setTimeout(f, 1);\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nconst useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n// This assignment is to extend the Navigator type to use effectiveType.\nconst navigatorConnection = typeof navigator !== 'undefined' && navigator.connection;\n// Adjust the config based on slow connection status (<= 70Kbps).\nconst slowConnection = !IS_SERVER && navigatorConnection && ([\n    'slow-2g',\n    '2g'\n].includes(navigatorConnection.effectiveType) || navigatorConnection.saveData);\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nconst table = new WeakMap();\nconst getTypeName = (value)=>OBJECT.prototype.toString.call(value);\nconst isObjectTypeName = (typeName, type)=>typeName === `[object ${type}]`;\n// counter of the key\nlet counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsable.\nconst stableHash = (arg)=>{\n    const type = typeof arg;\n    const typeName = getTypeName(arg);\n    const isDate = isObjectTypeName(typeName, 'Date');\n    const isRegex = isObjectTypeName(typeName, 'RegExp');\n    const isPlainObject = isObjectTypeName(typeName, 'Object');\n    let result;\n    let index;\n    if (OBJECT(arg) === arg && !isDate && !isRegex) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result) return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (Array.isArray(arg)) {\n            // Array.\n            result = '@';\n            for(index = 0; index < arg.length; index++){\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (isPlainObject) {\n            // Object, sort keys.\n            result = '#';\n            const keys = OBJECT.keys(arg).sort();\n            while(!isUndefined(index = keys.pop())){\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    } else {\n        result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;\n    }\n    return result;\n};\n\nconst serialize = (key)=>{\n    if (isFunction(key)) {\n        try {\n            key = key();\n        } catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    // Use the original key as the argument of fetcher. This can be a string or an\n    // array of values.\n    const args = key;\n    // If key is not falsy, or not an empty array, hash it.\n    key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';\n    return [\n        key,\n        args\n    ];\n};\n\n// Global timestamp.\nlet __timestamp = 0;\nconst getTimestamp = ()=>++__timestamp;\n\nasync function internalMutate(...args) {\n    const [cache, _key, _data, _opts] = args;\n    // When passing as a boolean, it's explicitly used to disable/enable\n    // revalidation.\n    const options = mergeObjects({\n        populateCache: true,\n        throwOnError: true\n    }, typeof _opts === 'boolean' ? {\n        revalidate: _opts\n    } : _opts || {});\n    let populateCache = options.populateCache;\n    const rollbackOnErrorOption = options.rollbackOnError;\n    let optimisticData = options.optimisticData;\n    const rollbackOnError = (error)=>{\n        return typeof rollbackOnErrorOption === 'function' ? rollbackOnErrorOption(error) : rollbackOnErrorOption !== false;\n    };\n    const throwOnError = options.throwOnError;\n    // If the second argument is a key filter, return the mutation results for all\n    // filtered keys.\n    if (isFunction(_key)) {\n        const keyFilter = _key;\n        const matchedKeys = [];\n        const it = cache.keys();\n        for (const key of it){\n            if (// Skip the special useSWRInfinite and useSWRSubscription keys.\n            !/^\\$(inf|sub)\\$/.test(key) && keyFilter(cache.get(key)._k)) {\n                matchedKeys.push(key);\n            }\n        }\n        return Promise.all(matchedKeys.map(mutateByKey));\n    }\n    return mutateByKey(_key);\n    async function mutateByKey(_k) {\n        // Serialize key\n        const [key] = serialize(_k);\n        if (!key) return;\n        const [get, set] = createCacheHelper(cache, key);\n        const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);\n        const startRevalidate = ()=>{\n            const revalidators = EVENT_REVALIDATORS[key];\n            const revalidate = isFunction(options.revalidate) ? options.revalidate(get().data, _k) : options.revalidate !== false;\n            if (revalidate) {\n                // Invalidate the key by deleting the concurrent request markers so new\n                // requests will not be deduped.\n                delete FETCH[key];\n                delete PRELOAD[key];\n                if (revalidators && revalidators[0]) {\n                    return revalidators[0](revalidateEvents.MUTATE_EVENT).then(()=>get().data);\n                }\n            }\n            return get().data;\n        };\n        // If there is no new data provided, revalidate the key with current state.\n        if (args.length < 3) {\n            // Revalidate and broadcast state.\n            return startRevalidate();\n        }\n        let data = _data;\n        let error;\n        let isError = false;\n        // Update global timestamps.\n        const beforeMutationTs = getTimestamp();\n        MUTATION[key] = [\n            beforeMutationTs,\n            0\n        ];\n        const hasOptimisticData = !isUndefined(optimisticData);\n        const state = get();\n        // `displayedData` is the current value on screen. It could be the optimistic value\n        // that is going to be overridden by a `committedData`, or get reverted back.\n        // `committedData` is the validated value that comes from a fetch or mutation.\n        const displayedData = state.data;\n        const currentData = state._c;\n        const committedData = isUndefined(currentData) ? displayedData : currentData;\n        // Do optimistic data update.\n        if (hasOptimisticData) {\n            optimisticData = isFunction(optimisticData) ? optimisticData(committedData, displayedData) : optimisticData;\n            // When we set optimistic data, backup the current committedData data in `_c`.\n            set({\n                data: optimisticData,\n                _c: committedData\n            });\n        }\n        if (isFunction(data)) {\n            // `data` is a function, call it passing current cache value.\n            try {\n                data = data(committedData);\n            } catch (err) {\n                // If it throws an error synchronously, we shouldn't update the cache.\n                error = err;\n                isError = true;\n            }\n        }\n        // `data` is a promise/thenable, resolve the final data first.\n        if (data && isPromiseLike(data)) {\n            // This means that the mutation is async, we need to check timestamps to\n            // avoid race conditions.\n            data = await data.catch((err)=>{\n                error = err;\n                isError = true;\n            });\n            // Check if other mutations have occurred since we've started this mutation.\n            // If there's a race we don't update cache or broadcast the change,\n            // just return the data.\n            if (beforeMutationTs !== MUTATION[key][0]) {\n                if (isError) throw error;\n                return data;\n            } else if (isError && hasOptimisticData && rollbackOnError(error)) {\n                // Rollback. Always populate the cache in this case but without\n                // transforming the data.\n                populateCache = true;\n                // Reset data to be the latest committed data, and clear the `_c` value.\n                set({\n                    data: committedData,\n                    _c: UNDEFINED\n                });\n            }\n        }\n        // If we should write back the cache after request.\n        if (populateCache) {\n            if (!isError) {\n                // Transform the result into data.\n                if (isFunction(populateCache)) {\n                    const populateCachedData = populateCache(data, committedData);\n                    set({\n                        data: populateCachedData,\n                        error: UNDEFINED,\n                        _c: UNDEFINED\n                    });\n                } else {\n                    // Only update cached data and reset the error if there's no error. Data can be `undefined` here.\n                    set({\n                        data,\n                        error: UNDEFINED,\n                        _c: UNDEFINED\n                    });\n                }\n            }\n        }\n        // Reset the timestamp to mark the mutation has ended.\n        MUTATION[key][1] = getTimestamp();\n        // Update existing SWR Hooks' internal states:\n        Promise.resolve(startRevalidate()).then(()=>{\n            // The mutation and revalidation are ended, we can clear it since the data is\n            // not an optimistic value anymore.\n            set({\n                _c: UNDEFINED\n            });\n        });\n        // Throw error or return data\n        if (isError) {\n            if (throwOnError) throw error;\n            return;\n        }\n        return data;\n    }\n}\n\nconst revalidateAllKeys = (revalidators, type)=>{\n    for(const key in revalidators){\n        if (revalidators[key][0]) revalidators[key][0](type);\n    }\n};\nconst initCache = (provider, options)=>{\n    // The global state for a specific provider will be used to deduplicate\n    // requests and store listeners. As well as a mutate function that is bound to\n    // the cache.\n    // The provider's global state might be already initialized. Let's try to get the\n    // global state associated with the provider first.\n    if (!SWRGlobalState.has(provider)) {\n        const opts = mergeObjects(defaultConfigOptions, options);\n        // If there's no global state bound to the provider, create a new one with the\n        // new mutate function.\n        const EVENT_REVALIDATORS = Object.create(null);\n        const mutate = internalMutate.bind(UNDEFINED, provider);\n        let unmount = noop;\n        const subscriptions = Object.create(null);\n        const subscribe = (key, callback)=>{\n            const subs = subscriptions[key] || [];\n            subscriptions[key] = subs;\n            subs.push(callback);\n            return ()=>subs.splice(subs.indexOf(callback), 1);\n        };\n        const setter = (key, value, prev)=>{\n            provider.set(key, value);\n            const subs = subscriptions[key];\n            if (subs) {\n                for (const fn of subs){\n                    fn(value, prev);\n                }\n            }\n        };\n        const initProvider = ()=>{\n            if (!SWRGlobalState.has(provider)) {\n                // Update the state if it's new, or if the provider has been extended.\n                SWRGlobalState.set(provider, [\n                    EVENT_REVALIDATORS,\n                    Object.create(null),\n                    Object.create(null),\n                    Object.create(null),\n                    mutate,\n                    setter,\n                    subscribe\n                ]);\n                if (!IS_SERVER) {\n                    // When listening to the native events for auto revalidations,\n                    // we intentionally put a delay (setTimeout) here to make sure they are\n                    // fired after immediate JavaScript executions, which can be\n                    // React's state updates.\n                    // This avoids some unnecessary revalidations such as\n                    // https://github.com/vercel/swr/issues/1680.\n                    const releaseFocus = opts.initFocus(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, revalidateEvents.FOCUS_EVENT)));\n                    const releaseReconnect = opts.initReconnect(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, revalidateEvents.RECONNECT_EVENT)));\n                    unmount = ()=>{\n                        releaseFocus && releaseFocus();\n                        releaseReconnect && releaseReconnect();\n                        // When un-mounting, we need to remove the cache provider from the state\n                        // storage too because it's a side-effect. Otherwise, when re-mounting we\n                        // will not re-register those event listeners.\n                        SWRGlobalState.delete(provider);\n                    };\n                }\n            }\n        };\n        initProvider();\n        // This is a new provider, we need to initialize it and setup DOM events\n        // listeners for `focus` and `reconnect` actions.\n        // We might want to inject an extra layer on top of `provider` in the future,\n        // such as key serialization, auto GC, etc.\n        // For now, it's just a `Map` interface without any modifications.\n        return [\n            provider,\n            mutate,\n            initProvider,\n            unmount\n        ];\n    }\n    return [\n        provider,\n        SWRGlobalState.get(provider)[4]\n    ];\n};\n\n// error retry\nconst onErrorRetry = (_, __, config, revalidate, opts)=>{\n    const maxRetryCount = config.errorRetryCount;\n    const currentRetryCount = opts.retryCount;\n    // Exponential backoff\n    const timeout = ~~((Math.random() + 0.5) * (1 << (currentRetryCount < 8 ? currentRetryCount : 8))) * config.errorRetryInterval;\n    if (!isUndefined(maxRetryCount) && currentRetryCount > maxRetryCount) {\n        return;\n    }\n    setTimeout(revalidate, timeout, opts);\n};\nconst compare = dequal;\n// Default cache provider\nconst [cache, mutate] = initCache(new Map());\n// Default config\nconst defaultConfig = mergeObjects({\n    // events\n    onLoadingSlow: noop,\n    onSuccess: noop,\n    onError: noop,\n    onErrorRetry,\n    onDiscarded: noop,\n    // switches\n    revalidateOnFocus: true,\n    revalidateOnReconnect: true,\n    revalidateIfStale: true,\n    shouldRetryOnError: true,\n    // timeouts\n    errorRetryInterval: slowConnection ? 10000 : 5000,\n    focusThrottleInterval: 5 * 1000,\n    dedupingInterval: 2 * 1000,\n    loadingTimeout: slowConnection ? 5000 : 3000,\n    // providers\n    compare,\n    isPaused: ()=>false,\n    cache,\n    mutate,\n    fallback: {}\n}, // use web preset by default\npreset);\n\nconst mergeConfigs = (a, b)=>{\n    // Need to create a new object to avoid mutating the original here.\n    const v = mergeObjects(a, b);\n    // If two configs are provided, merge their `use` and `fallback` options.\n    if (b) {\n        const { use: u1, fallback: f1 } = a;\n        const { use: u2, fallback: f2 } = b;\n        if (u1 && u2) {\n            v.use = u1.concat(u2);\n        }\n        if (f1 && f2) {\n            v.fallback = mergeObjects(f1, f2);\n        }\n    }\n    return v;\n};\n\nconst SWRConfigContext = createContext({});\nconst SWRConfig = (props)=>{\n    const { value } = props;\n    const parentConfig = useContext(SWRConfigContext);\n    const isFunctionalConfig = isFunction(value);\n    const config = useMemo(()=>isFunctionalConfig ? value(parentConfig) : value, [\n        isFunctionalConfig,\n        parentConfig,\n        value\n    ]);\n    // Extend parent context values and middleware.\n    const extendedConfig = useMemo(()=>isFunctionalConfig ? config : mergeConfigs(parentConfig, config), [\n        isFunctionalConfig,\n        parentConfig,\n        config\n    ]);\n    // Should not use the inherited provider.\n    const provider = config && config.provider;\n    // initialize the cache only on first access.\n    const cacheContextRef = useRef(UNDEFINED);\n    if (provider && !cacheContextRef.current) {\n        cacheContextRef.current = initCache(provider(extendedConfig.cache || cache), config);\n    }\n    const cacheContext = cacheContextRef.current;\n    // Override the cache if a new provider is given.\n    if (cacheContext) {\n        extendedConfig.cache = cacheContext[0];\n        extendedConfig.mutate = cacheContext[1];\n    }\n    // Unsubscribe events.\n    useIsomorphicLayoutEffect(()=>{\n        if (cacheContext) {\n            cacheContext[2] && cacheContext[2]();\n            return cacheContext[3];\n        }\n    }, []);\n    return createElement(SWRConfigContext.Provider, mergeObjects(props, {\n        value: extendedConfig\n    }));\n};\n\nexport { noop as A, isPromiseLike as B, IS_REACT_LEGACY as I, OBJECT as O, SWRConfigContext as S, UNDEFINED as U, isFunction as a, SWRGlobalState as b, cache as c, defaultConfig as d, isUndefined as e, mergeConfigs as f, SWRConfig as g, initCache as h, isWindowDefined as i, mutate as j, compare as k, stableHash as l, mergeObjects as m, internalMutate as n, getTimestamp as o, preset as p, defaultConfigOptions as q, IS_SERVER as r, serialize as s, rAF as t, useIsomorphicLayoutEffect as u, slowConnection as v, isDocumentDefined as w, isLegacyDeno as x, hasRequestAnimationFrame as y, createCacheHelper as z };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7052, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/swr%402.3.6_react%4019.2.0/node_modules/swr/dist/_internal/constants.mjs"],"sourcesContent":["const INFINITE_PREFIX = '$inf$';\n\nexport { INFINITE_PREFIX };\n"],"names":[],"mappings":";;;;AAAA,MAAM,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7062, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/swr%402.3.6_react%4019.2.0/node_modules/swr/dist/_internal/index.mjs"],"sourcesContent":["import { i as isWindowDefined, a as isFunction, S as SWRConfigContext, m as mergeObjects, d as defaultConfig, s as serialize, b as SWRGlobalState, c as cache, e as isUndefined, f as mergeConfigs } from './config-context-client-BoS53ST9.mjs';\nexport { I as IS_REACT_LEGACY, r as IS_SERVER, O as OBJECT, g as SWRConfig, U as UNDEFINED, k as compare, z as createCacheHelper, q as defaultConfigOptions, o as getTimestamp, y as hasRequestAnimationFrame, h as initCache, n as internalMutate, w as isDocumentDefined, x as isLegacyDeno, B as isPromiseLike, j as mutate, A as noop, p as preset, t as rAF, v as slowConnection, l as stableHash, u as useIsomorphicLayoutEffect } from './config-context-client-BoS53ST9.mjs';\nimport * as revalidateEvents from './events.mjs';\nexport { revalidateEvents };\nimport { INFINITE_PREFIX } from './constants.mjs';\nexport { INFINITE_PREFIX } from './constants.mjs';\nimport React, { useContext, useMemo } from 'react';\nexport * from './types.mjs';\n\n// @ts-expect-error\nconst enableDevtools = isWindowDefined && window.__SWR_DEVTOOLS_USE__;\nconst use = enableDevtools ? window.__SWR_DEVTOOLS_USE__ : [];\nconst setupDevTools = ()=>{\n    if (enableDevtools) {\n        // @ts-expect-error\n        window.__SWR_DEVTOOLS_REACT__ = React;\n    }\n};\n\nconst normalize = (args)=>{\n    return isFunction(args[1]) ? [\n        args[0],\n        args[1],\n        args[2] || {}\n    ] : [\n        args[0],\n        null,\n        (args[1] === null ? args[2] : args[1]) || {}\n    ];\n};\n\nconst useSWRConfig = ()=>{\n    const parentConfig = useContext(SWRConfigContext);\n    const mergedConfig = useMemo(()=>mergeObjects(defaultConfig, parentConfig), [\n        parentConfig\n    ]);\n    return mergedConfig;\n};\n\nconst preload = (key_, fetcher)=>{\n    const [key, fnArg] = serialize(key_);\n    const [, , , PRELOAD] = SWRGlobalState.get(cache);\n    // Prevent preload to be called multiple times before used.\n    if (PRELOAD[key]) return PRELOAD[key];\n    const req = fetcher(fnArg);\n    PRELOAD[key] = req;\n    return req;\n};\nconst middleware = (useSWRNext)=>(key_, fetcher_, config)=>{\n        // fetcher might be a sync function, so this should not be an async function\n        const fetcher = fetcher_ && ((...args)=>{\n            const [key] = serialize(key_);\n            const [, , , PRELOAD] = SWRGlobalState.get(cache);\n            if (key.startsWith(INFINITE_PREFIX)) {\n                // we want the infinite fetcher to be called.\n                // handling of the PRELOAD cache happens there.\n                return fetcher_(...args);\n            }\n            const req = PRELOAD[key];\n            if (isUndefined(req)) return fetcher_(...args);\n            delete PRELOAD[key];\n            return req;\n        });\n        return useSWRNext(key_, fetcher, config);\n    };\n\nconst BUILT_IN_MIDDLEWARE = use.concat(middleware);\n\n// It's tricky to pass generic types as parameters, so we just directly override\n// the types here.\nconst withArgs = (hook)=>{\n    return function useSWRArgs(...args) {\n        // Get the default and inherited configuration.\n        const fallbackConfig = useSWRConfig();\n        // Normalize arguments.\n        const [key, fn, _config] = normalize(args);\n        // Merge configurations.\n        const config = mergeConfigs(fallbackConfig, _config);\n        // Apply middleware\n        let next = hook;\n        const { use } = config;\n        const middleware = (use || []).concat(BUILT_IN_MIDDLEWARE);\n        for(let i = middleware.length; i--;){\n            next = middleware[i](next);\n        }\n        return next(key, fn || config.fetcher || null, config);\n    };\n};\n\n// Add a callback function to a list of keyed callback functions and return\n// the unsubscribe function.\nconst subscribeCallback = (key, callbacks, callback)=>{\n    const keyedRevalidators = callbacks[key] || (callbacks[key] = []);\n    keyedRevalidators.push(callback);\n    return ()=>{\n        const index = keyedRevalidators.indexOf(callback);\n        if (index >= 0) {\n            // O(1): faster than splice\n            keyedRevalidators[index] = keyedRevalidators[keyedRevalidators.length - 1];\n            keyedRevalidators.pop();\n        }\n    };\n};\n\n// Create a custom hook with a middleware\nconst withMiddleware = (useSWR, middleware)=>{\n    return (...args)=>{\n        const [key, fn, config] = normalize(args);\n        const uses = (config.use || []).concat(middleware);\n        return useSWR(key, fn, {\n            ...config,\n            use: uses\n        });\n    };\n};\n\nsetupDevTools();\n\nexport { SWRGlobalState, cache, defaultConfig, isFunction, isUndefined, isWindowDefined, mergeConfigs, mergeObjects, normalize, preload, serialize, subscribeCallback, useSWRConfig, withArgs, withMiddleware };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7330, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/swr%402.3.6_react%4019.2.0/node_modules/swr/dist/index/index.mjs"],"sourcesContent":["import React, { useRef, useMemo, useCallback, useDebugValue } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim/index.js';\nimport { UNDEFINED as UNDEFINED$1, OBJECT as OBJECT$1, SWRConfig as SWRConfig$1, defaultConfig, withArgs, SWRGlobalState, serialize as serialize$1, createCacheHelper, isUndefined as isUndefined$1, isPromiseLike, getTimestamp, isFunction as isFunction$1, revalidateEvents, internalMutate, useIsomorphicLayoutEffect, subscribeCallback, IS_SERVER, rAF, IS_REACT_LEGACY, mergeObjects } from '../_internal/index.mjs';\nexport { mutate, preload, useSWRConfig } from '../_internal/index.mjs';\n\n// Shared state between server components and client components\nconst noop = ()=>{};\n// Using noop() as the undefined value as undefined can be replaced\n// by something else. Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nconst UNDEFINED = /*#__NOINLINE__*/ noop();\nconst OBJECT = Object;\nconst isUndefined = (v)=>v === UNDEFINED;\nconst isFunction = (v)=>typeof v == 'function';\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nconst table = new WeakMap();\nconst getTypeName = (value)=>OBJECT.prototype.toString.call(value);\nconst isObjectTypeName = (typeName, type)=>typeName === `[object ${type}]`;\n// counter of the key\nlet counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsable.\nconst stableHash = (arg)=>{\n    const type = typeof arg;\n    const typeName = getTypeName(arg);\n    const isDate = isObjectTypeName(typeName, 'Date');\n    const isRegex = isObjectTypeName(typeName, 'RegExp');\n    const isPlainObject = isObjectTypeName(typeName, 'Object');\n    let result;\n    let index;\n    if (OBJECT(arg) === arg && !isDate && !isRegex) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result) return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (Array.isArray(arg)) {\n            // Array.\n            result = '@';\n            for(index = 0; index < arg.length; index++){\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (isPlainObject) {\n            // Object, sort keys.\n            result = '#';\n            const keys = OBJECT.keys(arg).sort();\n            while(!isUndefined(index = keys.pop())){\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    } else {\n        result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;\n    }\n    return result;\n};\n\nconst serialize = (key)=>{\n    if (isFunction(key)) {\n        try {\n            key = key();\n        } catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    // Use the original key as the argument of fetcher. This can be a string or an\n    // array of values.\n    const args = key;\n    // If key is not falsy, or not an empty array, hash it.\n    key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';\n    return [\n        key,\n        args\n    ];\n};\n\nconst unstable_serialize = (key)=>serialize(key)[0];\n\n/// <reference types=\"react/experimental\" />\nconst use = React.use || // This extra generic is to avoid TypeScript mixing up the generic and JSX sytax\n// and emitting an error.\n// We assume that this is only for the `use(thenable)` case, not `use(context)`.\n// https://github.com/facebook/react/blob/aed00dacfb79d17c53218404c52b1c7aa59c4a89/packages/react-server/src/ReactFizzThenable.js#L45\n((thenable)=>{\n    switch(thenable.status){\n        case 'pending':\n            throw thenable;\n        case 'fulfilled':\n            return thenable.value;\n        case 'rejected':\n            throw thenable.reason;\n        default:\n            thenable.status = 'pending';\n            thenable.then((v)=>{\n                thenable.status = 'fulfilled';\n                thenable.value = v;\n            }, (e)=>{\n                thenable.status = 'rejected';\n                thenable.reason = e;\n            });\n            throw thenable;\n    }\n});\nconst WITH_DEDUPE = {\n    dedupe: true\n};\nconst resolvedUndef = Promise.resolve(UNDEFINED$1);\nconst useSWRHandler = (_key, fetcher, config)=>{\n    const { cache, compare, suspense, fallbackData, revalidateOnMount, revalidateIfStale, refreshInterval, refreshWhenHidden, refreshWhenOffline, keepPreviousData } = config;\n    const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);\n    // `key` is the identifier of the SWR internal state,\n    // `fnArg` is the argument/arguments parsed from the key, which will be passed\n    // to the fetcher.\n    // All of them are derived from `_key`.\n    const [key, fnArg] = serialize$1(_key);\n    // If it's the initial render of this hook.\n    const initialMountedRef = useRef(false);\n    // If the hook is unmounted already. This will be used to prevent some effects\n    // to be called after unmounting.\n    const unmountedRef = useRef(false);\n    // Refs to keep the key and config.\n    const keyRef = useRef(key);\n    const fetcherRef = useRef(fetcher);\n    const configRef = useRef(config);\n    const getConfig = ()=>configRef.current;\n    const isActive = ()=>getConfig().isVisible() && getConfig().isOnline();\n    const [getCache, setCache, subscribeCache, getInitialCache] = createCacheHelper(cache, key);\n    const stateDependencies = useRef({}).current;\n    // Resolve the fallback data from either the inline option, or the global provider.\n    // If it's a promise, we simply let React suspend and resolve it for us.\n    const fallback = isUndefined$1(fallbackData) ? isUndefined$1(config.fallback) ? UNDEFINED$1 : config.fallback[key] : fallbackData;\n    const isEqual = (prev, current)=>{\n        for(const _ in stateDependencies){\n            const t = _;\n            if (t === 'data') {\n                if (!compare(prev[t], current[t])) {\n                    if (!isUndefined$1(prev[t])) {\n                        return false;\n                    }\n                    if (!compare(returnedData, current[t])) {\n                        return false;\n                    }\n                }\n            } else {\n                if (current[t] !== prev[t]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getSnapshot = useMemo(()=>{\n        const shouldStartRequest = (()=>{\n            if (!key) return false;\n            if (!fetcher) return false;\n            // If `revalidateOnMount` is set, we take the value directly.\n            if (!isUndefined$1(revalidateOnMount)) return revalidateOnMount;\n            // If it's paused, we skip revalidation.\n            if (getConfig().isPaused()) return false;\n            if (suspense) return false;\n            return revalidateIfStale !== false;\n        })();\n        // Get the cache and merge it with expected states.\n        const getSelectedCache = (state)=>{\n            // We only select the needed fields from the state.\n            const snapshot = mergeObjects(state);\n            delete snapshot._k;\n            if (!shouldStartRequest) {\n                return snapshot;\n            }\n            return {\n                isValidating: true,\n                isLoading: true,\n                ...snapshot\n            };\n        };\n        const cachedData = getCache();\n        const initialData = getInitialCache();\n        const clientSnapshot = getSelectedCache(cachedData);\n        const serverSnapshot = cachedData === initialData ? clientSnapshot : getSelectedCache(initialData);\n        // To make sure that we are returning the same object reference to avoid\n        // unnecessary re-renders, we keep the previous snapshot and use deep\n        // comparison to check if we need to return a new one.\n        let memorizedSnapshot = clientSnapshot;\n        return [\n            ()=>{\n                const newSnapshot = getSelectedCache(getCache());\n                const compareResult = isEqual(newSnapshot, memorizedSnapshot);\n                if (compareResult) {\n                    // Mentally, we should always return the `memorizedSnapshot` here\n                    // as there's no change between the new and old snapshots.\n                    // However, since the `isEqual` function only compares selected fields,\n                    // the values of the unselected fields might be changed. That's\n                    // simply because we didn't track them.\n                    // To support the case in https://github.com/vercel/swr/pull/2576,\n                    // we need to update these fields in the `memorizedSnapshot` too\n                    // with direct mutations to ensure the snapshot is always up-to-date\n                    // even for the unselected fields, but only trigger re-renders when\n                    // the selected fields are changed.\n                    memorizedSnapshot.data = newSnapshot.data;\n                    memorizedSnapshot.isLoading = newSnapshot.isLoading;\n                    memorizedSnapshot.isValidating = newSnapshot.isValidating;\n                    memorizedSnapshot.error = newSnapshot.error;\n                    return memorizedSnapshot;\n                } else {\n                    memorizedSnapshot = newSnapshot;\n                    return newSnapshot;\n                }\n            },\n            ()=>serverSnapshot\n        ];\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        cache,\n        key\n    ]);\n    // Get the current state that SWR should return.\n    const cached = useSyncExternalStore(useCallback((callback)=>subscribeCache(key, (current, prev)=>{\n            if (!isEqual(prev, current)) callback();\n        }), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        cache,\n        key\n    ]), getSnapshot[0], getSnapshot[1]);\n    const isInitialMount = !initialMountedRef.current;\n    const hasRevalidator = EVENT_REVALIDATORS[key] && EVENT_REVALIDATORS[key].length > 0;\n    const cachedData = cached.data;\n    const data = isUndefined$1(cachedData) ? fallback && isPromiseLike(fallback) ? use(fallback) : fallback : cachedData;\n    const error = cached.error;\n    // Use a ref to store previously returned data. Use the initial data as its initial value.\n    const laggyDataRef = useRef(data);\n    const returnedData = keepPreviousData ? isUndefined$1(cachedData) ? isUndefined$1(laggyDataRef.current) ? data : laggyDataRef.current : cachedData : data;\n    // - Suspense mode and there's stale data for the initial render.\n    // - Not suspense mode and there is no fallback data and `revalidateIfStale` is enabled.\n    // - `revalidateIfStale` is enabled but `data` is not defined.\n    const shouldDoInitialRevalidation = (()=>{\n        // if a key already has revalidators and also has error, we should not trigger revalidation\n        if (hasRevalidator && !isUndefined$1(error)) return false;\n        // If `revalidateOnMount` is set, we take the value directly.\n        if (isInitialMount && !isUndefined$1(revalidateOnMount)) return revalidateOnMount;\n        // If it's paused, we skip revalidation.\n        if (getConfig().isPaused()) return false;\n        // Under suspense mode, it will always fetch on render if there is no\n        // stale data so no need to revalidate immediately mount it again.\n        // If data exists, only revalidate if `revalidateIfStale` is true.\n        if (suspense) return isUndefined$1(data) ? false : revalidateIfStale;\n        // If there is no stale data, we need to revalidate when mount;\n        // If `revalidateIfStale` is set to true, we will always revalidate.\n        return isUndefined$1(data) || revalidateIfStale;\n    })();\n    // Resolve the default validating state:\n    // If it's able to validate, and it should revalidate when mount, this will be true.\n    const defaultValidatingState = !!(key && fetcher && isInitialMount && shouldDoInitialRevalidation);\n    const isValidating = isUndefined$1(cached.isValidating) ? defaultValidatingState : cached.isValidating;\n    const isLoading = isUndefined$1(cached.isLoading) ? defaultValidatingState : cached.isLoading;\n    // The revalidation function is a carefully crafted wrapper of the original\n    // `fetcher`, to correctly handle the many edge cases.\n    const revalidate = useCallback(async (revalidateOpts)=>{\n        const currentFetcher = fetcherRef.current;\n        if (!key || !currentFetcher || unmountedRef.current || getConfig().isPaused()) {\n            return false;\n        }\n        let newData;\n        let startAt;\n        let loading = true;\n        const opts = revalidateOpts || {};\n        // If there is no ongoing concurrent request, or `dedupe` is not set, a\n        // new request should be initiated.\n        const shouldStartNewRequest = !FETCH[key] || !opts.dedupe;\n        /*\n         For React 17\n         Do unmount check for calls:\n         If key has changed during the revalidation, or the component has been\n         unmounted, old dispatch and old event callbacks should not take any\n         effect\n\n        For React 18\n        only check if key has changed\n        https://github.com/reactwg/react-18/discussions/82\n      */ const callbackSafeguard = ()=>{\n            if (IS_REACT_LEGACY) {\n                return !unmountedRef.current && key === keyRef.current && initialMountedRef.current;\n            }\n            return key === keyRef.current;\n        };\n        // The final state object when the request finishes.\n        const finalState = {\n            isValidating: false,\n            isLoading: false\n        };\n        const finishRequestAndUpdateState = ()=>{\n            setCache(finalState);\n        };\n        const cleanupState = ()=>{\n            // Check if it's still the same request before deleting it.\n            const requestInfo = FETCH[key];\n            if (requestInfo && requestInfo[1] === startAt) {\n                delete FETCH[key];\n            }\n        };\n        // Start fetching. Change the `isValidating` state, update the cache.\n        const initialState = {\n            isValidating: true\n        };\n        // It is in the `isLoading` state, if and only if there is no cached data.\n        // This bypasses fallback data and laggy data.\n        if (isUndefined$1(getCache().data)) {\n            initialState.isLoading = true;\n        }\n        try {\n            if (shouldStartNewRequest) {\n                setCache(initialState);\n                // If no cache is being rendered currently (it shows a blank page),\n                // we trigger the loading slow event.\n                if (config.loadingTimeout && isUndefined$1(getCache().data)) {\n                    setTimeout(()=>{\n                        if (loading && callbackSafeguard()) {\n                            getConfig().onLoadingSlow(key, config);\n                        }\n                    }, config.loadingTimeout);\n                }\n                // Start the request and save the timestamp.\n                // Key must be truthy if entering here.\n                FETCH[key] = [\n                    currentFetcher(fnArg),\n                    getTimestamp()\n                ];\n            }\n            // Wait until the ongoing request is done. Deduplication is also\n            // considered here.\n            ;\n            [newData, startAt] = FETCH[key];\n            newData = await newData;\n            if (shouldStartNewRequest) {\n                // If the request isn't interrupted, clean it up after the\n                // deduplication interval.\n                setTimeout(cleanupState, config.dedupingInterval);\n            }\n            // If there're other ongoing request(s), started after the current one,\n            // we need to ignore the current one to avoid possible race conditions:\n            //   req1------------------>res1        (current one)\n            //        req2---------------->res2\n            // the request that fired later will always be kept.\n            // The timestamp maybe be `undefined` or a number\n            if (!FETCH[key] || FETCH[key][1] !== startAt) {\n                if (shouldStartNewRequest) {\n                    if (callbackSafeguard()) {\n                        getConfig().onDiscarded(key);\n                    }\n                }\n                return false;\n            }\n            // Clear error.\n            finalState.error = UNDEFINED$1;\n            // If there're other mutations(s), that overlapped with the current revalidation:\n            // case 1:\n            //   req------------------>res\n            //       mutate------>end\n            // case 2:\n            //         req------------>res\n            //   mutate------>end\n            // case 3:\n            //   req------------------>res\n            //       mutate-------...---------->\n            // we have to ignore the revalidation result (res) because it's no longer fresh.\n            // meanwhile, a new revalidation should be triggered when the mutation ends.\n            const mutationInfo = MUTATION[key];\n            if (!isUndefined$1(mutationInfo) && // case 1\n            (startAt <= mutationInfo[0] || // case 2\n            startAt <= mutationInfo[1] || // case 3\n            mutationInfo[1] === 0)) {\n                finishRequestAndUpdateState();\n                if (shouldStartNewRequest) {\n                    if (callbackSafeguard()) {\n                        getConfig().onDiscarded(key);\n                    }\n                }\n                return false;\n            }\n            // Deep compare with the latest state to avoid extra re-renders.\n            // For local state, compare and assign.\n            const cacheData = getCache().data;\n            // Since the compare fn could be custom fn\n            // cacheData might be different from newData even when compare fn returns True\n            finalState.data = compare(cacheData, newData) ? cacheData : newData;\n            // Trigger the successful callback if it's the original request.\n            if (shouldStartNewRequest) {\n                if (callbackSafeguard()) {\n                    getConfig().onSuccess(newData, key, config);\n                }\n            }\n        } catch (err) {\n            cleanupState();\n            const currentConfig = getConfig();\n            const { shouldRetryOnError } = currentConfig;\n            // Not paused, we continue handling the error. Otherwise, discard it.\n            if (!currentConfig.isPaused()) {\n                // Get a new error, don't use deep comparison for errors.\n                finalState.error = err;\n                // Error event and retry logic. Only for the actual request, not\n                // deduped ones.\n                if (shouldStartNewRequest && callbackSafeguard()) {\n                    currentConfig.onError(err, key, currentConfig);\n                    if (shouldRetryOnError === true || isFunction$1(shouldRetryOnError) && shouldRetryOnError(err)) {\n                        if (!getConfig().revalidateOnFocus || !getConfig().revalidateOnReconnect || isActive()) {\n                            // If it's inactive, stop. It will auto-revalidate when\n                            // refocusing or reconnecting.\n                            // When retrying, deduplication is always enabled.\n                            currentConfig.onErrorRetry(err, key, currentConfig, (_opts)=>{\n                                const revalidators = EVENT_REVALIDATORS[key];\n                                if (revalidators && revalidators[0]) {\n                                    revalidators[0](revalidateEvents.ERROR_REVALIDATE_EVENT, _opts);\n                                }\n                            }, {\n                                retryCount: (opts.retryCount || 0) + 1,\n                                dedupe: true\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        // Mark loading as stopped.\n        loading = false;\n        // Update the current hook's state.\n        finishRequestAndUpdateState();\n        return true;\n    }, // `setState` is immutable, and `eventsCallback`, `fnArg`, and\n    // `keyValidating` are depending on `key`, so we can exclude them from\n    // the deps array.\n    //\n    // FIXME:\n    // `fn` and `config` might be changed during the lifecycle,\n    // but they might be changed every render like this.\n    // `useSWR('key', () => fetch('/api/'), { suspense: true })`\n    // So we omit the values from the deps array\n    // even though it might cause unexpected behaviors.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        key,\n        cache\n    ]);\n    // Similar to the global mutate but bound to the current cache and key.\n    // `cache` isn't allowed to change during the lifecycle.\n    const boundMutate = useCallback(// Use callback to make sure `keyRef.current` returns latest result every time\n    (...args)=>{\n        return internalMutate(cache, keyRef.current, ...args);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // The logic for updating refs.\n    useIsomorphicLayoutEffect(()=>{\n        fetcherRef.current = fetcher;\n        configRef.current = config;\n        // Handle laggy data updates. If there's cached data of the current key,\n        // it'll be the correct reference.\n        if (!isUndefined$1(cachedData)) {\n            laggyDataRef.current = cachedData;\n        }\n    });\n    // After mounted or key changed.\n    useIsomorphicLayoutEffect(()=>{\n        if (!key) return;\n        const softRevalidate = revalidate.bind(UNDEFINED$1, WITH_DEDUPE);\n        let nextFocusRevalidatedAt = 0;\n        if (getConfig().revalidateOnFocus) {\n            const initNow = Date.now();\n            nextFocusRevalidatedAt = initNow + getConfig().focusThrottleInterval;\n        }\n        // Expose revalidators to global event listeners. So we can trigger\n        // revalidation from the outside.\n        const onRevalidate = (type, opts = {})=>{\n            if (type == revalidateEvents.FOCUS_EVENT) {\n                const now = Date.now();\n                if (getConfig().revalidateOnFocus && now > nextFocusRevalidatedAt && isActive()) {\n                    nextFocusRevalidatedAt = now + getConfig().focusThrottleInterval;\n                    softRevalidate();\n                }\n            } else if (type == revalidateEvents.RECONNECT_EVENT) {\n                if (getConfig().revalidateOnReconnect && isActive()) {\n                    softRevalidate();\n                }\n            } else if (type == revalidateEvents.MUTATE_EVENT) {\n                return revalidate();\n            } else if (type == revalidateEvents.ERROR_REVALIDATE_EVENT) {\n                return revalidate(opts);\n            }\n            return;\n        };\n        const unsubEvents = subscribeCallback(key, EVENT_REVALIDATORS, onRevalidate);\n        // Mark the component as mounted and update corresponding refs.\n        unmountedRef.current = false;\n        keyRef.current = key;\n        initialMountedRef.current = true;\n        // Keep the original key in the cache.\n        setCache({\n            _k: fnArg\n        });\n        // Trigger a revalidation\n        if (shouldDoInitialRevalidation) {\n            // Performance optimization: if a request is already in progress for this key,\n            // skip the revalidation to avoid redundant work\n            if (!FETCH[key]) {\n                if (isUndefined$1(data) || IS_SERVER) {\n                    // Revalidate immediately.\n                    softRevalidate();\n                } else {\n                    // Delay the revalidate if we have data to return so we won't block\n                    // rendering.\n                    rAF(softRevalidate);\n                }\n            }\n        }\n        return ()=>{\n            // Mark it as unmounted.\n            unmountedRef.current = true;\n            unsubEvents();\n        };\n    }, [\n        key\n    ]);\n    // Polling\n    useIsomorphicLayoutEffect(()=>{\n        let timer;\n        function next() {\n            // Use the passed interval\n            // ...or invoke the function with the updated data to get the interval\n            const interval = isFunction$1(refreshInterval) ? refreshInterval(getCache().data) : refreshInterval;\n            // We only start the next interval if `refreshInterval` is not 0, and:\n            // - `force` is true, which is the start of polling\n            // - or `timer` is not 0, which means the effect wasn't canceled\n            if (interval && timer !== -1) {\n                timer = setTimeout(execute, interval);\n            }\n        }\n        function execute() {\n            // Check if it's OK to execute:\n            // Only revalidate when the page is visible, online, and not errored.\n            if (!getCache().error && (refreshWhenHidden || getConfig().isVisible()) && (refreshWhenOffline || getConfig().isOnline())) {\n                revalidate(WITH_DEDUPE).then(next);\n            } else {\n                // Schedule the next interval to check again.\n                next();\n            }\n        }\n        next();\n        return ()=>{\n            if (timer) {\n                clearTimeout(timer);\n                timer = -1;\n            }\n        };\n    }, [\n        refreshInterval,\n        refreshWhenHidden,\n        refreshWhenOffline,\n        key\n    ]);\n    // Display debug info in React DevTools.\n    useDebugValue(returnedData);\n    // In Suspense mode, we can't return the empty `data` state.\n    // If there is an `error`, the `error` needs to be thrown to the error boundary.\n    // If there is no `error`, the `revalidation` promise needs to be thrown to\n    // the suspense boundary.\n    if (suspense) {\n        const hasKeyButNoData = key && isUndefined$1(data);\n        // SWR should throw when trying to use Suspense on the server with React 18,\n        // without providing any fallback data. This causes hydration errors. See:\n        // https://github.com/vercel/swr/issues/1832\n        if (!IS_REACT_LEGACY && IS_SERVER && hasKeyButNoData) {\n            throw new Error('Fallback data is required when using Suspense in SSR.');\n        }\n        // Always update fetcher and config refs even with the Suspense mode.\n        if (hasKeyButNoData) {\n            fetcherRef.current = fetcher;\n            configRef.current = config;\n            unmountedRef.current = false;\n        }\n        const req = PRELOAD[key];\n        const mutateReq = !isUndefined$1(req) && hasKeyButNoData ? boundMutate(req) : resolvedUndef;\n        use(mutateReq);\n        if (!isUndefined$1(error) && hasKeyButNoData) {\n            throw error;\n        }\n        const revalidation = hasKeyButNoData ? revalidate(WITH_DEDUPE) : resolvedUndef;\n        if (!isUndefined$1(returnedData) && hasKeyButNoData) {\n            // @ts-ignore modify react promise status\n            revalidation.status = 'fulfilled';\n            // @ts-ignore modify react promise value\n            revalidation.value = true;\n        }\n        use(revalidation);\n    }\n    const swrResponse = {\n        mutate: boundMutate,\n        get data () {\n            stateDependencies.data = true;\n            return returnedData;\n        },\n        get error () {\n            stateDependencies.error = true;\n            return error;\n        },\n        get isValidating () {\n            stateDependencies.isValidating = true;\n            return isValidating;\n        },\n        get isLoading () {\n            stateDependencies.isLoading = true;\n            return isLoading;\n        }\n    };\n    return swrResponse;\n};\nconst SWRConfig = OBJECT$1.defineProperty(SWRConfig$1, 'defaultValue', {\n    value: defaultConfig\n});\n/**\n * A hook to fetch data.\n *\n * @link https://swr.vercel.app\n * @example\n * ```jsx\n * import useSWR from 'swr'\n * function Profile() {\n *   const { data, error, isLoading } = useSWR('/api/user', fetcher)\n *   if (error) return <div>failed to load</div>\n *   if (isLoading) return <div>loading...</div>\n *   return <div>hello {data.name}!</div>\n * }\n * ```\n */ const useSWR = withArgs(useSWRHandler);\n\n// useSWR\n\nexport { SWRConfig, useSWR as default, unstable_serialize };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8050, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/dequal%402.0.3/node_modules/dequal/lite/index.mjs"],"sourcesContent":["var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n"],"names":[],"mappings":";;;;AAAA,IAAI,MAAM,OAAO,SAAS,CAAC,cAAc;AAElC,SAAS,OAAO,GAAG,EAAE,GAAG;IAC9B,IAAI,MAAM;IACV,IAAI,QAAQ,KAAK,OAAO;IAExB,IAAI,OAAO,OAAO,CAAC,OAAK,IAAI,WAAW,MAAM,IAAI,WAAW,EAAE;QAC7D,IAAI,SAAS,MAAM,OAAO,IAAI,OAAO,OAAO,IAAI,OAAO;QACvD,IAAI,SAAS,QAAQ,OAAO,IAAI,QAAQ,OAAO,IAAI,QAAQ;QAE3D,IAAI,SAAS,OAAO;YACnB,IAAI,CAAC,MAAI,IAAI,MAAM,MAAM,IAAI,MAAM,EAAE;gBACpC,MAAO,SAAS,OAAO,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI;YAC1C;YACA,OAAO,QAAQ,CAAC;QACjB;QAEA,IAAI,CAAC,QAAQ,OAAO,QAAQ,UAAU;YACrC,MAAM;YACN,IAAK,QAAQ,IAAK;gBACjB,IAAI,IAAI,IAAI,CAAC,KAAK,SAAS,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC,KAAK,OAAO,OAAO;gBACjE,IAAI,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,GAAG,OAAO;YAC7D;YACA,OAAO,OAAO,IAAI,CAAC,KAAK,MAAM,KAAK;QACpC;IACD;IAEA,OAAO,QAAQ,OAAO,QAAQ;AAC/B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8082, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Breact%402.0.89_react%4019.2.0_zod%404.1.12/node_modules/%40ai-sdk/react/src/use-chat.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Breact%402.0.89_react%4019.2.0_zod%404.1.12/node_modules/%40ai-sdk/react/src/chat.react.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Breact%402.0.89_react%4019.2.0_zod%404.1.12/node_modules/%40ai-sdk/react/src/throttle.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Breact%402.0.89_react%4019.2.0_zod%404.1.12/node_modules/%40ai-sdk/react/src/use-completion.ts","file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40ai-sdk%2Breact%402.0.89_react%4019.2.0_zod%404.1.12/node_modules/%40ai-sdk/react/src/use-object.ts"],"sourcesContent":["import {\n  AbstractChat,\n  ChatInit,\n  type CreateUIMessage,\n  type UIMessage,\n} from 'ai';\nimport { useCallback, useEffect, useRef, useSyncExternalStore } from 'react';\nimport { Chat } from './chat.react';\n\nexport type { CreateUIMessage, UIMessage };\n\nexport type UseChatHelpers<UI_MESSAGE extends UIMessage> = {\n  /**\n   * The id of the chat.\n   */\n  readonly id: string;\n\n  /**\n   * Update the `messages` state locally. This is useful when you want to\n   * edit the messages on the client, and then trigger the `reload` method\n   * manually to regenerate the AI response.\n   */\n  setMessages: (\n    messages: UI_MESSAGE[] | ((messages: UI_MESSAGE[]) => UI_MESSAGE[]),\n  ) => void;\n\n  error: Error | undefined;\n} & Pick<\n  AbstractChat<UI_MESSAGE>,\n  | 'sendMessage'\n  | 'regenerate'\n  | 'stop'\n  | 'resumeStream'\n  | 'addToolResult'\n  | 'addToolOutput'\n  | 'status'\n  | 'messages'\n  | 'clearError'\n>;\n\nexport type UseChatOptions<UI_MESSAGE extends UIMessage> = (\n  | { chat: Chat<UI_MESSAGE> }\n  | ChatInit<UI_MESSAGE>\n) & {\n  /**\nCustom throttle wait in ms for the chat messages and data updates.\nDefault is undefined, which disables throttling.\n   */\n  experimental_throttle?: number;\n\n  /**\n   * Whether to resume an ongoing chat generation stream.\n   */\n  resume?: boolean;\n};\n\nexport function useChat<UI_MESSAGE extends UIMessage = UIMessage>({\n  experimental_throttle: throttleWaitMs,\n  resume = false,\n  ...options\n}: UseChatOptions<UI_MESSAGE> = {}): UseChatHelpers<UI_MESSAGE> {\n  const chatRef = useRef<Chat<UI_MESSAGE>>(\n    'chat' in options ? options.chat : new Chat(options),\n  );\n\n  const shouldRecreateChat =\n    ('chat' in options && options.chat !== chatRef.current) ||\n    ('id' in options && chatRef.current.id !== options.id);\n\n  if (shouldRecreateChat) {\n    chatRef.current = 'chat' in options ? options.chat : new Chat(options);\n  }\n\n  const optionsId = 'id' in options ? options.id : null;\n\n  const subscribeToMessages = useCallback(\n    (update: () => void) =>\n      chatRef.current['~registerMessagesCallback'](update, throttleWaitMs),\n    // optionsId is required to trigger re-subscription when the chat ID changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [throttleWaitMs, optionsId],\n  );\n\n  const messages = useSyncExternalStore(\n    subscribeToMessages,\n    () => chatRef.current.messages,\n    () => chatRef.current.messages,\n  );\n\n  const status = useSyncExternalStore(\n    chatRef.current['~registerStatusCallback'],\n    () => chatRef.current.status,\n    () => chatRef.current.status,\n  );\n\n  const error = useSyncExternalStore(\n    chatRef.current['~registerErrorCallback'],\n    () => chatRef.current.error,\n    () => chatRef.current.error,\n  );\n\n  const setMessages = useCallback(\n    (\n      messagesParam: UI_MESSAGE[] | ((messages: UI_MESSAGE[]) => UI_MESSAGE[]),\n    ) => {\n      if (typeof messagesParam === 'function') {\n        messagesParam = messagesParam(chatRef.current.messages);\n      }\n      chatRef.current.messages = messagesParam;\n    },\n    [chatRef],\n  );\n\n  useEffect(() => {\n    if (resume) {\n      chatRef.current.resumeStream();\n    }\n  }, [resume, chatRef]);\n\n  return {\n    id: chatRef.current.id,\n    messages,\n    setMessages,\n    sendMessage: chatRef.current.sendMessage,\n    regenerate: chatRef.current.regenerate,\n    clearError: chatRef.current.clearError,\n    stop: chatRef.current.stop,\n    error,\n    resumeStream: chatRef.current.resumeStream,\n    status,\n    /**\n     * @deprecated Use `addToolOutput` instead.\n     */\n    addToolResult: chatRef.current.addToolOutput,\n    addToolOutput: chatRef.current.addToolOutput,\n  };\n}\n","import { AbstractChat, ChatInit, ChatState, ChatStatus, UIMessage } from 'ai';\nimport { throttle } from './throttle';\n\nclass ReactChatState<UI_MESSAGE extends UIMessage>\n  implements ChatState<UI_MESSAGE>\n{\n  #messages: UI_MESSAGE[];\n  #status: ChatStatus = 'ready';\n  #error: Error | undefined = undefined;\n\n  #messagesCallbacks = new Set<() => void>();\n  #statusCallbacks = new Set<() => void>();\n  #errorCallbacks = new Set<() => void>();\n\n  constructor(initialMessages: UI_MESSAGE[] = []) {\n    this.#messages = initialMessages;\n  }\n\n  get status(): ChatStatus {\n    return this.#status;\n  }\n\n  set status(newStatus: ChatStatus) {\n    this.#status = newStatus;\n    this.#callStatusCallbacks();\n  }\n\n  get error(): Error | undefined {\n    return this.#error;\n  }\n\n  set error(newError: Error | undefined) {\n    this.#error = newError;\n    this.#callErrorCallbacks();\n  }\n\n  get messages(): UI_MESSAGE[] {\n    return this.#messages;\n  }\n\n  set messages(newMessages: UI_MESSAGE[]) {\n    this.#messages = [...newMessages];\n    this.#callMessagesCallbacks();\n  }\n\n  pushMessage = (message: UI_MESSAGE) => {\n    this.#messages = this.#messages.concat(message);\n    this.#callMessagesCallbacks();\n  };\n\n  popMessage = () => {\n    this.#messages = this.#messages.slice(0, -1);\n    this.#callMessagesCallbacks();\n  };\n\n  replaceMessage = (index: number, message: UI_MESSAGE) => {\n    this.#messages = [\n      ...this.#messages.slice(0, index),\n      // We deep clone the message here to ensure the new React Compiler (currently in RC) detects deeply nested parts/metadata changes:\n      this.snapshot(message),\n      ...this.#messages.slice(index + 1),\n    ];\n    this.#callMessagesCallbacks();\n  };\n\n  snapshot = <T>(value: T): T => structuredClone(value);\n\n  '~registerMessagesCallback' = (\n    onChange: () => void,\n    throttleWaitMs?: number,\n  ): (() => void) => {\n    const callback = throttleWaitMs\n      ? throttle(onChange, throttleWaitMs)\n      : onChange;\n    this.#messagesCallbacks.add(callback);\n    return () => {\n      this.#messagesCallbacks.delete(callback);\n    };\n  };\n\n  '~registerStatusCallback' = (onChange: () => void): (() => void) => {\n    this.#statusCallbacks.add(onChange);\n    return () => {\n      this.#statusCallbacks.delete(onChange);\n    };\n  };\n\n  '~registerErrorCallback' = (onChange: () => void): (() => void) => {\n    this.#errorCallbacks.add(onChange);\n    return () => {\n      this.#errorCallbacks.delete(onChange);\n    };\n  };\n\n  #callMessagesCallbacks = () => {\n    this.#messagesCallbacks.forEach(callback => callback());\n  };\n\n  #callStatusCallbacks = () => {\n    this.#statusCallbacks.forEach(callback => callback());\n  };\n\n  #callErrorCallbacks = () => {\n    this.#errorCallbacks.forEach(callback => callback());\n  };\n}\n\nexport class Chat<\n  UI_MESSAGE extends UIMessage,\n> extends AbstractChat<UI_MESSAGE> {\n  #state: ReactChatState<UI_MESSAGE>;\n\n  constructor({ messages, ...init }: ChatInit<UI_MESSAGE>) {\n    const state = new ReactChatState(messages);\n    super({ ...init, state });\n    this.#state = state;\n  }\n\n  '~registerMessagesCallback' = (\n    onChange: () => void,\n    throttleWaitMs?: number,\n  ): (() => void) =>\n    this.#state['~registerMessagesCallback'](onChange, throttleWaitMs);\n\n  '~registerStatusCallback' = (onChange: () => void): (() => void) =>\n    this.#state['~registerStatusCallback'](onChange);\n\n  '~registerErrorCallback' = (onChange: () => void): (() => void) =>\n    this.#state['~registerErrorCallback'](onChange);\n}\n","import throttleFunction from 'throttleit';\n\nexport function throttle<T extends (...args: any[]) => any>(\n  fn: T,\n  waitMs: number | undefined,\n): T {\n  return waitMs != null ? throttleFunction(fn, waitMs) : fn;\n}\n","import {\n  CompletionRequestOptions,\n  UseCompletionOptions,\n  callCompletionApi,\n} from 'ai';\nimport { useCallback, useEffect, useId, useRef, useState } from 'react';\nimport useSWR from 'swr';\nimport { throttle } from './throttle';\n\nexport type { UseCompletionOptions };\n\nexport type UseCompletionHelpers = {\n  /** The current completion result */\n  completion: string;\n  /**\n   * Send a new prompt to the API endpoint and update the completion state.\n   */\n  complete: (\n    prompt: string,\n    options?: CompletionRequestOptions,\n  ) => Promise<string | null | undefined>;\n  /** The error object of the API request */\n  error: undefined | Error;\n  /**\n   * Abort the current API request but keep the generated tokens.\n   */\n  stop: () => void;\n  /**\n   * Update the `completion` state locally.\n   */\n  setCompletion: (completion: string) => void;\n  /** The current value of the input */\n  input: string;\n  /** setState-powered method to update the input value */\n  setInput: React.Dispatch<React.SetStateAction<string>>;\n  /**\n   * An input/textarea-ready onChange handler to control the value of the input\n   * @example\n   * ```jsx\n   * <input onChange={handleInputChange} value={input} />\n   * ```\n   */\n  handleInputChange: (\n    event:\n      | React.ChangeEvent<HTMLInputElement>\n      | React.ChangeEvent<HTMLTextAreaElement>,\n  ) => void;\n\n  /**\n   * Form submission handler to automatically reset input and append a user message\n   * @example\n   * ```jsx\n   * <form onSubmit={handleSubmit}>\n   *  <input onChange={handleInputChange} value={input} />\n   * </form>\n   * ```\n   */\n  handleSubmit: (event?: { preventDefault?: () => void }) => void;\n\n  /** Whether the API request is in progress */\n  isLoading: boolean;\n};\n\nexport function useCompletion({\n  api = '/api/completion',\n  id,\n  initialCompletion = '',\n  initialInput = '',\n  credentials,\n  headers,\n  body,\n  streamProtocol = 'data',\n  fetch,\n  onFinish,\n  onError,\n  experimental_throttle: throttleWaitMs,\n}: UseCompletionOptions & {\n  /**\n   * Custom throttle wait in ms for the completion and data updates.\n   * Default is undefined, which disables throttling.\n   */\n  experimental_throttle?: number;\n} = {}): UseCompletionHelpers {\n  // Generate an unique id for the completion if not provided.\n  const hookId = useId();\n  const completionId = id || hookId;\n\n  // Store the completion state in SWR, using the completionId as the key to share states.\n  const { data, mutate } = useSWR<string>([api, completionId], null, {\n    fallbackData: initialCompletion,\n  });\n\n  const { data: isLoading = false, mutate: mutateLoading } = useSWR<boolean>(\n    [completionId, 'loading'],\n    null,\n  );\n\n  const [error, setError] = useState<undefined | Error>(undefined);\n  const completion = data!;\n\n  // Abort controller to cancel the current API call.\n  const [abortController, setAbortController] =\n    useState<AbortController | null>(null);\n\n  const extraMetadataRef = useRef({\n    credentials,\n    headers,\n    body,\n  });\n\n  useEffect(() => {\n    extraMetadataRef.current = {\n      credentials,\n      headers,\n      body,\n    };\n  }, [credentials, headers, body]);\n\n  const triggerRequest = useCallback(\n    async (prompt: string, options?: CompletionRequestOptions) =>\n      callCompletionApi({\n        api,\n        prompt,\n        credentials: extraMetadataRef.current.credentials,\n        headers: { ...extraMetadataRef.current.headers, ...options?.headers },\n        body: {\n          ...extraMetadataRef.current.body,\n          ...options?.body,\n        },\n        streamProtocol,\n        fetch,\n        // throttle streamed ui updates:\n        setCompletion: throttle(\n          (completion: string) => mutate(completion, false),\n          throttleWaitMs,\n        ),\n        setLoading: mutateLoading,\n        setError,\n        setAbortController,\n        onFinish,\n        onError,\n      }),\n    [\n      mutate,\n      mutateLoading,\n      api,\n      extraMetadataRef,\n      setAbortController,\n      onFinish,\n      onError,\n      setError,\n      streamProtocol,\n      fetch,\n      throttleWaitMs,\n    ],\n  );\n\n  const stop = useCallback(() => {\n    if (abortController) {\n      abortController.abort();\n      setAbortController(null);\n    }\n  }, [abortController]);\n\n  const setCompletion = useCallback(\n    (completion: string) => {\n      mutate(completion, false);\n    },\n    [mutate],\n  );\n\n  const complete = useCallback<UseCompletionHelpers['complete']>(\n    async (prompt, options) => {\n      return triggerRequest(prompt, options);\n    },\n    [triggerRequest],\n  );\n\n  const [input, setInput] = useState(initialInput);\n\n  const handleSubmit = useCallback(\n    (event?: { preventDefault?: () => void }) => {\n      event?.preventDefault?.();\n      return input ? complete(input) : undefined;\n    },\n    [input, complete],\n  );\n\n  const handleInputChange = useCallback(\n    (e: any) => {\n      setInput(e.target.value);\n    },\n    [setInput],\n  );\n\n  return {\n    completion,\n    complete,\n    error,\n    setCompletion,\n    stop,\n    input,\n    setInput,\n    handleInputChange,\n    handleSubmit,\n    isLoading,\n  };\n}\n","import {\n  FetchFunction,\n  InferSchema,\n  isAbortError,\n  safeValidateTypes,\n} from '@ai-sdk/provider-utils';\nimport {\n  asSchema,\n  DeepPartial,\n  isDeepEqualData,\n  parsePartialJson,\n  Schema,\n} from 'ai';\nimport { useCallback, useId, useRef, useState } from 'react';\nimport useSWR from 'swr';\nimport * as z3 from 'zod/v3';\nimport * as z4 from 'zod/v4';\n\n// use function to allow for mocking in tests:\nconst getOriginalFetch = () => fetch;\n\nexport type Experimental_UseObjectOptions<\n  SCHEMA extends z4.core.$ZodType | z3.Schema | Schema,\n  RESULT,\n> = {\n  /**\n   * The API endpoint. It should stream JSON that matches the schema as chunked text.\n   */\n  api: string;\n\n  /**\n   * A Zod schema that defines the shape of the complete object.\n   */\n  schema: SCHEMA;\n\n  /**\n   * An unique identifier. If not provided, a random one will be\n   * generated. When provided, the `useObject` hook with the same `id` will\n   * have shared states across components.\n   */\n  id?: string;\n\n  /**\n   * An optional value for the initial object.\n   */\n  initialValue?: DeepPartial<RESULT>;\n\n  /**\nCustom fetch implementation. You can use it as a middleware to intercept requests,\nor to provide a custom fetch implementation for e.g. testing.\n    */\n  fetch?: FetchFunction;\n\n  /**\nCallback that is called when the stream has finished.\n     */\n  onFinish?: (event: {\n    /**\nThe generated object (typed according to the schema).\nCan be undefined if the final object does not match the schema.\n   */\n    object: RESULT | undefined;\n\n    /**\nOptional error object. This is e.g. a TypeValidationError when the final object does not match the schema.\n */\n    error: Error | undefined;\n  }) => Promise<void> | void;\n\n  /**\n   * Callback function to be called when an error is encountered.\n   */\n  onError?: (error: Error) => void;\n\n  /**\n   * Additional HTTP headers to be included in the request.\n   */\n  headers?: Record<string, string> | Headers;\n\n  /**\n   * The credentials mode to be used for the fetch request.\n   * Possible values are: 'omit', 'same-origin', 'include'.\n   * Defaults to 'same-origin'.\n   */\n  credentials?: RequestCredentials;\n};\n\nexport type Experimental_UseObjectHelpers<RESULT, INPUT> = {\n  /**\n   * Calls the API with the provided input as JSON body.\n   */\n  submit: (input: INPUT) => void;\n\n  /**\n   * The current value for the generated object. Updated as the API streams JSON chunks.\n   */\n  object: DeepPartial<RESULT> | undefined;\n\n  /**\n   * The error object of the API request if any.\n   */\n  error: Error | undefined;\n\n  /**\n   * Flag that indicates whether an API request is in progress.\n   */\n  isLoading: boolean;\n\n  /**\n   * Abort the current request immediately, keep the current partial object if any.\n   */\n  stop: () => void;\n\n  /**\n   * Clear the object state.\n   */\n  clear: () => void;\n};\n\nfunction useObject<\n  SCHEMA extends z4.core.$ZodType | z3.Schema | Schema,\n  RESULT = InferSchema<SCHEMA>,\n  INPUT = any,\n>({\n  api,\n  id,\n  schema, // required, in the future we will use it for validation\n  initialValue,\n  fetch,\n  onError,\n  onFinish,\n  headers,\n  credentials,\n}: Experimental_UseObjectOptions<\n  SCHEMA,\n  RESULT\n>): Experimental_UseObjectHelpers<RESULT, INPUT> {\n  // Generate an unique id if not provided.\n  const hookId = useId();\n  const completionId = id ?? hookId;\n\n  // Store the completion state in SWR, using the completionId as the key to share states.\n  const { data, mutate } = useSWR<DeepPartial<RESULT>>(\n    [api, completionId],\n    null,\n    { fallbackData: initialValue },\n  );\n\n  const [error, setError] = useState<undefined | Error>(undefined);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Abort controller to cancel the current API call.\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  const stop = useCallback(() => {\n    try {\n      abortControllerRef.current?.abort();\n    } catch (ignored) {\n    } finally {\n      setIsLoading(false);\n      abortControllerRef.current = null;\n    }\n  }, []);\n\n  const submit = async (input: INPUT) => {\n    try {\n      clearObject();\n\n      setIsLoading(true);\n\n      const abortController = new AbortController();\n      abortControllerRef.current = abortController;\n\n      const actualFetch = fetch ?? getOriginalFetch();\n      const response = await actualFetch(api, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...headers,\n        },\n        credentials,\n        signal: abortController.signal,\n        body: JSON.stringify(input),\n      });\n\n      if (!response.ok) {\n        throw new Error(\n          (await response.text()) ?? 'Failed to fetch the response.',\n        );\n      }\n\n      if (response.body == null) {\n        throw new Error('The response body is empty.');\n      }\n\n      let accumulatedText = '';\n      let latestObject: DeepPartial<RESULT> | undefined = undefined;\n\n      await response.body.pipeThrough(new TextDecoderStream()).pipeTo(\n        new WritableStream<string>({\n          async write(chunk) {\n            accumulatedText += chunk;\n\n            const { value } = await parsePartialJson(accumulatedText);\n            const currentObject = value as DeepPartial<RESULT>;\n\n            if (!isDeepEqualData(latestObject, currentObject)) {\n              latestObject = currentObject;\n\n              mutate(currentObject);\n            }\n          },\n\n          async close() {\n            setIsLoading(false);\n            abortControllerRef.current = null;\n\n            if (onFinish != null) {\n              const validationResult = await safeValidateTypes({\n                value: latestObject,\n                schema: asSchema(schema),\n              });\n\n              onFinish(\n                validationResult.success\n                  ? { object: validationResult.value, error: undefined }\n                  : { object: undefined, error: validationResult.error },\n              );\n            }\n          },\n        }),\n      );\n    } catch (error) {\n      if (isAbortError(error)) {\n        return;\n      }\n\n      if (onError && error instanceof Error) {\n        onError(error);\n      }\n\n      setIsLoading(false);\n      setError(error instanceof Error ? error : new Error(String(error)));\n    }\n  };\n\n  const clear = () => {\n    stop();\n    clearObject();\n  };\n\n  const clearObject = () => {\n    setError(undefined);\n    setIsLoading(false);\n    mutate(undefined);\n  };\n\n  return {\n    submit,\n    object: data,\n    error,\n    isLoading,\n    stop,\n    clear,\n  };\n}\n\nexport const experimental_useObject = useObject;\n"],"names":["useCallback","useEffect","useRef","fetch","useRef","useEffect","useCallback","completion","useCallback","useId","useRef","useState","useSWR","fetch","error"],"mappings":"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","debugId":null}},
    {"offset": {"line": 8550, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudAuthStrategy.tsx"],"sourcesContent":["export type AssistantCloudAuthStrategy = {\n  readonly strategy: \"anon\" | \"jwt\" | \"api-key\";\n  getAuthHeaders(): Promise<Record<string, string> | false>;\n  readAuthHeaders(headers: Headers): void;\n};\n\nconst getJwtExpiry = (jwt: string): number => {\n  try {\n    const parts = jwt.split(\".\");\n    const bodyPart = parts[1];\n    if (!bodyPart) {\n      throw new Error(\"Invalid JWT format\");\n    }\n\n    // Convert from Base64Url to Base64 and add padding if necessary\n    let base64 = bodyPart.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    while (base64.length % 4 !== 0) {\n      base64 += \"=\";\n    }\n\n    // Decode the Base64 string and parse the payload\n    const payload = atob(base64);\n    const payloadObj = JSON.parse(payload);\n    const exp = payloadObj.exp;\n\n    if (!exp || typeof exp !== \"number\") {\n      throw new Error('JWT does not contain a valid \"exp\" field');\n    }\n\n    // Convert expiration time to milliseconds\n    return exp * 1000;\n  } catch (error) {\n    throw new Error(\"Unable to determine the token expiry: \" + error);\n  }\n};\n\nexport class AssistantCloudJWTAuthStrategy\n  implements AssistantCloudAuthStrategy\n{\n  public readonly strategy = \"jwt\";\n\n  private cachedToken: string | null = null;\n  private tokenExpiry: number | null = null;\n  #authTokenCallback: () => Promise<string | null>;\n\n  constructor(authTokenCallback: () => Promise<string | null>) {\n    this.#authTokenCallback = authTokenCallback;\n  }\n\n  public async getAuthHeaders(): Promise<Record<string, string> | false> {\n    const currentTime = Date.now();\n\n    // Use cached token if it's valid for at least 30 more seconds\n    if (\n      this.cachedToken &&\n      this.tokenExpiry &&\n      this.tokenExpiry - currentTime > 30 * 1000\n    ) {\n      return { Authorization: `Bearer ${this.cachedToken}` };\n    }\n\n    // Fetch a new token via the callback\n    const newToken = await this.#authTokenCallback();\n    if (!newToken) return false;\n\n    this.cachedToken = newToken;\n    this.tokenExpiry = getJwtExpiry(newToken);\n\n    return { Authorization: `Bearer ${newToken}` };\n  }\n\n  public readAuthHeaders(headers: Headers) {\n    const authHeader = headers.get(\"Authorization\");\n    if (!authHeader) return;\n\n    const [scheme, token] = authHeader.split(\" \");\n    if (scheme !== \"Bearer\" || !token) {\n      throw new Error(\"Invalid auth header received\");\n    }\n\n    this.cachedToken = token;\n    this.tokenExpiry = getJwtExpiry(token);\n  }\n}\n\nexport class AssistantCloudAPIKeyAuthStrategy\n  implements AssistantCloudAuthStrategy\n{\n  public readonly strategy = \"api-key\";\n\n  #apiKey: string;\n  #userId: string;\n  #workspaceId: string;\n\n  constructor(apiKey: string, userId: string, workspaceId: string) {\n    this.#apiKey = apiKey;\n    this.#userId = userId;\n    this.#workspaceId = workspaceId;\n  }\n\n  public async getAuthHeaders(): Promise<Record<string, string>> {\n    return {\n      Authorization: `Bearer ${this.#apiKey}`,\n      \"Aui-User-Id\": this.#userId,\n      \"Aui-Workspace-Id\": this.#workspaceId,\n    };\n  }\n\n  public readAuthHeaders() {\n    // No operation needed for API key auth\n  }\n}\n\nconst AUI_REFRESH_TOKEN_NAME = \"aui:refresh_token\";\n\nexport class AssistantCloudAnonymousAuthStrategy\n  implements AssistantCloudAuthStrategy\n{\n  public readonly strategy = \"anon\";\n\n  private baseUrl: string;\n  private jwtStrategy: AssistantCloudJWTAuthStrategy;\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl;\n    this.jwtStrategy = new AssistantCloudJWTAuthStrategy(async () => {\n      const currentTime = Date.now();\n      const storedRefreshTokenJson = localStorage.getItem(\n        AUI_REFRESH_TOKEN_NAME,\n      );\n      const storedRefreshToken = storedRefreshTokenJson\n        ? (JSON.parse(storedRefreshTokenJson) as {\n            token: string;\n            expires_at: string;\n          })\n        : undefined;\n\n      if (storedRefreshToken) {\n        const refreshExpiry = new Date(storedRefreshToken.expires_at).getTime();\n        if (refreshExpiry - currentTime > 30 * 1000) {\n          const response = await fetch(\n            `${this.baseUrl}/v1/auth/tokens/refresh`,\n            {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({ refresh_token: storedRefreshToken.token }),\n            },\n          );\n\n          if (response.ok) {\n            const data = await response.json();\n            const { access_token, refresh_token } = data;\n            if (refresh_token) {\n              localStorage.setItem(\n                AUI_REFRESH_TOKEN_NAME,\n                JSON.stringify(refresh_token),\n              );\n            }\n            return access_token;\n          }\n        } else {\n          localStorage.removeItem(AUI_REFRESH_TOKEN_NAME);\n        }\n      }\n\n      // No valid refresh token; request a new anonymous token\n      const response = await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`, {\n        method: \"POST\",\n      });\n\n      if (!response.ok) return null;\n\n      const data = await response.json();\n      const { access_token, refresh_token } = data;\n\n      if (!access_token || !refresh_token) return null;\n\n      localStorage.setItem(\n        AUI_REFRESH_TOKEN_NAME,\n        JSON.stringify(refresh_token),\n      );\n      return access_token;\n    });\n  }\n\n  public async getAuthHeaders(): Promise<Record<string, string> | false> {\n    return this.jwtStrategy.getAuthHeaders();\n  }\n\n  public readAuthHeaders(headers: Headers): void {\n    this.jwtStrategy.readAuthHeaders(headers);\n  }\n}\n"],"names":["response","data","access_token","refresh_token"],"mappings":";;;;;;;;;;;;;;;;;wBA0FE;AApFF,IAAM,eAAe,CAAC,QAAwB;IAC5C,IAAI;QACF,MAAM,QAAQ,IAAI,KAAA,CAAM,GAAG;QAC3B,MAAM,WAAW,KAAA,CAAM,CAAC,CAAA;QACxB,IAAI,CAAC,UAAU;YACb,MAAM,IAAI,MAAM,oBAAoB;QACtC;QAGA,IAAI,SAAS,SAAS,OAAA,CAAQ,MAAM,GAAG,EAAE,OAAA,CAAQ,MAAM,GAAG;QAC1D,MAAO,OAAO,MAAA,GAAS,MAAM,EAAG;YAC9B,UAAU;QACZ;QAGA,MAAM,UAAU,KAAK,MAAM;QAC3B,MAAM,aAAa,KAAK,KAAA,CAAM,OAAO;QACrC,MAAM,MAAM,WAAW,GAAA;QAEvB,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU;YACnC,MAAM,IAAI,MAAM,0CAA0C;QAC5D;QAGA,OAAO,MAAM;IACf,EAAA,OAAS,OAAO;QACd,MAAM,IAAI,MAAM,2CAA2C,KAAK;IAClE;AACF;AAEO,IAAM,mFAAN,MAEP;IAWE,MAAa,iBAA0D;QACrE,MAAM,cAAc,KAAK,GAAA,CAAI;QAG7B,IACE,IAAA,CAAK,WAAA,IACL,IAAA,CAAK,WAAA,IACL,IAAA,CAAK,WAAA,GAAc,cAAc,KAAK,KACtC;YACA,OAAO;gBAAE,eAAe,UAA0B,OAAhB,IAAA,CAAK,WAAW;YAAG;QACvD;QAGA,MAAM,WAAW,qPAAM,IAAA,EAAK,mBAAmB,UAAxB;QACvB,IAAI,CAAC,SAAU,CAAA,OAAO;QAEtB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,WAAA,GAAc,aAAa,QAAQ;QAExC,OAAO;YAAE,eAAe,UAAkB,OAAR,QAAQ;QAAG;IAC/C;IAEO,gBAAgB,OAAA,EAAkB;QACvC,MAAM,aAAa,QAAQ,GAAA,CAAI,eAAe;QAC9C,IAAI,CAAC,WAAY,CAAA;QAEjB,MAAM,CAAC,QAAQ,KAAK,CAAA,GAAI,WAAW,KAAA,CAAM,GAAG;QAC5C,IAAI,WAAW,YAAY,CAAC,OAAO;YACjC,MAAM,IAAI,MAAM,8BAA8B;QAChD;QAEA,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,WAAA,GAAc,aAAa,KAAK;IACvC;IArCA,YAAY,iBAAA,CAAiD;qPAN7C,YAAW;qPAEnB,eAA6B;qPAC7B,eAA6B;;;wBACrC;;6PAGO,oBAAqB;IAC5B;AAoCF;AAEO,IAAM,8JAAN,MAEP;IAaE,MAAa,iBAAkD;QAC7D,OAAO;YACL,eAAe,UAAsB,sPAAZ,IAAA,EAAK,OAAO;YACrC,aAAA,iPAAe,IAAA,EAAK;YACpB,kBAAA,iPAAoB,IAAA,EAAK;QAC3B;IACF;IAEO,kBAAkB,CAEzB;IAhBA,YAAY,MAAA,EAAgB,MAAA,EAAgB,WAAA,CAAqB;qPANjD,YAAW;;;;;;;wBAG3B;;;;mBACA;;6PAGO,SAAU;6PACV,SAAU;6PACV,cAAe;IACtB;AAaF;AAEA,IAAM,yBAAyB;AAExB,IAAM,sCAAN,MAEP;IAoEE,MAAa,iBAA0D;QACrE,OAAO,IAAA,CAAK,WAAA,CAAY,cAAA,CAAe;IACzC;IAEO,gBAAgB,OAAA,EAAwB;QAC7C,IAAA,CAAK,WAAA,CAAY,eAAA,CAAgB,OAAO;IAC1C;IApEA,YAAY,OAAA,CAAiB;qPALb,YAAW;qQAEnB;yQACA;QAGN,IAAA,CAAK,OAAA,GAAU;QACf,IAAA,CAAK,WAAA,GAAc,IAAI,8BAA8B,YAAY;YAC/D,MAAM,cAAc,KAAK,GAAA,CAAI;YAC7B,MAAM,yBAAyB,aAAa,OAAA,CAC1C;YAEF,MAAM,qBAAqB,yBACtB,KAAK,KAAA,CAAM,sBAAsB,IAIlC,KAAA;YAEJ,IAAI,oBAAoB;gBACtB,MAAM,gBAAgB,IAAI,KAAK,mBAAmB,UAAU,EAAE,OAAA,CAAQ;gBACtE,IAAI,gBAAgB,cAAc,KAAK,KAAM;oBAC3C,MAAMA,YAAW,MAAM,MACrB,GAAe,OAAZ,IAAA,CAAK,OAAO,EAAA,4BACf;wBACE,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;wBAAmB;wBAC9C,MAAM,KAAK,SAAA,CAAU;4BAAE,eAAe,mBAAmB,KAAA;wBAAM,CAAC;oBAClE;oBAGF,IAAIA,UAAS,EAAA,EAAI;wBACf,MAAMC,QAAO,MAAMD,UAAS,IAAA,CAAK;wBACjC,MAAM,EAAE,cAAAE,aAAAA,EAAc,eAAAC,cAAAA,CAAc,CAAA,GAAIF;wBACxC,IAAIE,gBAAe;4BACjB,aAAa,OAAA,CACX,wBACA,KAAK,SAAA,CAAUA,cAAa;wBAEhC;wBACA,OAAOD;oBACT;gBACF,OAAO;oBACL,aAAa,UAAA,CAAW,sBAAsB;gBAChD;YACF;YAGA,MAAM,WAAW,MAAM,MAAM,GAAe,OAAZ,IAAA,CAAK,OAAO,EAAA,8BAA6B;gBACvE,QAAQ;YACV,CAAC;YAED,IAAI,CAAC,SAAS,EAAA,CAAI,CAAA,OAAO;YAEzB,MAAM,OAAO,MAAM,SAAS,IAAA,CAAK;YACjC,MAAM,EAAE,YAAA,EAAc,aAAA,CAAc,CAAA,GAAI;YAExC,IAAI,CAAC,gBAAgB,CAAC,cAAe,CAAA,OAAO;YAE5C,aAAa,OAAA,CACX,wBACA,KAAK,SAAA,CAAU,aAAa;YAE9B,OAAO;QACT,CAAC;IACH;AASF","debugId":null}},
    {"offset": {"line": 8714, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudAPI.tsx"],"sourcesContent":["import {\n  AssistantCloudAuthStrategy,\n  AssistantCloudJWTAuthStrategy,\n  AssistantCloudAPIKeyAuthStrategy,\n  AssistantCloudAnonymousAuthStrategy,\n} from \"./AssistantCloudAuthStrategy\";\n\nexport type AssistantCloudConfig =\n  | {\n      baseUrl: string;\n      authToken: () => Promise<string | null>;\n    }\n  | {\n      apiKey: string;\n      userId: string;\n      workspaceId: string;\n    }\n  | {\n      baseUrl: string;\n      anonymous: true;\n    };\n\nclass CloudAPIError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = \"APIError\";\n  }\n}\n\ntype MakeRequestOptions = {\n  method?: \"POST\" | \"PUT\" | \"DELETE\" | undefined;\n  headers?: Record<string, string> | undefined;\n  query?: Record<string, string | number | boolean> | undefined;\n  body?: object | undefined;\n};\n\nexport class AssistantCloudAPI {\n  public _auth: AssistantCloudAuthStrategy;\n  public _baseUrl;\n\n  constructor(config: AssistantCloudConfig) {\n    if (\"authToken\" in config) {\n      this._baseUrl = config.baseUrl;\n      this._auth = new AssistantCloudJWTAuthStrategy(config.authToken);\n    } else if (\"apiKey\" in config) {\n      this._baseUrl = \"https://backend.assistant-api.com\";\n      this._auth = new AssistantCloudAPIKeyAuthStrategy(\n        config.apiKey,\n        config.userId,\n        config.workspaceId,\n      );\n    } else if (\"anonymous\" in config) {\n      this._baseUrl = config.baseUrl;\n      this._auth = new AssistantCloudAnonymousAuthStrategy(config.baseUrl);\n    } else {\n      throw new Error(\n        \"Invalid configuration: Must provide authToken, apiKey, or anonymous configuration\",\n      );\n    }\n  }\n\n  public async initializeAuth() {\n    return !!this._auth.getAuthHeaders();\n  }\n\n  public async makeRawRequest(\n    endpoint: string,\n    options: MakeRequestOptions = {},\n  ) {\n    const authHeaders = await this._auth.getAuthHeaders();\n    if (!authHeaders) throw new Error(\"Authorization failed\");\n\n    const headers = {\n      ...authHeaders,\n      ...options.headers,\n      \"Content-Type\": \"application/json\",\n    };\n\n    const queryParams = new URLSearchParams();\n    if (options.query) {\n      for (const [key, value] of Object.entries(options.query)) {\n        if (value === false) continue;\n        if (value === true) {\n          queryParams.set(key, \"true\");\n        } else {\n          queryParams.set(key, value.toString());\n        }\n      }\n    }\n\n    const url = new URL(`${this._baseUrl}/v1${endpoint}`);\n    url.search = queryParams.toString();\n\n    const response = await fetch(url, {\n      method: options.method ?? \"GET\",\n      headers,\n      body: options.body ? JSON.stringify(options.body) : null,\n    });\n\n    this._auth.readAuthHeaders(response.headers);\n\n    if (!response.ok) {\n      const text = await response.text();\n      try {\n        const body = JSON.parse(text);\n        throw new CloudAPIError(body.message);\n      } catch {\n        throw new Error(\n          `Request failed with status ${response.status}, ${text}`,\n        );\n      }\n    }\n\n    return response;\n  }\n\n  public async makeRequest(endpoint: string, options: MakeRequestOptions = {}) {\n    const response = await this.makeRawRequest(endpoint, options);\n    return response.json();\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;;AAsBA,IAAM,gBAAN,cAA4B,MAAM;IAChC,YAAY,OAAA,CAAiB;QAC3B,KAAA,CAAM,OAAO;QACb,IAAA,CAAK,IAAA,GAAO;IACd;AACF;AASO,IAAM,oBAAN,MAAwB;IAyB7B,MAAa,iBAAiB;QAC5B,OAAO,CAAC,CAAC,IAAA,CAAK,KAAA,CAAM,cAAA,CAAe;IACrC;IAEA,MAAa,eACX,QAAA,EAEA;sBADA,iEAA8B,CAAC;QAE/B,MAAM,cAAc,MAAM,IAAA,CAAK,KAAA,CAAM,cAAA,CAAe;QACpD,IAAI,CAAC,YAAa,CAAA,MAAM,IAAI,MAAM,sBAAsB;QAExD,MAAM,UAAU;YACd,GAAG,WAAA;YACH,GAAG,QAAQ,OAAA;YACX,gBAAgB;QAClB;QAEA,MAAM,cAAc,IAAI,gBAAgB;QACxC,IAAI,QAAQ,KAAA,EAAO;YACjB,KAAA,MAAW,CAAC,KAAK,KAAK,CAAA,IAAK,OAAO,OAAA,CAAQ,QAAQ,KAAK,EAAG;gBACxD,IAAI,UAAU,MAAO,CAAA;gBACrB,IAAI,UAAU,MAAM;oBAClB,YAAY,GAAA,CAAI,KAAK,MAAM;gBAC7B,OAAO;oBACL,YAAY,GAAA,CAAI,KAAK,MAAM,QAAA,CAAS,CAAC;gBACvC;YACF;QACF;QAEA,MAAM,MAAM,IAAI,IAAI,UAAG,IAAA,CAAK,QAAQ,EAAA,OAAc,CAAE,MAAV,QAAQ;QAClD,IAAI,MAAA,GAAS,YAAY,QAAA,CAAS;;QAElC,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,mCAAgB,MAAA,2CAAR,kBAAkB;YAC1B;YACA,MAAM,QAAQ,IAAA,GAAO,KAAK,SAAA,CAAU,QAAQ,IAAI,IAAI;QACtD,CAAC;QAED,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,SAAS,OAAO;QAE3C,IAAI,CAAC,SAAS,EAAA,EAAI;YAChB,MAAM,OAAO,MAAM,SAAS,IAAA,CAAK;YACjC,IAAI;gBACF,MAAM,OAAO,KAAK,KAAA,CAAM,IAAI;gBAC5B,MAAM,IAAI,cAAc,KAAK,OAAO;YACtC,EAAA,UAAQ;gBACN,MAAM,IAAI,MACR,8BAAkD,IAAI,GAAxB,SAAS,MAAM,EAAA,MAAS;YAE1D;QACF;QAEA,OAAO;IACT;IAEA,MAAa,YAAY,QAAA,EAAoD;sBAAlC,iEAA8B,CAAC;QACxE,MAAM,WAAW,MAAM,IAAA,CAAK,cAAA,CAAe,UAAU,OAAO;QAC5D,OAAO,SAAS,IAAA,CAAK;IACvB;IA/EA,YAAY,MAAA,CAA8B;mQAHnC;sQACA;QAGL,IAAI,eAAe,QAAQ;YACzB,IAAA,CAAK,QAAA,GAAW,OAAO,OAAA;YACvB,IAAA,CAAK,KAAA,GAAQ,IAAI,2QAAA,CAA8B,OAAO,SAAS;QACjE,OAAA,IAAW,YAAY,QAAQ;YAC7B,IAAA,CAAK,QAAA,GAAW;YAChB,IAAA,CAAK,KAAA,GAAQ,IAAI,8QAAA,CACf,OAAO,MAAA,EACP,OAAO,MAAA,EACP,OAAO,WAAA;QAEX,OAAA,IAAW,eAAe,QAAQ;YAChC,IAAA,CAAK,QAAA,GAAW,OAAO,OAAA;YACvB,IAAA,CAAK,KAAA,GAAQ,IAAI,iRAAA,CAAoC,OAAO,OAAO;QACrE,OAAO;YACL,MAAM,IAAI,MACR;QAEJ;IACF;AA6DF","debugId":null}},
    {"offset": {"line": 8801, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudAuthTokens.tsx"],"sourcesContent":["import { AssistantCloudAPI } from \"./AssistantCloudAPI\";\n\ntype AssistantCloudAuthTokensCreateResponse = {\n  token: string;\n};\n\nexport class AssistantCloudAuthTokens {\n  constructor(private cloud: AssistantCloudAPI) {}\n\n  public async create(): Promise<AssistantCloudAuthTokensCreateResponse> {\n    return this.cloud.makeRequest(\"/auth/tokens\", { method: \"POST\" });\n  }\n}\n"],"names":[],"mappings":";;;;;AAMO,IAAM,2BAAN,MAA+B;IAGpC,MAAa,SAA0D;QACrE,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,gBAAgB;YAAE,QAAQ;QAAO,CAAC;IAClE;IAJA,YAAoB,KAAA,CAA0B;QAA1B,IAAA,CAAA,KAAA,GAAA;IAA2B;AAKjD","debugId":null}},
    {"offset": {"line": 8822, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudRuns.tsx"],"sourcesContent":["import { AssistantCloudAPI } from \"./AssistantCloudAPI\";\nimport { AssistantStream, PlainTextDecoder } from \"assistant-stream\";\n\ntype AssistantCloudRunsStreamBody = {\n  thread_id: string;\n  assistant_id: \"system/thread_title\";\n  messages: readonly unknown[]; // TODO type\n};\n\nexport class AssistantCloudRuns {\n  constructor(private cloud: AssistantCloudAPI) {}\n\n  public __internal_getAssistantOptions(assistantId: string) {\n    return {\n      api: this.cloud._baseUrl + \"/v1/runs/stream\",\n      headers: async () => {\n        const headers = await this.cloud._auth.getAuthHeaders();\n        if (!headers) throw new Error(\"Authorization failed\");\n        return {\n          ...headers,\n          Accept: \"text/plain\",\n        };\n      },\n      body: {\n        assistant_id: assistantId,\n        response_format: \"vercel-ai-data-stream/v1\",\n        thread_id: \"unstable_todo\",\n      },\n    };\n  }\n\n  public async stream(\n    body: AssistantCloudRunsStreamBody,\n  ): Promise<AssistantStream> {\n    const response = await this.cloud.makeRawRequest(\"/runs/stream\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"text/plain\",\n      },\n      body,\n    });\n    return AssistantStream.fromResponse(response, new PlainTextDecoder());\n  }\n}\n"],"names":[],"mappings":";;;;;;AACA,SAAS,iBAAiB,wBAAwB;;AAQ3C,IAAM,qBAAN,MAAyB;IAGvB,+BAA+B,WAAA,EAAqB;QACzD,OAAO;YACL,KAAK,IAAA,CAAK,KAAA,CAAM,QAAA,GAAW;YAC3B,SAAS,YAAY;gBACnB,MAAM,UAAU,MAAM,IAAA,CAAK,KAAA,CAAM,KAAA,CAAM,cAAA,CAAe;gBACtD,IAAI,CAAC,QAAS,CAAA,MAAM,IAAI,MAAM,sBAAsB;gBACpD,OAAO;oBACL,GAAG,OAAA;oBACH,QAAQ;gBACV;YACF;YACA,MAAM;gBACJ,cAAc;gBACd,iBAAiB;gBACjB,WAAW;YACb;QACF;IACF;IAEA,MAAa,OACX,IAAA,EAC0B;QAC1B,MAAM,WAAW,MAAM,IAAA,CAAK,KAAA,CAAM,cAAA,CAAe,gBAAgB;YAC/D,QAAQ;YACR,SAAS;gBACP,QAAQ;YACV;YACA;QACF,CAAC;QACD,OAAO,6PAAA,CAAgB,YAAA,CAAa,UAAU,IAAI,yQAAA,CAAiB,CAAC;IACtE;IAhCA,YAAoB,KAAA,CAA0B;QAA1B,IAAA,CAAA,KAAA,GAAA;IAA2B;AAiCjD","debugId":null}},
    {"offset": {"line": 8869, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudThreadMessages.tsx"],"sourcesContent":["import { ReadonlyJSONObject } from \"assistant-stream/utils\";\nimport { AssistantCloudAPI } from \"./AssistantCloudAPI\";\n\nexport type CloudMessage = {\n  id: string;\n  parent_id: string | null;\n  height: number;\n  created_at: Date;\n  updated_at: Date;\n  format: \"aui/v0\" | string;\n  content: ReadonlyJSONObject;\n};\n\ntype AssistantCloudThreadMessageListQuery = {\n  format?: string;\n};\n\ntype AssistantCloudThreadMessageListResponse = {\n  messages: CloudMessage[];\n};\n\ntype AssistantCloudThreadMessageCreateBody = {\n  parent_id: string | null;\n  format: \"aui/v0\" | string;\n  content: ReadonlyJSONObject;\n};\n\ntype AssistantCloudMessageCreateResponse = {\n  message_id: string;\n};\n\nexport class AssistantCloudThreadMessages {\n  constructor(private cloud: AssistantCloudAPI) {}\n\n  public async list(\n    threadId: string,\n    query?: AssistantCloudThreadMessageListQuery,\n  ): Promise<AssistantCloudThreadMessageListResponse> {\n    return this.cloud.makeRequest(\n      `/threads/${encodeURIComponent(threadId)}/messages`,\n      { query },\n    );\n  }\n\n  public async create(\n    threadId: string,\n    body: AssistantCloudThreadMessageCreateBody,\n  ): Promise<AssistantCloudMessageCreateResponse> {\n    return this.cloud.makeRequest(\n      `/threads/${encodeURIComponent(threadId)}/messages`,\n      { method: \"POST\", body },\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;AA+BO,IAAM,+BAAN,MAAmC;IAGxC,MAAa,KACX,QAAA,EACA,KAAA,EACkD;QAClD,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAChB,YAAwC,OAA5B,mBAAmB,QAAQ,CAAC,EAAA,cACxC;YAAE;QAAM;IAEZ;IAEA,MAAa,OACX,QAAA,EACA,IAAA,EAC8C;QAC9C,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAChB,YAAwC,OAA5B,mBAAmB,QAAQ,CAAC,EAAA,cACxC;YAAE,QAAQ;YAAQ;QAAK;IAE3B;IApBA,YAAoB,KAAA,CAA0B;QAA1B,IAAA,CAAA,KAAA,GAAA;IAA2B;AAqBjD","debugId":null}},
    {"offset": {"line": 8896, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudThreads.tsx"],"sourcesContent":["import { AssistantCloudAPI } from \"./AssistantCloudAPI\";\nimport { AssistantCloudThreadMessages } from \"./AssistantCloudThreadMessages\";\n\ntype AssistantCloudThreadsListQuery = {\n  is_archived?: boolean;\n  limit?: number;\n  after?: string;\n};\n\ntype CloudThread = {\n  title: string;\n  last_message_at: Date;\n  metadata: unknown;\n  external_id: string | null;\n  id: string;\n  project_id: string;\n  created_at: Date;\n  updated_at: Date;\n  workspace_id: string;\n  is_archived: boolean;\n};\n\ntype AssistantCloudThreadsListResponse = {\n  threads: CloudThread[];\n};\n\ntype AssistantCloudThreadsCreateBody = {\n  title?: string | undefined;\n  last_message_at: Date;\n  metadata?: unknown | undefined;\n  external_id?: string | undefined;\n};\n\ntype AssistantCloudThreadsCreateResponse = {\n  thread_id: string;\n};\n\ntype AssistantCloudThreadsUpdateBody = {\n  title?: string | undefined;\n  last_message_at?: Date | undefined;\n  metadata?: unknown | undefined;\n  is_archived?: boolean | undefined;\n};\n\nexport class AssistantCloudThreads {\n  public readonly messages: AssistantCloudThreadMessages;\n\n  constructor(private cloud: AssistantCloudAPI) {\n    this.messages = new AssistantCloudThreadMessages(cloud);\n  }\n\n  public async list(\n    query?: AssistantCloudThreadsListQuery,\n  ): Promise<AssistantCloudThreadsListResponse> {\n    return this.cloud.makeRequest(\"/threads\", { query });\n  }\n\n  public async create(\n    body: AssistantCloudThreadsCreateBody,\n  ): Promise<AssistantCloudThreadsCreateResponse> {\n    return this.cloud.makeRequest(\"/threads\", { method: \"POST\", body });\n  }\n\n  public async update(\n    threadId: string,\n    body: AssistantCloudThreadsUpdateBody,\n  ): Promise<void> {\n    return this.cloud.makeRequest(`/threads/${encodeURIComponent(threadId)}`, {\n      method: \"PUT\",\n      body,\n    });\n  }\n\n  public async delete(threadId: string): Promise<void> {\n    return this.cloud.makeRequest(`/threads/${encodeURIComponent(threadId)}`, {\n      method: \"DELETE\",\n    });\n  }\n}\n"],"names":[],"mappings":";;;;;;AACA,SAAS,oCAAoC;;;AA2CtC,IAAM,wBAAN,MAA4B;IAOjC,MAAa,KACX,KAAA,EAC4C;QAC5C,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,YAAY;YAAE;QAAM,CAAC;IACrD;IAEA,MAAa,OACX,IAAA,EAC8C;QAC9C,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,YAAY;YAAE,QAAQ;YAAQ;QAAK,CAAC;IACpE;IAEA,MAAa,OACX,QAAA,EACA,IAAA,EACe;QACf,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,YAAwC,OAA5B,mBAAmB,QAAQ,CAAC,GAAI;YACxE,QAAQ;YACR;QACF,CAAC;IACH;IAEA,MAAa,OAAO,QAAA,EAAiC;QACnD,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,YAAwC,OAA5B,mBAAmB,QAAQ,CAAC,GAAI;YACxE,QAAQ;QACV,CAAC;IACH;IA9BA,YAAoB,KAAA,CAA0B;sQAF9B;QAEI,IAAA,CAAA,KAAA,GAAA;QAClB,IAAA,CAAK,QAAA,GAAW,IAAI,4QAAA,CAA6B,KAAK;IACxD;AA6BF","debugId":null}},
    {"offset": {"line": 8940, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloudFiles.tsx"],"sourcesContent":["import { AssistantCloudAPI } from \"./AssistantCloudAPI\";\n\ntype PdfToImagesRequestBody = {\n  file_blob?: string | undefined;\n  file_url?: string | undefined;\n};\n\ntype PdfToImagesResponse = {\n  success: boolean;\n  urls: string[];\n  message: string;\n};\n\ntype GeneratePresignedUploadUrlRequestBody = {\n  filename: string;\n};\n\ntype GeneratePresignedUploadUrlResponse = {\n  success: boolean;\n  signedUrl: string;\n  expiresAt: string;\n  publicUrl: string;\n};\n\nexport class AssistantCloudFiles {\n  constructor(private cloud: AssistantCloudAPI) {}\n\n  public async pdfToImages(\n    body: PdfToImagesRequestBody,\n  ): Promise<PdfToImagesResponse> {\n    return this.cloud.makeRequest(\"/files/pdf-to-images\", {\n      method: \"POST\",\n      body,\n    });\n  }\n\n  public async generatePresignedUploadUrl(\n    body: GeneratePresignedUploadUrlRequestBody,\n  ): Promise<GeneratePresignedUploadUrlResponse> {\n    return this.cloud.makeRequest(\n      \"/files/attachments/generate-presigned-upload-url\",\n      {\n        method: \"POST\",\n        body,\n      },\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;AAwBO,IAAM,sBAAN,MAA0B;IAG/B,MAAa,YACX,IAAA,EAC8B;QAC9B,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,wBAAwB;YACpD,QAAQ;YACR;QACF,CAAC;IACH;IAEA,MAAa,2BACX,IAAA,EAC6C;QAC7C,OAAO,IAAA,CAAK,KAAA,CAAM,WAAA,CAChB,oDACA;YACE,QAAQ;YACR;QACF;IAEJ;IArBA,YAAoB,KAAA,CAA0B;QAA1B,IAAA,CAAA,KAAA,GAAA;IAA2B;AAsBjD","debugId":null}},
    {"offset": {"line": 8968, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/assistant-cloud%400.1.6/node_modules/assistant-cloud/src/AssistantCloud.tsx"],"sourcesContent":["import { AssistantCloudAPI, AssistantCloudConfig } from \"./AssistantCloudAPI\";\nimport { AssistantCloudAuthTokens } from \"./AssistantCloudAuthTokens\";\nimport { AssistantCloudRuns } from \"./AssistantCloudRuns\";\nimport { AssistantCloudThreads } from \"./AssistantCloudThreads\";\nimport { AssistantCloudFiles } from \"./AssistantCloudFiles\";\n\nexport class AssistantCloud {\n  public readonly threads;\n  public readonly auth;\n  public readonly runs;\n  public readonly files;\n\n  constructor(config: AssistantCloudConfig) {\n    const api = new AssistantCloudAPI(config);\n    this.threads = new AssistantCloudThreads(api);\n    this.auth = {\n      tokens: new AssistantCloudAuthTokens(api),\n    };\n    this.runs = new AssistantCloudRuns(api);\n    this.files = new AssistantCloudFiles(api);\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,yBAA+C;AACxD,SAAS,gCAAgC;AACzC,SAAS,0BAA0B;AACnC,SAAS,6BAA6B;AACtC,SAAS,2BAA2B;;;;;;;AAE7B,IAAM,iBAAN,MAAqB;IAM1B,YAAY,MAAA,CAA8B;qQAL1B;6PACA;kQACA;mQACA;QAGd,MAAM,MAAM,IAAI,sPAAA,CAAkB,MAAM;QACxC,IAAA,CAAK,OAAA,GAAU,IAAI,8PAAA,CAAsB,GAAG;QAC5C,IAAA,CAAK,IAAA,GAAO;YACV,QAAQ,IAAI,oQAAA,CAAyB,GAAG;QAC1C;QACA,IAAA,CAAK,IAAA,GAAO,IAAI,wPAAA,CAAmB,GAAG;QACtC,IAAA,CAAK,KAAA,GAAQ,IAAI,0PAAA,CAAoB,GAAG;IAC1C;AACF","debugId":null}},
    {"offset": {"line": 9006, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/nanoid%405.1.6/node_modules/nanoid/non-secure/index.js"],"sourcesContent":["/* @ts-self-types=\"./index.d.ts\" */\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AACjC,IAAI,cACF;AACK,IAAI,iBAAiB,SAAC;QAAU,+EAAc;IACnD,OAAO;YAAC,wEAAO;QACb,IAAI,KAAK;QACT,IAAI,IAAI,OAAO;QACf,MAAO,IAAK;YACV,MAAM,QAAQ,CAAC,AAAC,KAAK,MAAM,KAAK,SAAS,MAAM,GAAI,EAAE;QACvD;QACA,OAAO;IACT;AACF;AACO,IAAI,SAAS;QAAC,wEAAO;IAC1B,IAAI,KAAK;IACT,IAAI,IAAI,OAAO;IACf,MAAO,IAAK;QACV,MAAM,WAAW,CAAC,AAAC,KAAK,MAAM,KAAK,KAAM,EAAE;IAC7C;IACA,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9038, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/secure-json-parse%404.1.0/node_modules/secure-json-parse/index.js"],"sourcesContent":["'use strict'\n\nconst hasBuffer = typeof Buffer !== 'undefined'\nconst suspectProtoRx = /\"(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])\"\\s*:/\nconst suspectConstructorRx = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/\n\n/**\n * @description Internal parse function that parses JSON text with security checks.\n * @private\n * @param {string|Buffer} text - The JSON text string or Buffer to parse.\n * @param {Function} [reviver] - The JSON.parse() optional reviver argument.\n * @param {import('./types').ParseOptions} [options] - Optional configuration object.\n * @returns {*} The parsed object.\n * @throws {SyntaxError} If a forbidden prototype property is found and `options.protoAction` or\n * `options.constructorAction` is `'error'`.\n */\nfunction _parse (text, reviver, options) {\n  // Normalize arguments\n  if (options == null) {\n    if (reviver !== null && typeof reviver === 'object') {\n      options = reviver\n      reviver = undefined\n    }\n  }\n\n  if (hasBuffer && Buffer.isBuffer(text)) {\n    text = text.toString()\n  }\n\n  // BOM checker\n  if (text && text.charCodeAt(0) === 0xFEFF) {\n    text = text.slice(1)\n  }\n\n  // Parse normally, allowing exceptions\n  const obj = JSON.parse(text, reviver)\n\n  // Ignore null and non-objects\n  if (obj === null || typeof obj !== 'object') {\n    return obj\n  }\n\n  const protoAction = (options && options.protoAction) || 'error'\n  const constructorAction = (options && options.constructorAction) || 'error'\n\n  // options: 'error' (default) / 'remove' / 'ignore'\n  if (protoAction === 'ignore' && constructorAction === 'ignore') {\n    return obj\n  }\n\n  if (protoAction !== 'ignore' && constructorAction !== 'ignore') {\n    if (suspectProtoRx.test(text) === false && suspectConstructorRx.test(text) === false) {\n      return obj\n    }\n  } else if (protoAction !== 'ignore' && constructorAction === 'ignore') {\n    if (suspectProtoRx.test(text) === false) {\n      return obj\n    }\n  } else {\n    if (suspectConstructorRx.test(text) === false) {\n      return obj\n    }\n  }\n\n  // Scan result for proto keys\n  return filter(obj, { protoAction, constructorAction, safe: options && options.safe })\n}\n\n/**\n * @description Scans and filters an object for forbidden prototype properties.\n * @param {Object} obj - The object being scanned.\n * @param {import('./types').ParseOptions} [options] - Optional configuration object.\n * @returns {Object|null} The filtered object, or `null` if safe mode is enabled and issues are found.\n * @throws {SyntaxError} If a forbidden prototype property is found and `options.protoAction` or\n * `options.constructorAction` is `'error'`.\n */\nfunction filter (obj, { protoAction = 'error', constructorAction = 'error', safe } = {}) {\n  let next = [obj]\n\n  while (next.length) {\n    const nodes = next\n    next = []\n\n    for (const node of nodes) {\n      if (protoAction !== 'ignore' && Object.prototype.hasOwnProperty.call(node, '__proto__')) { // Avoid calling node.hasOwnProperty directly\n        if (safe === true) {\n          return null\n        } else if (protoAction === 'error') {\n          throw new SyntaxError('Object contains forbidden prototype property')\n        }\n\n        delete node.__proto__ // eslint-disable-line no-proto\n      }\n\n      if (constructorAction !== 'ignore' &&\n          Object.prototype.hasOwnProperty.call(node, 'constructor') &&\n          node.constructor !== null &&\n          typeof node.constructor === 'object' &&\n          Object.prototype.hasOwnProperty.call(node.constructor, 'prototype')) { // Avoid calling node.hasOwnProperty directly\n        if (safe === true) {\n          return null\n        } else if (constructorAction === 'error') {\n          throw new SyntaxError('Object contains forbidden prototype property')\n        }\n\n        delete node.constructor\n      }\n\n      for (const key in node) {\n        const value = node[key]\n        if (value && typeof value === 'object') {\n          next.push(value)\n        }\n      }\n    }\n  }\n  return obj\n}\n\n/**\n * @description Parses a given JSON-formatted text into an object.\n * @param {string|Buffer} text - The JSON text string or Buffer to parse.\n * @param {Function} [reviver] - The `JSON.parse()` optional reviver argument, or options object.\n * @param {import('./types').ParseOptions} [options] - Optional configuration object.\n * @returns {*} The parsed object.\n * @throws {SyntaxError} If the JSON text is malformed or contains forbidden prototype properties\n * when `options.protoAction` or `options.constructorAction` is `'error'`.\n */\nfunction parse (text, reviver, options) {\n  const { stackTraceLimit } = Error\n  Error.stackTraceLimit = 0\n  try {\n    return _parse(text, reviver, options)\n  } finally {\n    Error.stackTraceLimit = stackTraceLimit\n  }\n}\n\n/**\n * @description Safely parses a given JSON-formatted text into an object.\n * @param {string|Buffer} text - The JSON text string or Buffer to parse.\n * @param {Function} [reviver] - The `JSON.parse()` optional reviver argument.\n * @returns {*|null|undefined} The parsed object, `null` if security issues found, or `undefined` on parse error.\n */\nfunction safeParse (text, reviver) {\n  const { stackTraceLimit } = Error\n  Error.stackTraceLimit = 0\n  try {\n    return _parse(text, reviver, { safe: true })\n  } catch {\n    return undefined\n  } finally {\n    Error.stackTraceLimit = stackTraceLimit\n  }\n}\n\nmodule.exports = parse\nmodule.exports.default = parse\nmodule.exports.parse = parse\nmodule.exports.safeParse = safeParse\nmodule.exports.scan = filter\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9185, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40radix-ui%2Breact-use-callback-ref%401.1.1_%40types%2Breact%4019.2.2_react%4019.2.0/node_modules/%40radix-ui/react-use-callback-ref/src/use-callback-ref.tsx"],"sourcesContent":["import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n"],"names":[],"mappings":";;;;;AAAA,YAAY,WAAW;;AAMvB,SAAS,eAAkD,QAAA,EAA4B;IACrF,MAAM,cAAoB,8UAAA,CAAO,QAAQ;IAEnC,iVAAA;oCAAU,MAAM;YACpB,YAAY,OAAA,GAAU;QACxB,CAAC;;IAGD,OAAa,+UAAA;kCAAQ;0CAAO;;wBAAI;;;+DAAqB,OAAA,GAAU,gFAAtB,gBAAyB,IAAI;;;iCAAS,CAAC,CAAC;AACnF","debugId":null}},
    {"offset": {"line": 9217, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/utils/sliceMessagesUntil.tsx"],"sourcesContent":["import type { UIMessage } from \"ai\";\n\nexport const sliceMessagesUntil = <UI_MESSAGE extends UIMessage = UIMessage>(\n  messages: UI_MESSAGE[],\n  messageId: string | null,\n) => {\n  if (messageId == null) return [];\n\n  let messageIdx = messages.findIndex((m) => m.id === messageId);\n  if (messageIdx === -1)\n    throw new Error(\n      \"useVercelAIThreadState: Message not found. This is likely an internal bug in assistant-ui.\",\n    );\n\n  while (messages[messageIdx + 1]?.role === \"assistant\") {\n    messageIdx++;\n  }\n\n  return messages.slice(0, messageIdx + 1);\n};\n"],"names":[],"mappings":";;;;;AAEO,IAAM,qBAAqB,CAChC,UACA,cACG;;IACH,IAAI,aAAa,KAAM,CAAA,OAAO,CAAC,CAAA;IAE/B,IAAI,aAAa,SAAS,SAAA,CAAU,CAAC,IAAM,EAAE,EAAA,KAAO,SAAS;IAC7D,IAAI,eAAe,CAAA,GACjB,MAAM,IAAI,MACR;IAGJ,6BAAO,CAAS,aAAa,CAAC,CAAA,+CAAvB,WAA0B,IAAA,MAAS,YAAa;QACrD;IACF;IAEA,OAAO,SAAS,KAAA,CAAM,GAAG,aAAa,CAAC;AACzC","debugId":null}},
    {"offset": {"line": 9238, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/utils/toCreateMessage.ts"],"sourcesContent":["import { AppendMessage } from \"@assistant-ui/react\";\nimport {\n  CreateUIMessage,\n  generateId,\n  UIDataTypes,\n  UIMessage,\n  UIMessagePart,\n  UITools,\n} from \"ai\";\n\nexport const toCreateMessage = <UI_MESSAGE extends UIMessage = UIMessage>(\n  message: AppendMessage,\n): CreateUIMessage<UI_MESSAGE> => {\n  const inputParts = [\n    ...message.content.filter((c) => c.type !== \"file\"),\n    ...(message.attachments?.flatMap((a) =>\n      a.content.map((c) => ({\n        ...c,\n        filename: a.name,\n      })),\n    ) ?? []),\n  ];\n\n  const parts = inputParts.map((part): UIMessagePart<UIDataTypes, UITools> => {\n    switch (part.type) {\n      case \"text\":\n        return {\n          type: \"text\",\n          text: part.text,\n        };\n      case \"image\":\n        return {\n          type: \"file\",\n          url: part.image,\n          ...(part.filename && { filename: part.filename }),\n          mediaType: \"image/png\",\n        };\n      case \"file\":\n        return {\n          type: \"file\",\n          url: part.data,\n          mediaType: part.mimeType,\n          ...(part.filename && { filename: part.filename }),\n        };\n      default:\n        throw new Error(`Unsupported part type: ${part.type}`);\n    }\n  });\n\n  return {\n    id: generateId(),\n    role: message.role,\n    parts,\n  } satisfies CreateUIMessage<UIMessage> as CreateUIMessage<UI_MESSAGE>;\n};\n"],"names":[],"mappings":";;;;;AACA;;AASO,IAAM,kBAAkB,CAC7B,YACgC;;QAG1B;IAFN,MAAM,aAAa;WACd,QAAQ,OAAA,CAAQ,MAAA,CAAO,CAAC,IAAM,EAAE,IAAA,KAAS,MAAM;2EACtC,WAAA,8EAAa,OAAA,CAAQ,CAAC,IAChC,EAAE,OAAA,CAAQ,GAAA,CAAI,CAAC,IAAA,CAAO;oBACpB,GAAG,CAAA;oBACH,UAAU,EAAE,IAAA;gBACd,CAAA,CAAE,yFACC,CAAC,CAAA;KACR;IAEA,MAAM,QAAQ,WAAW,GAAA,CAAI,CAAC,SAA8C;QAC1E,OAAQ,KAAK,IAAA,EAAM;YACjB,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,MAAM,KAAK,IAAA;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,KAAK,KAAK,KAAA;oBACV,GAAI,KAAK,QAAA,IAAY;wBAAE,UAAU,KAAK,QAAA;oBAAS,CAAA;oBAC/C,WAAW;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,KAAK,KAAK,IAAA;oBACV,WAAW,KAAK,QAAA;oBAChB,GAAI,KAAK,QAAA,IAAY;wBAAE,UAAU,KAAK,QAAA;oBAAS,CAAA;gBACjD;YACF;gBACE,MAAM,IAAI,MAAM,0BAAmC,CAAE,MAAX,KAAK,IAAI;QACvD;IACF,CAAC;IAED,OAAO;QACL,QAAI,qSAAA,CAAW;QACf,MAAM,QAAQ,IAAA;QACd;IACF;AACF","debugId":null}},
    {"offset": {"line": 9296, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/utils/vercelAttachmentAdapter.ts"],"sourcesContent":["import { AttachmentAdapter } from \"@assistant-ui/react\";\nimport { generateId } from \"ai\";\n\nconst getFileDataURL = (file: File) =>\n  new Promise<string>((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = (error) => reject(error);\n\n    reader.readAsDataURL(file);\n  });\n\nexport const vercelAttachmentAdapter: AttachmentAdapter = {\n  accept:\n    \"image/*, text/plain, text/html, text/markdown, text/csv, text/xml, text/json, text/css\",\n  async add({ file }) {\n    return {\n      id: generateId(),\n      type: file.type.startsWith(\"image/\") ? \"image\" : \"file\",\n      name: file.name,\n      file,\n      contentType: file.type,\n      content: [],\n      status: { type: \"requires-action\", reason: \"composer-send\" },\n    };\n  },\n  async send(attachment) {\n    // noop\n    return {\n      ...attachment,\n      status: { type: \"complete\" },\n      content: [\n        {\n          type: \"file\",\n          mimeType: attachment.contentType,\n          filename: attachment.name,\n          data: await getFileDataURL(attachment.file),\n        },\n      ],\n    };\n  },\n  async remove() {\n    // noop\n  },\n};\n"],"names":[],"mappings":";;;;;AACA,SAAS,kBAAkB;;AAE3B,IAAM,iBAAiB,CAAC,OACtB,IAAI,QAAgB,CAAC,SAAS,WAAW;QACvC,MAAM,SAAS,IAAI,WAAW;QAE9B,OAAO,MAAA,GAAS,IAAM,QAAQ,OAAO,MAAgB;QACrD,OAAO,OAAA,GAAU,CAAC,QAAU,OAAO,KAAK;QAExC,OAAO,aAAA,CAAc,IAAI;IAC3B,CAAC;AAEI,IAAM,0BAA6C;IACxD,QACE;IACF,MAAM,UAAW;cAAL,IAAA,CAAK,CAAA,EAAG,CAAV;QACR,OAAO;YACL,QAAI,qSAAA,CAAW;YACf,MAAM,KAAK,IAAA,CAAK,UAAA,CAAW,QAAQ,IAAI,UAAU;YACjD,MAAM,KAAK,IAAA;YACX;YACA,aAAa,KAAK,IAAA;YAClB,SAAS,CAAC,CAAA;YACV,QAAQ;gBAAE,MAAM;gBAAmB,QAAQ;YAAgB;QAC7D;IACF;IACA,MAAM,MAAK,UAAA,EAAY;QAErB,OAAO;YACL,GAAG,UAAA;YACH,QAAQ;gBAAE,MAAM;YAAW;YAC3B,SAAS;gBACP;oBACE,MAAM;oBACN,UAAU,WAAW,WAAA;oBACrB,UAAU,WAAW,IAAA;oBACrB,MAAM,MAAM,eAAe,WAAW,IAAI;gBAC5C;aACF;QACF;IACF;IACA,MAAM,SAAS,EAEf;AACF","debugId":null}},
    {"offset": {"line": 9350, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/getVercelAIMessages.tsx"],"sourcesContent":["import {\n  getExternalStoreMessages,\n  type ThreadMessage,\n} from \"@assistant-ui/react\";\nimport type { UIMessage } from \"ai\";\n\nexport const getVercelAIMessages = <UI_MESSAGE extends UIMessage = UIMessage>(\n  message: ThreadMessage,\n) => {\n  return getExternalStoreMessages(message) as UI_MESSAGE[];\n};\n"],"names":[],"mappings":";;;;;AAAA;;AAMO,IAAM,sBAAsB,CACjC,YACG;IACH,WAAO,oeAAA,EAAyB,OAAO;AACzC","debugId":null}},
    {"offset": {"line": 9366, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/utils/convertMessage.ts"],"sourcesContent":["import { isToolUIPart, UIMessage } from \"ai\";\nimport {\n  unstable_createMessageConverter,\n  type ReasoningMessagePart,\n  type ToolCallMessagePart,\n  type TextMessagePart,\n  type SourceMessagePart,\n  type useExternalMessageConverter,\n} from \"@assistant-ui/react\";\n\nfunction stripClosingDelimiters(json: string) {\n  return json.replace(/[}\\]\"]+$/, \"\");\n}\n\nconst convertParts = (\n  message: UIMessage,\n  metadata: useExternalMessageConverter.Metadata,\n) => {\n  if (!message.parts || message.parts.length === 0) {\n    return [];\n  }\n\n  return message.parts\n    .filter((p) => p.type !== \"step-start\" && p.type !== \"file\")\n    .map((part) => {\n      const type = part.type;\n\n      // Handle text parts\n      if (type === \"text\") {\n        return {\n          type: \"text\",\n          text: part.text,\n        } satisfies TextMessagePart;\n      }\n\n      // Handle reasoning parts\n      if (type === \"reasoning\") {\n        return {\n          type: \"reasoning\",\n          text: part.text,\n        } satisfies ReasoningMessagePart;\n      }\n\n      // Handle tool-* parts (AI SDK v5 tool calls)\n      if (isToolUIPart(part)) {\n        const toolName = type.replace(\"tool-\", \"\");\n        const toolCallId = part.toolCallId;\n\n        // Extract args and result based on state\n        let args: any = {};\n        let result: any = undefined;\n        let isError = false;\n\n        if (\n          part.state === \"input-streaming\" ||\n          part.state === \"input-available\"\n        ) {\n          args = part.input || {};\n        } else if (part.state === \"output-available\") {\n          args = part.input || {};\n          result = part.output;\n        } else if (part.state === \"output-error\") {\n          args = part.input || {};\n          isError = true;\n          result = { error: part.errorText };\n        }\n\n        let argsText = JSON.stringify(args);\n        if (part.state === \"input-streaming\") {\n          // the argsText is not complete, so we need to strip the closing delimiters\n          // these are added by the AI SDK in fix-json\n          argsText = stripClosingDelimiters(argsText);\n        }\n\n        const toolStatus = metadata.toolStatuses?.[toolCallId];\n        return {\n          type: \"tool-call\",\n          toolName,\n          toolCallId,\n          argsText,\n          args,\n          result,\n          isError,\n          ...(toolStatus?.type === \"interrupt\" && {\n            interrupt: toolStatus.payload,\n            status: {\n              type: \"requires-action\" as const,\n              reason: \"interrupt\",\n            },\n          }),\n        } satisfies ToolCallMessagePart;\n      }\n\n      // Handle dynamic-tool parts\n      if (type === \"dynamic-tool\") {\n        const toolName = part.toolName;\n        const toolCallId = part.toolCallId;\n\n        // Extract args and result based on state\n        let args: any = {};\n        let result: any = undefined;\n        let isError = false;\n\n        if (\n          part.state === \"input-streaming\" ||\n          part.state === \"input-available\"\n        ) {\n          args = part.input || {};\n        } else if (part.state === \"output-available\") {\n          args = part.input || {};\n          result = part.output;\n        } else if (part.state === \"output-error\") {\n          args = part.input || {};\n          isError = true;\n          result = { error: part.errorText };\n        }\n\n        const toolStatus = metadata.toolStatuses?.[toolCallId];\n        return {\n          type: \"tool-call\",\n          toolName,\n          toolCallId,\n          argsText: JSON.stringify(args),\n          args,\n          result,\n          isError,\n          ...(toolStatus?.type === \"interrupt\" && {\n            interrupt: toolStatus.payload,\n            status: {\n              type: \"requires-action\" as const,\n              reason: \"interrupt\",\n            },\n          }),\n        } satisfies ToolCallMessagePart;\n      }\n\n      // Handle source-url parts\n      if (type === \"source-url\") {\n        return {\n          type: \"source\",\n          sourceType: \"url\",\n          id: part.sourceId,\n          url: part.url,\n          title: part.title || \"\",\n        } satisfies SourceMessagePart;\n      }\n\n      // Handle source-document parts\n      if (type === \"source-document\") {\n        console.warn(\n          `Source document part type ${type} is not yet supported in conversion`,\n        );\n        return null;\n      }\n\n      // Handle data-* parts (AI SDK v5 data parts)\n      if (type.startsWith(\"data-\")) {\n        // For now, we'll skip data parts as they don't have a direct equivalent\n        // in the assistant-ui types. They could be converted to a custom message part\n        // or handled differently based on the specific use case.\n        console.warn(\n          `Data part type ${type} is not yet supported in conversion`,\n        );\n        return null;\n      }\n\n      // For unsupported types, we'll skip them instead of throwing\n      console.warn(`Unsupported message part type: ${type}`);\n      return null;\n    })\n    .filter(Boolean) as any[];\n};\n\nexport const AISDKMessageConverter = unstable_createMessageConverter(\n  (message: UIMessage, metadata: useExternalMessageConverter.Metadata) => {\n    // UIMessage doesn't have createdAt, so we'll use current date or undefined\n    const createdAt = new Date();\n    switch (message.role) {\n      case \"user\":\n        return {\n          role: \"user\",\n          id: message.id,\n          createdAt,\n          content: convertParts(message, metadata),\n          attachments: message.parts\n            ?.filter((p) => p.type === \"file\")\n            .map((part, idx) => {\n              return {\n                id: idx.toString(),\n                type: part.mediaType.startsWith(\"image/\") ? \"image\" : \"file\",\n                name: part.filename ?? \"file\",\n                content: [\n                  part.mediaType.startsWith(\"image/\")\n                    ? {\n                        type: \"image\",\n                        image: part.url,\n                        filename: part.filename!,\n                      }\n                    : {\n                        type: \"file\",\n                        filename: part.filename!,\n                        data: part.url,\n                        mimeType: part.mediaType,\n                      },\n                ],\n                contentType: part.mediaType ?? \"unknown/unknown\",\n                status: { type: \"complete\" as const },\n              };\n            }),\n        };\n\n      case \"system\":\n        return {\n          role: \"system\",\n          id: message.id,\n          createdAt,\n          content: convertParts(message, metadata),\n        };\n\n      case \"assistant\":\n        return {\n          role: \"assistant\",\n          id: message.id,\n          createdAt,\n          content: convertParts(message, metadata),\n          metadata: {\n            unstable_annotations: (message as any).annotations,\n            unstable_data: Array.isArray((message as any).data)\n              ? (message as any).data\n              : (message as any).data\n                ? [(message as any).data]\n                : undefined,\n            custom: {},\n          },\n        };\n\n      default:\n        console.warn(`Unsupported message role: ${message.role}`);\n        return [];\n    }\n  },\n);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9562, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/adapters/aiSDKFormatAdapter.ts"],"sourcesContent":["import { UIMessage } from \"ai\";\nimport {\n  MessageFormatAdapter,\n  MessageFormatItem,\n  MessageStorageEntry,\n} from \"@assistant-ui/react\";\n\n// Storage format for AI SDK messages - just the UIMessage\nexport type AISDKStorageFormat = Omit<UIMessage, \"id\">;\n\nexport const aiSDKV5FormatAdapter: MessageFormatAdapter<\n  UIMessage,\n  AISDKStorageFormat\n> = {\n  format: \"ai-sdk/v5\",\n\n  encode({\n    message: { id, parts, ...message },\n  }: MessageFormatItem<UIMessage>): AISDKStorageFormat {\n    // Filter out FileContentParts until they are supported\n    return {\n      ...message,\n      parts: parts.filter((part) => part.type !== \"file\"),\n    };\n  },\n\n  decode(\n    stored: MessageStorageEntry<AISDKStorageFormat>,\n  ): MessageFormatItem<UIMessage> {\n    return {\n      parentId: stored.parent_id,\n      message: {\n        id: stored.id,\n        ...stored.content,\n      },\n    };\n  },\n\n  getId(message: UIMessage): string {\n    return message.id;\n  },\n};\n"],"names":[],"mappings":";;;;;AAUO,IAAM,uBAGT;IACF,QAAQ;IAER,QAAO,KAEP,EAAqD;cADnD,SAAS,EAAE,EAAA,EAAI,KAAA,EAAO,GAAG,QAAQ,CAAA,EACnC;QAEE,OAAO;YACL,GAAG,OAAA;YACH,OAAO,MAAM,MAAA,CAAO,CAAC,OAAS,KAAK,IAAA,KAAS,MAAM;QACpD;IACF;IAEA,QACE,MAAA,EAC8B;QAC9B,OAAO;YACL,UAAU,OAAO,SAAA;YACjB,SAAS;gBACP,IAAI,OAAO,EAAA;gBACX,GAAG,OAAO,OAAA;YACZ;QACF;IACF;IAEA,OAAM,OAAA,EAA4B;QAChC,OAAO,QAAQ,EAAA;IACjB;AACF","debugId":null}},
    {"offset": {"line": 9595, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/use-chat/useExternalHistory.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  AssistantRuntime,\n  ThreadHistoryAdapter,\n  ThreadMessage,\n  MessageFormatAdapter,\n  getExternalStoreMessages,\n  MessageFormatRepository,\n  ExportedMessageRepository,\n  INTERNAL,\n  useAssistantApi,\n} from \"@assistant-ui/react\";\nimport { useRef, useEffect, useState, RefObject, useCallback } from \"react\";\n\nconst { MessageRepository } = INTERNAL;\n\nexport const toExportedMessageRepository = <TMessage,>(\n  toThreadMessages: (messages: TMessage[]) => ThreadMessage[],\n  messages: MessageFormatRepository<TMessage>,\n): ExportedMessageRepository => {\n  return {\n    headId: messages.headId!,\n    messages: messages.messages.map((m) => {\n      const message = toThreadMessages([m.message])[0]!;\n      return {\n        ...m,\n        message,\n      };\n    }),\n  };\n};\n\nexport const useExternalHistory = <TMessage,>(\n  runtimeRef: RefObject<AssistantRuntime>,\n  historyAdapter: ThreadHistoryAdapter | undefined,\n  toThreadMessages: (messages: TMessage[]) => ThreadMessage[],\n  storageFormatAdapter: MessageFormatAdapter<TMessage, any>,\n  onSetMessages: (messages: TMessage[]) => void,\n) => {\n  const loadedRef = useRef(false);\n\n  const api = useAssistantApi();\n  const optionalThreadListItem = useCallback(\n    () => (api.threadListItem.source ? api.threadListItem() : null),\n    [api],\n  );\n\n  const [isLoading, setIsLoading] = useState(\n    // we only load history if there is a remote id\n    () => optionalThreadListItem()?.getState().remoteId !== undefined,\n  );\n\n  const historyIds = useRef(new Set<string>());\n\n  const onSetMessagesRef = useRef<typeof onSetMessages>(() => onSetMessages);\n  useEffect(() => {\n    onSetMessagesRef.current = onSetMessages;\n  });\n\n  // Load messages from history adapter on mount\n  useEffect(() => {\n    if (!historyAdapter || loadedRef.current) return;\n\n    const loadHistory = async () => {\n      setIsLoading(true);\n      try {\n        const repo = await historyAdapter\n          .withFormat?.(storageFormatAdapter)\n          .load();\n        if (repo && repo.messages.length > 0) {\n          const converted = toExportedMessageRepository(toThreadMessages, repo);\n          runtimeRef.current.thread.import(converted);\n\n          const tempRepo = new MessageRepository();\n          tempRepo.import(converted);\n          const messages = tempRepo.getMessages();\n\n          onSetMessagesRef.current(\n            messages.map(getExternalStoreMessages<TMessage>).flat(),\n          );\n\n          historyIds.current = new Set(\n            converted.messages.map((m) => m.message.id),\n          );\n        }\n      } catch (error) {\n        console.error(\"Failed to load message history:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (!loadedRef.current) {\n      loadedRef.current = true;\n      if (!optionalThreadListItem()?.getState().remoteId) {\n        setIsLoading(false);\n        return;\n      }\n\n      loadHistory();\n    }\n  }, [\n    api,\n    historyAdapter,\n    storageFormatAdapter,\n    toThreadMessages,\n    runtimeRef,\n    optionalThreadListItem,\n  ]);\n\n  useEffect(() => {\n    return runtimeRef.current.thread.subscribe(async () => {\n      const { messages, isRunning } = runtimeRef.current.thread.getState();\n      if (isRunning) return;\n\n      for (let i = 0; i < messages.length; i++) {\n        const message = messages[i]!;\n        if (\n          message.status === undefined ||\n          message.status.type === \"complete\" ||\n          message.status.type === \"incomplete\"\n        ) {\n          if (historyIds.current.has(message.id)) continue;\n          historyIds.current.add(message.id);\n\n          const parentId = i > 0 ? messages[i - 1]!.id : null;\n          await historyAdapter?.withFormat?.(storageFormatAdapter).append({\n            parentId,\n            message: getExternalStoreMessages<TMessage>(message)[0]!,\n          });\n        }\n      }\n    });\n  }, [historyAdapter, storageFormatAdapter, runtimeRef]);\n\n  return isLoading;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9728, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/use-chat/useAISDKRuntime.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport type { UIMessage, useChat } from \"@ai-sdk/react\";\nimport {\n  useExternalStoreRuntime,\n  ExternalStoreAdapter,\n  ThreadHistoryAdapter,\n  AssistantRuntime,\n  ThreadMessage,\n  MessageFormatAdapter,\n  useRuntimeAdapters,\n  INTERNAL,\n  type ToolExecutionStatus,\n} from \"@assistant-ui/react\";\nimport { sliceMessagesUntil } from \"../utils/sliceMessagesUntil\";\nimport { toCreateMessage } from \"../utils/toCreateMessage\";\nimport { vercelAttachmentAdapter } from \"../utils/vercelAttachmentAdapter\";\nimport { getVercelAIMessages } from \"../getVercelAIMessages\";\nimport { AISDKMessageConverter } from \"../utils/convertMessage\";\nimport {\n  AISDKStorageFormat,\n  aiSDKV5FormatAdapter,\n} from \"../adapters/aiSDKFormatAdapter\";\nimport { useExternalHistory } from \"./useExternalHistory\";\n\nexport type AISDKRuntimeAdapter = {\n  adapters?:\n    | (NonNullable<ExternalStoreAdapter[\"adapters\"]> & {\n        history?: ThreadHistoryAdapter | undefined;\n      })\n    | undefined;\n};\n\nexport const useAISDKRuntime = <UI_MESSAGE extends UIMessage = UIMessage>(\n  chatHelpers: ReturnType<typeof useChat<UI_MESSAGE>>,\n  { adapters }: AISDKRuntimeAdapter = {},\n) => {\n  const contextAdapters = useRuntimeAdapters();\n  const isRunning =\n    chatHelpers.status === \"submitted\" || chatHelpers.status == \"streaming\";\n\n  const [toolStatuses, setToolStatuses] = useState<\n    Record<string, ToolExecutionStatus>\n  >({});\n\n  const messages = AISDKMessageConverter.useThreadMessages({\n    isRunning,\n    messages: chatHelpers.messages,\n    metadata: useMemo(\n      () => ({\n        toolStatuses,\n        ...(chatHelpers.error && { error: chatHelpers.error.message }),\n      }),\n      [toolStatuses, chatHelpers.error],\n    ),\n  });\n\n  const [runtimeRef] = useState(() => ({\n    get current(): AssistantRuntime {\n      return runtime;\n    },\n  }));\n\n  const toolInvocations = INTERNAL.useToolInvocations({\n    state: {\n      messages,\n      isRunning,\n    },\n    getTools: () => runtimeRef.current.thread.getModelContext().tools,\n    onResult: (command: any) => {\n      if (command.type === \"add-tool-result\") {\n        chatHelpers.addToolResult({\n          tool: command.toolName,\n          toolCallId: command.toolCallId,\n          output: command.result,\n        });\n      }\n    },\n    setToolStatuses,\n  });\n\n  const isLoading = useExternalHistory(\n    runtimeRef,\n    adapters?.history ?? contextAdapters?.history,\n    AISDKMessageConverter.toThreadMessages as (\n      messages: UI_MESSAGE[],\n    ) => ThreadMessage[],\n    aiSDKV5FormatAdapter as MessageFormatAdapter<\n      UI_MESSAGE,\n      AISDKStorageFormat\n    >,\n    (messages) => {\n      chatHelpers.setMessages(messages);\n    },\n  );\n\n  const runtime = useExternalStoreRuntime({\n    isRunning,\n    messages,\n    setMessages: (messages) =>\n      chatHelpers.setMessages(\n        messages\n          .map(getVercelAIMessages<UI_MESSAGE>)\n          .filter(Boolean)\n          .flat(),\n      ),\n    onImport: (messages) =>\n      chatHelpers.setMessages(\n        messages\n          .map(getVercelAIMessages<UI_MESSAGE>)\n          .filter(Boolean)\n          .flat(),\n      ),\n    onCancel: async () => {\n      chatHelpers.stop();\n      toolInvocations.abort();\n    },\n    onNew: async (message) => {\n      const createMessage = toCreateMessage<UI_MESSAGE>(message);\n      await chatHelpers.sendMessage(createMessage, {\n        metadata: message.runConfig,\n      });\n    },\n    onEdit: async (message) => {\n      const newMessages = sliceMessagesUntil(\n        chatHelpers.messages,\n        message.parentId,\n      );\n      chatHelpers.setMessages(newMessages);\n\n      const createMessage = toCreateMessage<UI_MESSAGE>(message);\n      await chatHelpers.sendMessage(createMessage, {\n        metadata: message.runConfig,\n      });\n    },\n    onReload: async (parentId: string | null, config) => {\n      const newMessages = sliceMessagesUntil(chatHelpers.messages, parentId);\n      chatHelpers.setMessages(newMessages);\n\n      await chatHelpers.regenerate({ metadata: config.runConfig });\n    },\n    onAddToolResult: ({ toolCallId, result }) => {\n      chatHelpers.addToolResult({\n        tool: toolCallId,\n        toolCallId,\n        output: result,\n      });\n    },\n    onResumeToolCall: (options) =>\n      toolInvocations.resume(options.toolCallId, options.payload),\n    adapters: {\n      attachments: vercelAttachmentAdapter,\n      ...contextAdapters,\n      ...adapters,\n    },\n    isLoading,\n  });\n\n  return runtime;\n};\n"],"names":["messages"],"mappings":"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","debugId":null}},
    {"offset": {"line": 9878, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/use-chat/AssistantChatTransport.tsx"],"sourcesContent":["import { AssistantRuntime, Tool } from \"@assistant-ui/react\";\nimport {\n  DefaultChatTransport,\n  HttpChatTransportInitOptions,\n  JSONSchema7,\n  UIMessage,\n} from \"ai\";\nimport z from \"zod\";\n\nconst toAISDKTools = (tools: Record<string, Tool>) => {\n  return Object.fromEntries(\n    Object.entries(tools).map(([name, tool]) => [\n      name,\n      {\n        ...(tool.description ? { description: tool.description } : undefined),\n        parameters: (tool.parameters instanceof z.ZodType\n          ? z.toJSONSchema(tool.parameters)\n          : tool.parameters) as JSONSchema7,\n      },\n    ]),\n  );\n};\n\nconst getEnabledTools = (tools: Record<string, Tool>) => {\n  return Object.fromEntries(\n    Object.entries(tools).filter(\n      ([, tool]) => !tool.disabled && tool.type !== \"backend\",\n    ),\n  );\n};\n\nexport class AssistantChatTransport<\n  UI_MESSAGE extends UIMessage,\n> extends DefaultChatTransport<UI_MESSAGE> {\n  private runtime: AssistantRuntime | undefined;\n  constructor(initOptions?: HttpChatTransportInitOptions<UI_MESSAGE>) {\n    super({\n      ...initOptions,\n      prepareSendMessagesRequest: async (options) => {\n        const context = this.runtime?.thread.getModelContext();\n        const id =\n          (await this.runtime?.threads.mainItem.initialize())?.remoteId ??\n          options.id;\n\n        const optionsEx = {\n          ...options,\n          body: {\n            callSettings: context?.callSettings,\n            system: context?.system,\n            tools: toAISDKTools(getEnabledTools(context?.tools ?? {})),\n            ...options?.body,\n          },\n        };\n        const preparedRequest =\n          await initOptions?.prepareSendMessagesRequest?.(optionsEx);\n\n        return {\n          ...preparedRequest,\n          body: preparedRequest?.body ?? {\n            ...optionsEx.body,\n            id,\n            messages: options.messages,\n            trigger: options.trigger,\n            messageId: options.messageId,\n          },\n        };\n      },\n    });\n  }\n\n  setRuntime(runtime: AssistantRuntime) {\n    this.runtime = runtime;\n  }\n}\n"],"names":[],"mappings":";;;;;;AACA;AAMA,OAAO,OAAO;;;;AAEd,IAAM,eAAe,CAAC,UAAgC;IACpD,OAAO,OAAO,WAAA,CACZ,OAAO,OAAA,CAAQ,KAAK,EAAE,GAAA,CAAI;YAAC,CAAC,MAAM,IAAI,CAAA;eAAM;YAC1C;YACA;gBACE,GAAI,KAAK,WAAA,GAAc;oBAAE,aAAa,KAAK,WAAA;gBAAY,IAAI,KAAA,CAAA;gBAC3D,YAAa,KAAK,UAAA,YAAsB,2MAAA,CAAE,OAAA,GACtC,2MAAA,CAAE,YAAA,CAAa,KAAK,UAAU,IAC9B,KAAK,UAAA;YACX;SACD;;AAEL;AAEA,IAAM,kBAAkB,CAAC,UAAgC;IACvD,OAAO,OAAO,WAAA,CACZ,OAAO,OAAA,CAAQ,KAAK,EAAE,MAAA,CACpB;YAAC,CAAC,EAAE,IAAI,CAAA;eAAM,CAAC,KAAK,QAAA,IAAY,KAAK,IAAA,KAAS;;AAGpD;AAEO,IAAM,yBAAN,cAEG,mPAAA,CAAiC;IAqCzC,WAAW,OAAA,EAA2B;QACpC,IAAA,CAAK,OAAA,GAAU;IACjB;IArCA,YAAY,WAAA,CAAwD;QAClE,KAAA,CAAM;YACJ,GAAG,WAAA;YACH,4BAA4B,OAAO,YAAY;mCAEvC,OACG;gBAFT,MAAM,WAAU,oBAAA,CAAK,OAAA,gEAAS,MAAA,CAAO,eAAA,CAAgB;oBAC/C;gBAAN,MAAM,KAAA,CAAA,aAAA,QACH,6BAAM,CAAK,OAAA,kEAAS,OAAA,CAAQ,QAAA,CAAS,UAAA,CAAW,gBAD7C,4BAAA,MACiD,QAAA,cADjD,uBAAA,YAEJ,QAAQ,EAAA;;gBAEV,MAAM,YAAY;oBAChB,GAAG,OAAA;oBACH,MAAM;wBACJ,YAAA,oDAAc,QAAS,YAAA;wBACvB,MAAA,oDAAQ,QAAS,MAAA;wBACjB,OAAO,aAAa,4FAAyB,KAAA,0CAAT,iBAAkB,CAAC,CAAC,CAAC;6EACtD,QAAS,IAAZ,AAAY;oBACd;gBACF;gBACA,MAAM,kBACJ,wHAAmB,0BAAA,yHAAb,aAA0C,SAAS;;gBAE3D,OAAO;oBACL,GAAG,eAAA;oBACH,iHAAuB,IAAA,iDAAjB,wBAAyB;wBAC7B,GAAG,UAAU,IAAA;wBACb;wBACA,UAAU,QAAQ,QAAA;wBAClB,SAAS,QAAQ,OAAA;wBACjB,WAAW,QAAQ,SAAA;oBACrB;gBACF;YACF;QACF,CAAC,gQAjCK;IAkCR;AAKF","debugId":null}},
    {"offset": {"line": 9953, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/%40assistant-ui%2Breact-ai-sdk%401.1.9_%40assistant-ui%2Breact%400.11.37_%40types%2Breact-dom%4019.2.2_%40types%2Br_33hphprhob62dzty3jpsbnolpm/node_modules/%40assistant-ui/react-ai-sdk/src/ui/use-chat/useChatRuntime.tsx"],"sourcesContent":["\"use client\";\n\nimport { useChat, type UIMessage } from \"@ai-sdk/react\";\nimport type { AssistantCloud } from \"assistant-cloud\";\nimport {\n  AssistantRuntime,\n  unstable_useCloudThreadListAdapter,\n  unstable_useRemoteThreadListRuntime,\n  useAssistantState,\n} from \"@assistant-ui/react\";\nimport { useAISDKRuntime, type AISDKRuntimeAdapter } from \"./useAISDKRuntime\";\nimport { ChatInit } from \"ai\";\nimport { AssistantChatTransport } from \"./AssistantChatTransport\";\n\nexport type UseChatRuntimeOptions<UI_MESSAGE extends UIMessage = UIMessage> =\n  ChatInit<UI_MESSAGE> & {\n    cloud?: AssistantCloud | undefined;\n    adapters?: AISDKRuntimeAdapter[\"adapters\"] | undefined;\n  };\n\nexport const useChatThreadRuntime = <UI_MESSAGE extends UIMessage = UIMessage>(\n  options?: UseChatRuntimeOptions<UI_MESSAGE>,\n): AssistantRuntime => {\n  const {\n    adapters,\n    transport: transportOptions,\n    ...chatOptions\n  } = options ?? {};\n  const transport = transportOptions ?? new AssistantChatTransport();\n\n  const id = useAssistantState(({ threadListItem }) => threadListItem.id);\n  const chat = useChat({\n    ...chatOptions,\n    id,\n    transport,\n  });\n\n  const runtime = useAISDKRuntime(chat, {\n    adapters,\n  });\n\n  if (transport instanceof AssistantChatTransport) {\n    transport.setRuntime(runtime);\n  }\n\n  return runtime;\n};\n\nexport const useChatRuntime = <UI_MESSAGE extends UIMessage = UIMessage>({\n  cloud,\n  ...options\n}: UseChatRuntimeOptions<UI_MESSAGE> = {}): AssistantRuntime => {\n  const cloudAdapter = unstable_useCloudThreadListAdapter({ cloud });\n  return unstable_useRemoteThreadListRuntime({\n    runtimeHook: function RuntimeHook() {\n      return useChatThreadRuntime(options);\n    },\n    adapter: cloudAdapter,\n  });\n};\n"],"names":[],"mappings":";;;;;;;AAEA,SAAS,eAA+B;;;AAExC;AAMA,SAAS,uBAAiD;AAE1D,SAAS,8BAA8B;;;;;;AAQhC,IAAM,uBAAuB,CAClC,YACqB;IACrB,MAAM,EACJ,QAAA,EACA,WAAW,gBAAA,EACX,GAAG,aACL,4CAAI,UAAW,CAAC;IAChB,MAAM,YAAY,8EAAoB,IAAI,icAAA,CAAuB;IAEjE,MAAM,SAAK,sbAAA;sDAAkB;gBAAC,EAAE,cAAA,CAAe,CAAA;mBAAM,eAAe,EAAE;;;IACtE,MAAM,WAAO,gRAAA,EAAQ;QACnB,GAAG,WAAA;QACH;QACA;IACF,CAAC;IAED,MAAM,UAAU,ubAAA,EAAgB,MAAM;QACpC;IACF,CAAC;IAED,IAAI,qBAAqB,icAAA,EAAwB;QAC/C,UAAU,UAAA,CAAW,OAAO;IAC9B;IAEA,OAAO;AACT;AAEO,IAAM,iBAAiB;QAA2C,EACvE,KAAA,EACA,GAAG,SACL,oEAAuC,CAAC,MAAwB;IAC9D,MAAM,mBAAe,ikBAAA,EAAmC;QAAE;IAAM,CAAC;IACjE,WAAO,8kBAAA,EAAoC;QACzC,aAAa,SAAS,cAAc;YAClC,OAAO,qBAAqB,OAAO;QACrC;QACA,SAAS;IACX,CAAC;AACH","debugId":null}},
    {"offset": {"line": 10011, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/tslib%402.8.1/node_modules/tslib/tslib.es6.mjs"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10646, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/thingies%402.5.0_tslib%402.8.1/node_modules/thingies/lib/fanout.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FanOut = void 0;\nclass FanOut {\n    constructor() {\n        this.listeners = new Set();\n    }\n    emit(data) {\n        this.listeners.forEach((listener) => listener(data));\n    }\n    listen(listener) {\n        const listeners = this.listeners;\n        listeners.add(listener);\n        return () => listeners.delete(listener);\n    }\n}\nexports.FanOut = FanOut;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,MAAM,GAAG,KAAK;AACtB,MAAM;IAIF,KAAK,IAAI,EAAE;QACP,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,WAAa,SAAS;IAClD;IACA,OAAO,QAAQ,EAAE;QACb,MAAM,YAAY,IAAI,CAAC,SAAS;QAChC,UAAU,GAAG,CAAC;QACd,OAAO,IAAM,UAAU,MAAM,CAAC;IAClC;IAVA,aAAc;QACV,IAAI,CAAC,SAAS,GAAG,IAAI;IACzB;AASJ;AACA,QAAQ,MAAM,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10668, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/base64-js%401.5.1/node_modules/base64-js/index.js"],"sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n"],"names":[],"mappings":"AAEA,QAAQ,UAAU,GAAG;AACrB,QAAQ,WAAW,GAAG;AACtB,QAAQ,aAAa,GAAG;AAExB,IAAI,SAAS,EAAE;AACf,IAAI,YAAY,EAAE;AAClB,IAAI,MAAM,OAAO,eAAe,cAAc,aAAa;AAE3D,IAAI,OAAO;AACX,IAAK,IAAI,IAAI,GAAG,MAAM,KAAK,MAAM,EAAE,IAAI,KAAK,EAAE,EAAG;IAC/C,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE;IACnB,SAAS,CAAC,KAAK,UAAU,CAAC,GAAG,GAAG;AAClC;AAEA,6DAA6D;AAC7D,6DAA6D;AAC7D,SAAS,CAAC,IAAI,UAAU,CAAC,GAAG,GAAG;AAC/B,SAAS,CAAC,IAAI,UAAU,CAAC,GAAG,GAAG;AAE/B,SAAS,QAAS,GAAG;IACnB,IAAI,MAAM,IAAI,MAAM;IAEpB,IAAI,MAAM,IAAI,GAAG;QACf,MAAM,IAAI,MAAM;IAClB;IAEA,yDAAyD;IACzD,yDAAyD;IACzD,IAAI,WAAW,IAAI,OAAO,CAAC;IAC3B,IAAI,aAAa,CAAC,GAAG,WAAW;IAEhC,IAAI,kBAAkB,aAAa,MAC/B,IACA,IAAK,WAAW;IAEpB,OAAO;QAAC;QAAU;KAAgB;AACpC;AAEA,4DAA4D;AAC5D,SAAS,WAAY,GAAG;IACtB,IAAI,OAAO,QAAQ;IACnB,IAAI,WAAW,IAAI,CAAC,EAAE;IACtB,IAAI,kBAAkB,IAAI,CAAC,EAAE;IAC7B,OAAO,AAAC,CAAC,WAAW,eAAe,IAAI,IAAI,IAAK;AAClD;AAEA,SAAS,YAAa,GAAG,EAAE,QAAQ,EAAE,eAAe;IAClD,OAAO,AAAC,CAAC,WAAW,eAAe,IAAI,IAAI,IAAK;AAClD;AAEA,SAAS,YAAa,GAAG;IACvB,IAAI;IACJ,IAAI,OAAO,QAAQ;IACnB,IAAI,WAAW,IAAI,CAAC,EAAE;IACtB,IAAI,kBAAkB,IAAI,CAAC,EAAE;IAE7B,IAAI,MAAM,IAAI,IAAI,YAAY,KAAK,UAAU;IAE7C,IAAI,UAAU;IAEd,sEAAsE;IACtE,IAAI,MAAM,kBAAkB,IACxB,WAAW,IACX;IAEJ,IAAI;IACJ,IAAK,IAAI,GAAG,IAAI,KAAK,KAAK,EAAG;QAC3B,MACE,AAAC,SAAS,CAAC,IAAI,UAAU,CAAC,GAAG,IAAI,KAChC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,GAAG,IAAI,KACpC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,GAAG,IAAI,IACrC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,GAAG;QAClC,GAAG,CAAC,UAAU,GAAG,AAAC,OAAO,KAAM;QAC/B,GAAG,CAAC,UAAU,GAAG,AAAC,OAAO,IAAK;QAC9B,GAAG,CAAC,UAAU,GAAG,MAAM;IACzB;IAEA,IAAI,oBAAoB,GAAG;QACzB,MACE,AAAC,SAAS,CAAC,IAAI,UAAU,CAAC,GAAG,IAAI,IAChC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,GAAG,IAAI;QACvC,GAAG,CAAC,UAAU,GAAG,MAAM;IACzB;IAEA,IAAI,oBAAoB,GAAG;QACzB,MACE,AAAC,SAAS,CAAC,IAAI,UAAU,CAAC,GAAG,IAAI,KAChC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,GAAG,IAAI,IACpC,SAAS,CAAC,IAAI,UAAU,CAAC,IAAI,GAAG,IAAI;QACvC,GAAG,CAAC,UAAU,GAAG,AAAC,OAAO,IAAK;QAC9B,GAAG,CAAC,UAAU,GAAG,MAAM;IACzB;IAEA,OAAO;AACT;AAEA,SAAS,gBAAiB,GAAG;IAC3B,OAAO,MAAM,CAAC,OAAO,KAAK,KAAK,GAC7B,MAAM,CAAC,OAAO,KAAK,KAAK,GACxB,MAAM,CAAC,OAAO,IAAI,KAAK,GACvB,MAAM,CAAC,MAAM,KAAK;AACtB;AAEA,SAAS,YAAa,KAAK,EAAE,KAAK,EAAE,GAAG;IACrC,IAAI;IACJ,IAAI,SAAS,EAAE;IACf,IAAK,IAAI,IAAI,OAAO,IAAI,KAAK,KAAK,EAAG;QACnC,MACE,CAAC,AAAC,KAAK,CAAC,EAAE,IAAI,KAAM,QAAQ,IAC5B,CAAC,AAAC,KAAK,CAAC,IAAI,EAAE,IAAI,IAAK,MAAM,IAC7B,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,IAAI;QACtB,OAAO,IAAI,CAAC,gBAAgB;IAC9B;IACA,OAAO,OAAO,IAAI,CAAC;AACrB;AAEA,SAAS,cAAe,KAAK;IAC3B,IAAI;IACJ,IAAI,MAAM,MAAM,MAAM;IACtB,IAAI,aAAa,MAAM,EAAE,sCAAsC;;IAC/D,IAAI,QAAQ,EAAE;IACd,IAAI,iBAAiB,MAAM,wBAAwB;;IAEnD,+EAA+E;IAC/E,IAAK,IAAI,IAAI,GAAG,OAAO,MAAM,YAAY,IAAI,MAAM,KAAK,eAAgB;QACtE,MAAM,IAAI,CAAC,YAAY,OAAO,GAAG,AAAC,IAAI,iBAAkB,OAAO,OAAQ,IAAI;IAC7E;IAEA,sEAAsE;IACtE,IAAI,eAAe,GAAG;QACpB,MAAM,KAAK,CAAC,MAAM,EAAE;QACpB,MAAM,IAAI,CACR,MAAM,CAAC,OAAO,EAAE,GAChB,MAAM,CAAC,AAAC,OAAO,IAAK,KAAK,GACzB;IAEJ,OAAO,IAAI,eAAe,GAAG;QAC3B,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,KAAK,CAAC,MAAM,EAAE;QAC5C,MAAM,IAAI,CACR,MAAM,CAAC,OAAO,GAAG,GACjB,MAAM,CAAC,AAAC,OAAO,IAAK,KAAK,GACzB,MAAM,CAAC,AAAC,OAAO,IAAK,KAAK,GACzB;IAEJ;IAEA,OAAO,MAAM,IAAI,CAAC;AACpB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10772, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/ieee754%401.2.1/node_modules/ieee754/index.js"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10849, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/buffer%406.0.3/node_modules/buffer/index.js"],"sourcesContent":["/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12541, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/events%403.3.0/node_modules/events/events.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12947, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/tree-dump%401.1.0_tslib%402.8.1/node_modules/tree-dump/lib/printTree.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.printTree = void 0;\nconst printTree = (tab = '', children) => {\n    let str = '';\n    let last = children.length - 1;\n    for (; last >= 0; last--)\n        if (children[last])\n            break;\n    for (let i = 0; i <= last; i++) {\n        const fn = children[i];\n        if (!fn)\n            continue;\n        const isLast = i === last;\n        const child = fn(tab + (isLast ? ' ' : '') + '  ');\n        const branch = child ? (isLast ? '' : '') : '';\n        str += '\\n' + tab + branch + (child ? ' ' + child : '');\n    }\n    return str;\n};\nexports.printTree = printTree;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,SAAS,GAAG,KAAK;AACzB,MAAM,YAAY;QAAC,uEAAM,IAAI;IACzB,IAAI,MAAM;IACV,IAAI,OAAO,SAAS,MAAM,GAAG;IAC7B,MAAO,QAAQ,GAAG,OACd,IAAI,QAAQ,CAAC,KAAK,EACd;IACR,IAAK,IAAI,IAAI,GAAG,KAAK,MAAM,IAAK;QAC5B,MAAM,KAAK,QAAQ,CAAC,EAAE;QACtB,IAAI,CAAC,IACD;QACJ,MAAM,SAAS,MAAM;QACrB,MAAM,QAAQ,GAAG,MAAM,CAAC,SAAS,MAAM,GAAG,IAAI;QAC9C,MAAM,SAAS,QAAS,SAAS,OAAO,OAAQ;QAChD,OAAO,OAAO,MAAM,SAAS,CAAC,QAAQ,MAAM,QAAQ,EAAE;IAC1D;IACA,OAAO;AACX;AACA,QAAQ,SAAS,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12971, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/tree-dump%401.1.0_tslib%402.8.1/node_modules/tree-dump/lib/printBinary.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.printBinary = void 0;\nconst printBinary = (tab = '', children) => {\n    const left = children[0], right = children[1];\n    let str = '';\n    if (left)\n        str += '\\n' + tab + ' ' + left(tab + '  ');\n    if (right)\n        str += '\\n' + tab + ' ' + right(tab + '  ');\n    return str;\n};\nexports.printBinary = printBinary;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,WAAW,GAAG,KAAK;AAC3B,MAAM,cAAc;QAAC,uEAAM,IAAI;IAC3B,MAAM,OAAO,QAAQ,CAAC,EAAE,EAAE,QAAQ,QAAQ,CAAC,EAAE;IAC7C,IAAI,MAAM;IACV,IAAI,MACA,OAAO,OAAO,MAAM,OAAO,KAAK,MAAM;IAC1C,IAAI,OACA,OAAO,OAAO,MAAM,OAAO,MAAM,MAAM;IAC3C,OAAO;AACX;AACA,QAAQ,WAAW,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12988, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/tree-dump%401.1.0_tslib%402.8.1/node_modules/tree-dump/lib/printJson.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.printJson = void 0;\nconst printJson = (tab = '', json, space = 2) => (JSON.stringify(json, null, space) || 'nil').split('\\n').join('\\n' + tab);\nexports.printJson = printJson;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,SAAS,GAAG,KAAK;AACzB,MAAM,YAAY;QAAC,uEAAM,IAAI,qDAAM,yEAAQ;WAAM,CAAC,KAAK,SAAS,CAAC,MAAM,MAAM,UAAU,KAAK,EAAE,KAAK,CAAC,MAAM,IAAI,CAAC,OAAO;;AACtH,QAAQ,SAAS,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13001, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/tree-dump%401.1.0_tslib%402.8.1/node_modules/tree-dump/lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./printTree\"), exports);\ntslib_1.__exportStar(require(\"./printBinary\"), exports);\ntslib_1.__exportStar(require(\"./printJson\"), exports);\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,MAAM;AACN,QAAQ,YAAY,wJAAyB;AAC7C,QAAQ,YAAY,0JAA2B;AAC/C,QAAQ,YAAY,wJAAyB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13012, "column": 0}, "map": {"version":3,"sources":["file:///Users/nilsjacobsen/Work/monorepo/node_modules/.pnpm/glob-to-regex.js%401.2.0_tslib%402.8.1/node_modules/glob-to-regex.js/lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toMatcher = exports.toRegex = void 0;\nconst escapeRe = (ch) => (/[.^$+{}()|\\\\]/.test(ch) ? `\\\\${ch}` : ch);\n/**\n * Parse an extended glob pattern like ?(a|b|c)\n * Returns the regex string equivalent and the new index position\n */\nconst parseExtGlob = (pattern, startIdx, prefix, options) => {\n    let i = startIdx; // startIdx should be pointing at the character after '('\n    const parts = [];\n    let cur = '';\n    let depth = 1; // Track parenthesis depth for nested patterns\n    while (i < pattern.length && depth > 0) {\n        const ch = pattern[i];\n        if (ch === '(') {\n            depth++;\n            cur += ch;\n            i++;\n        }\n        else if (ch === ')') {\n            depth--;\n            if (depth === 0) {\n                // Found the closing parenthesis\n                parts.push(cur);\n                i++; // consume ')'\n                break;\n            }\n            else {\n                cur += ch;\n                i++;\n            }\n        }\n        else if (ch === '|' && depth === 1) {\n            // Pipe separator at top level of this extglob\n            parts.push(cur);\n            cur = '';\n            i++;\n        }\n        else {\n            cur += ch;\n            i++;\n        }\n    }\n    if (depth !== 0)\n        return; // Unclosed parenthesis\n    let alternatives = '';\n    const length = parts.length;\n    for (let j = 0; j < length; j++)\n        alternatives += (alternatives ? '|' : '') + (0, exports.toRegex)(parts[j], options).source.replace(/^\\^/, '').replace(/\\$$/, '');\n    switch (prefix) {\n        case '?': // zero or one\n            return [`(?:${alternatives})?`, i];\n        case '*': // zero or more\n            return [`(?:${alternatives})*`, i];\n        case '+': // one or more\n            return [`(?:${alternatives})+`, i];\n        case '@': // exactly one\n            return [`(?:${alternatives})`, i];\n        case '!': // none of (negative match)\n            // For negation, we need to match anything that doesn't match the pattern\n            // Use negative lookahead without consuming characters after\n            return [`(?!${alternatives})[^/]*`, i];\n    }\n    return;\n};\n/**\n * Convert a glob pattern to a regular expression\n *\n * Supports:\n * - `/` to separate path segments\n * - `*` to match zero or more characters in a path segment\n * - `?` to match one character in a path segment\n * - `**` to match any number of path segments, including none\n * - `{}` to group conditions (e.g. `{html,txt}`)\n * - `[abc]`, `[a-z]`, `[!a-z]`, `[!abc]` character classes\n * - Extended globbing (when `extglob: true` option is set):\n *   - `?(pattern-list)` zero or one occurrence\n *   - `*(pattern-list)` zero or more occurrences\n *   - `+(pattern-list)` one or more occurrences\n *   - `@(pattern-list)` exactly one of the patterns\n *   - `!(pattern-list)` anything except the patterns\n */\nconst toRegex = (pattern, options) => {\n    let regexStr = '';\n    let i = 0;\n    // Helper to parse a brace group like {a,b,c}. No nesting support.\n    const parseBraceGroup = () => {\n        // Assume current char is '{'\n        i++; // skip '{'\n        const parts = [];\n        let cur = '';\n        let closed = false;\n        while (i < pattern.length) {\n            const ch = pattern[i];\n            if (ch === '}') {\n                parts.push(cur);\n                i++; // consume '}'\n                closed = true;\n                break;\n            }\n            if (ch === ',') {\n                parts.push(cur);\n                cur = '';\n                i++;\n                continue;\n            }\n            cur += ch;\n            i++;\n        }\n        if (!closed) {\n            // treat as literal '{...'\n            return '\\\\{' + escapeRe(cur);\n        }\n        // Convert each part recursively to support globs inside braces\n        const alt = parts.map((p) => (0, exports.toRegex)(p, options).source.replace(/^\\^/, '').replace(/\\$$/, '')).join('|');\n        return `(?:${alt})`;\n    };\n    const extglob = !!options?.extglob;\n    while (i < pattern.length) {\n        const char = pattern[i];\n        // Check for extended glob patterns when extglob is enabled\n        if (extglob && pattern[i + 1] === '(') {\n            if (char === '?' || char === '*' || char === '+' || char === '@' || char === '!') {\n                const result = parseExtGlob(pattern, i + 2, char, options);\n                if (result) {\n                    regexStr += result[0];\n                    i = result[1];\n                    continue;\n                }\n                // If parse failed, fall through to normal handling\n            }\n        }\n        switch (char) {\n            case '*': {\n                // Check for double star **\n                if (pattern[i + 1] === '*') {\n                    // Collapse consecutive * beyond two (e.g., *** -> **)\n                    let j = i + 2;\n                    while (pattern[j] === '*')\n                        j++;\n                    // If followed by a slash, make it optional to allow zero segments\n                    if (pattern[j] === '/') {\n                        regexStr += '(?:.*/)?';\n                        i = j + 1; // consume **/\n                    }\n                    else {\n                        regexStr += '.*';\n                        i = j; // consume **\n                    }\n                }\n                else {\n                    regexStr += '[^/]*';\n                    i++;\n                }\n                break;\n            }\n            case '?':\n                regexStr += '[^/]';\n                i++;\n                break;\n            case '[': {\n                // Copy character class as-is with support for leading '!'\n                let cls = '[';\n                i++;\n                if (i < pattern.length && pattern[i] === '!') {\n                    cls += '^';\n                    i++;\n                }\n                // if first after [ or [^ is ']' include it literally\n                if (i < pattern.length && pattern[i] === ']') {\n                    cls += ']';\n                    i++;\n                }\n                while (i < pattern.length && pattern[i] !== ']') {\n                    const ch = pattern[i];\n                    // Escape backslash inside class\n                    cls += ch === '\\\\' ? '\\\\\\\\' : ch;\n                    i++;\n                }\n                if (i < pattern.length && pattern[i] === ']') {\n                    cls += ']';\n                    i++;\n                }\n                else {\n                    // Unclosed class -> treat '[' literally\n                    regexStr += '\\\\[';\n                    continue;\n                }\n                regexStr += cls;\n                break;\n            }\n            case '{': {\n                regexStr += parseBraceGroup();\n                break;\n            }\n            case '/':\n                regexStr += '/';\n                i++;\n                break;\n            case '.':\n            case '^':\n            case '$':\n            case '+':\n            case '(':\n            case ')':\n            case '|':\n            case '\\\\':\n                regexStr += `\\\\${char}`;\n                i++;\n                break;\n            default:\n                regexStr += char;\n                i++;\n                break;\n        }\n    }\n    const flags = options?.nocase ? 'i' : '';\n    return new RegExp('^' + regexStr + '$', flags);\n};\nexports.toRegex = toRegex;\nconst isRegExp = /^\\/(.{1,4096})\\/([gimsuy]{0,6})$/;\nconst toMatcher = (pattern, options) => {\n    const regexes = [];\n    const patterns = Array.isArray(pattern) ? pattern : [pattern];\n    for (const pat of patterns) {\n        if (typeof pat === 'string') {\n            const match = isRegExp.exec(pat);\n            if (match) {\n                const [, expr, flags] = match;\n                regexes.push(new RegExp(expr, flags));\n            }\n            else {\n                regexes.push((0, exports.toRegex)(pat, options));\n            }\n        }\n        else {\n            regexes.push(pat);\n        }\n    }\n    return regexes.length\n        ? new Function('p', 'return ' + regexes.map((r) => r + '.test(p)').join('||'))\n        : () => false;\n};\nexports.toMatcher = toMatcher;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}